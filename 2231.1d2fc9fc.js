(self.webpackChunkkas_ui=self.webpackChunkkas_ui||[]).push([[2231,273],{56176:function(e){e.exports=function(){"use strict";var e={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};return function(t,n,a){var o=n.prototype,s=o.format;a.en.formats=e,o.format=function(t){void 0===t&&(t="YYYY-MM-DDTHH:mm:ssZ");var n=this.$locale().formats,a=function(t,n){return t.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,(function(t,a,o){var s=o&&o.toUpperCase();return a||n[o]||e[o]||n[s].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,(function(e,t,n){return t||n.slice(1)}))}))}(t,void 0===n?{}:n);return s.call(this,a)}}}()},71958:()=>{},30273:(e,t,n)=>{"use strict";n.r(t),n.d(t,{DeleteInstance:()=>l,DeleteInstanceModal:()=>c,default:()=>d});var a=n(70655),o=n(48121),s=n.n(o),r=n(38936),i=n(45024),u=n(75381),l=function(){var e=(0,i.QK)(),t=e.store,n=e.hideModal,o=(0,a.__assign)((0,a.__assign)({},null==t?void 0:t.modalProps),{hideModal:n});return s().createElement(c,(0,a.__assign)({},o))},c=function(e){var t=e||{},n=t.title,l=t.confirmButtonProps,c=t.cancelButtonProps,d=t.textProps,f=t.instanceStatus,v=t.selectedItemData,p=t.onClose,m=t.hideModal,M=(0,r.useTranslation)().t,h=null==v?void 0:v.name,_=(0,o.useState)(),g=_[0],D=_[1],k=function(){return f===u.Od.READY&&(null==g?void 0:g.toLowerCase())!==(null==h?void 0:h.toLowerCase())};return s().createElement(i.AX,{isModalOpen:!0,title:n,confirmButtonProps:(0,a.__assign)({isDisabled:k(),"data-testid":"modalDeleteKafka-buttonDelete"},l),cancelButtonProps:c,handleModalToggle:function(){D(""),m(),p&&p()},textProps:d,selectedItemData:v,textInputProps:{showTextInput:f===u.Od.READY,label:M("instance_name_label",{name:h}),value:g,onChange:function(e){D(e)},onKeyPress:function(e){"Enter"!==e.key||k()||(null==l?void 0:l.onClick)&&l.onClick(v)},autoFocus:!0}})};const d=l},41486:(e,t,n)=>{"use strict";n.r(t),n.d(t,{DeleteInstanceConnected:()=>p,default:()=>m});var a=n(70655),o=n(48121),s=n.n(o),r=n(38936),i=n(58788),u=n(46748),l=n(365),c=n(45024),d=n(82904),f=n(30273),v=n(75381),p=function(){var e=(0,u.useAlert)().addAlert,t=(0,r.useTranslation)().t,n=(0,u.useAuth)(),p=(0,u.useConfig)().kas.apiBasePath,m=(0,c.QK)(),M=m.store,h=m.hideModal,_=(null==M?void 0:M.modalProps)||{},g=_.selectedItemData,D=_.onConnectToRoute,k=_.setIsOpenDeleteInstanceModal,Y=g||{},L=Y.status,C=Y.name,P=Y.id,w=(0,o.useState)(void 0),b=w[0],A=w[1],T=(0,o.useState)(!1),I=T[0],S=T[1],x=(0,l.ez)(t,L,C,b),y=x.title,B=x.confirmActionLabel,E=x.description;(0,o.useEffect)((function(){R()}),[]);var K=function(){k&&k(!1)},O=function(n){var a,o;(0,v.G6)(n)&&(o=null===(a=n.response)||void 0===a?void 0:a.data.reason),e({title:t("something_went_wrong"),variant:i.AlertVariant.danger,description:o})},R=function(){return(0,a.__awaiter)(void 0,void 0,void 0,(function(){var e,t;return(0,a.__generator)(this,(function(a){switch(a.label){case 0:return[4,null==n?void 0:n.kas.getToken()];case 1:if(!(e=a.sent()))return[3,5];a.label=2;case 2:return a.trys.push([2,4,,5]),[4,new d.DefaultApi(new d.Configuration({accessToken:e,basePath:p})).getServiceStatus().then((function(e){var t,n,a=null===(n=null===(t=null==e?void 0:e.data)||void 0===t?void 0:t.kafkas)||void 0===n?void 0:n.max_capacity_reached;A(a)}))];case 3:return a.sent(),[3,5];case 4:return t=a.sent(),O(t),[3,5];case 5:return[2]}}))}))},H=(0,a.__assign)((0,a.__assign)({},null==M?void 0:M.modalProps),{hideModal:h,title:y,confirmButtonProps:{onClick:function(){return(0,a.__awaiter)(void 0,void 0,void 0,(function(){var e,t;return(0,a.__generator)(this,(function(a){switch(a.label){case 0:return[4,null==n?void 0:n.kas.getToken()];case 1:if(!(e=a.sent())||!P)return[3,5];a.label=2;case 2:return a.trys.push([2,4,,5]),S(!0),[4,new d.DefaultApi(new d.Configuration({accessToken:e,basePath:p})).deleteKafkaById(P,!0).then((function(e){S(!1),K(),D&&D({},"kafkas")}))];case 3:return a.sent(),[3,5];case 4:return t=a.sent(),S(!1),O(t),[3,5];case 5:return[2]}}))}))},label:B,isLoading:I},textProps:{description:E},onClose:K,instanceStatus:L});return s().createElement(f.DeleteInstanceModal,(0,a.__assign)({},H))};const m=p}}]);
//# sourceMappingURL=2231.1d2fc9fc.js.map