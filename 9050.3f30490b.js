(self.webpackChunkkas_ui=self.webpackChunkkas_ui||[]).push([[9050,273],{56176:function(e){e.exports=function(){"use strict";var e={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};return function(t,n,a){var s=n.prototype,o=s.format;a.en.formats=e,s.format=function(t){void 0===t&&(t="YYYY-MM-DDTHH:mm:ssZ");var n=this.$locale().formats,a=function(t,n){return t.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,(function(t,a,s){var o=s&&s.toUpperCase();return a||n[s]||e[s]||n[o].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,(function(e,t,n){return t||n.slice(1)}))}))}(t,void 0===n?{}:n);return o.call(this,a)}}}()},71958:()=>{},95368:(e,t,n)=>{"use strict";n.d(t,{JH:()=>i,ti:()=>a,N1:()=>s,SP:()=>r});var a=function(){this.cloud_provider="",this.multi_az=!0,this.region="",this.name=""},s=function(){this.name="",this.description=""},o=n(75418),i=n.n(o)().createContext(void 0),r=function(){return(0,o.useContext)(i)}},30273:(e,t,n)=>{"use strict";n.r(t),n.d(t,{DeleteInstance:()=>l,DeleteInstanceModal:()=>c,default:()=>d});var a=n(70655),s=n(75418),o=n.n(s),i=n(54532),r=n(45024),u=n(75381),l=function(){var e=(0,r.QK)(),t=e.store,n=e.hideModal,s=(0,a.__assign)((0,a.__assign)({},null==t?void 0:t.modalProps),{hideModal:n});return o().createElement(c,(0,a.__assign)({},s))},c=function(e){var t=e||{},n=t.title,l=t.confirmButtonProps,c=t.cancelButtonProps,d=t.textProps,f=t.instanceStatus,v=t.selectedItemData,m=t.onClose,p=t.hideModal,h=(0,i.useTranslation)().t,M=null==v?void 0:v.name,_=(0,s.useState)(),g=_[0],D=_[1],Y=function(){return f===u.Od.READY&&(null==g?void 0:g.toLowerCase())!==(null==M?void 0:M.toLowerCase())};return o().createElement(r.AX,{isModalOpen:!0,title:n,confirmButtonProps:(0,a.__assign)({isDisabled:Y(),"data-testid":"modalDeleteKafka-buttonDelete"},l),cancelButtonProps:c,handleModalToggle:function(){D(""),p(),m&&m()},textProps:d,selectedItemData:v,textInputProps:{showTextInput:f===u.Od.READY,label:h("instance_name_label",{name:M}),value:g,onChange:function(e){D(e)},onKeyPress:function(e){"Enter"!==e.key||Y()||(null==l?void 0:l.onClick)&&l.onClick(v)},autoFocus:!0}})};const d=l},41486:(e,t,n)=>{"use strict";n.r(t),n.d(t,{DeleteInstanceConnected:()=>p,default:()=>h});var a=n(70655),s=n(75418),o=n.n(s),i=n(76007),r=n(54532),u=n(54804),l=n(54254),c=n(365),d=n(45024),f=n(92717),v=n(30273),m=n(75381),p=function(){var e=(0,l.useAlert)().addAlert,t=(0,r.useTranslation)().t,n=(0,l.useAuth)(),p=(0,l.useConfig)().kas.apiBasePath,h=(0,(0,l.useBasename)().getBasename)(),M=(0,i.useHistory)(),_=(0,d.QK)(),g=_.store,D=_.hideModal,Y=(null==g?void 0:g.modalProps)||{},k=Y.selectedItemData,L=Y.setIsOpenDeleteInstanceModal,C=k||{},P=C.status,w=C.name,b=C.id,A=(0,s.useState)(void 0),I=A[0],T=A[1],S=(0,s.useState)(!1),x=S[0],B=S[1],y=(0,c.ez)(t,P,w,I),E=y.title,K=y.confirmActionLabel,H=y.description;(0,s.useEffect)((function(){Q()}),[]);var O=function(){L&&L(!1)},z=function(n){var a,s;(0,m.G6)(n)&&(s=null===(a=n.response)||void 0===a?void 0:a.data.reason),e({title:t("something_went_wrong"),variant:u.AlertVariant.danger,description:s})},Q=function(){return(0,a.__awaiter)(void 0,void 0,void 0,(function(){var e,t;return(0,a.__generator)(this,(function(a){switch(a.label){case 0:return[4,null==n?void 0:n.kas.getToken()];case 1:if(!(e=a.sent()))return[3,5];a.label=2;case 2:return a.trys.push([2,4,,5]),[4,new f.DefaultApi(new f.Configuration({accessToken:e,basePath:p})).getServiceStatus().then((function(e){var t,n,a=null===(n=null===(t=null==e?void 0:e.data)||void 0===t?void 0:t.kafkas)||void 0===n?void 0:n.max_capacity_reached;T(a)}))];case 3:return a.sent(),[3,5];case 4:return t=a.sent(),z(t),[3,5];case 5:return[2]}}))}))},R=(0,a.__assign)((0,a.__assign)({},null==g?void 0:g.modalProps),{hideModal:D,title:E,confirmButtonProps:{onClick:function(){return(0,a.__awaiter)(void 0,void 0,void 0,(function(){var e,t;return(0,a.__generator)(this,(function(a){switch(a.label){case 0:return[4,null==n?void 0:n.kas.getToken()];case 1:if(!(e=a.sent())||!b)return[3,5];a.label=2;case 2:return a.trys.push([2,4,,5]),B(!0),[4,new f.DefaultApi(new f.Configuration({accessToken:e,basePath:p})).deleteKafkaById(b,!0).then((function(e){B(!1),O(),M.push(h)}))];case 3:return a.sent(),[3,5];case 4:return t=a.sent(),B(!1),z(t),[3,5];case 5:return[2]}}))}))},label:K,isLoading:x},textProps:{description:H},onClose:O,instanceStatus:P});return o().createElement(v.DeleteInstanceModal,(0,a.__assign)({},R))};const h=p}}]);
//# sourceMappingURL=9050.3f30490b.js.map