"use strict";(self.webpackChunkkas_ui=self.webpackChunkkas_ui||[]).push([[8372],{88372:(e,t,n)=>{n.r(t),n.d(t,{DeleteServiceAccount:()=>v,default:()=>f});var r=n(70655),i=n(75418),c=n.n(i),a=n(54532),o=n(58788),s=n(92550),l=n(75381),u=n(55277),d=n(95216),v=function(){var e=(0,a.useTranslation)().t,t=(0,d.useAuth)(),n=(0,d.useConfig)().kas.apiBasePath,v=(0,d.useAlert)().addAlert,f=(0,s.QK)(),h=f.store,_=f.hideModal,A=(null==h?void 0:h.modalProps)||{},p=A.fetchServiceAccounts,k=A.serviceAccountToDelete,m=(0,i.useState)(!1),w=m[0],g=m[1],b=function(){_()};return c().createElement(s.AX,{isModalOpen:!0,handleModalToggle:b,title:e("serviceAccount.delete_service_account")+"?",confirmButtonProps:{onClick:function(){return i=k,(0,r.__awaiter)(void 0,void 0,void 0,(function(){var c,a,s,d,f,h;return(0,r.__generator)(this,(function(r){switch(r.label){case 0:if(void 0===(c=null==i?void 0:i.id))throw new Error("service account id not defined");return[4,null==t?void 0:t.kas.getToken()];case 1:if(!(a=r.sent()))return[3,5];s=new u.SecurityApi(new u.Configuration({accessToken:a,basePath:n})),g(!0),r.label=2;case 2:return r.trys.push([2,4,,5]),[4,s.deleteServiceAccountById(c).then((function(){b(),g(!1),v({title:e("serviceAccount.service_account_successfully_deleted",{name:null==i?void 0:i.name}),variant:o.AlertVariant.success}),p()}))];case 3:return r.sent(),[3,5];case 4:return d=r.sent(),f=void 0,(0,l.G6)(d)&&(f=null===(h=d.response)||void 0===h?void 0:h.data.reason),b(),g(!1),v({title:e("common.something_went_wrong"),variant:o.AlertVariant.danger,description:f}),[3,5];case 5:return[2]}}))}));var i},label:"Delete",isLoading:w}},c().createElement("p",null,c().createElement("b",null,null==k?void 0:k.name)," ",e("serviceAccount.will_be_deleted")))};const f=v}}]);
//# sourceMappingURL=8372.72fd89ae.js.map