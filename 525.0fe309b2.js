(self.webpackChunkkas_ui=self.webpackChunkkas_ui||[]).push([[525],{86435:(e,t,n)=>{"use strict";n.d(t,{I:()=>h});var a=n(70655),c=n(48121),r=n.n(c),s=n(5977),o=n(13006),i=n(25399),u=n(23141),l=n(42603),d=n(9995),v=n(75381),m=n(26992),_=n(48784),g=n(86153),S=n(65746),p=n(89403),h=function(e){e.getConnectToInstancePath;var t=(0,o.useTranslation)().t,n=(0,_.Z7)().addAlert,h=(0,s.TH)(),P=new URLSearchParams(h.search),f=parseInt(P.get("page")||"",10)||1,E=parseInt(P.get("perPage")||"",10)||10,A=(0,c.useContext)(l.V),T=(0,c.useContext)(d.G).basePath,y=(0,c.useState)(),b=y[0],C=y[1],I=(0,c.useState)(),k=I[0],w=I[1],O=(0,c.useState)(!1),V=O[0],R=O[1],x=(0,c.useState)(0),L=x[0],U=(x[1],(0,c.useState)(0)),B=U[0],D=(U[1],(0,c.useState)(!0)),F=D[0],G=(D[1],(0,c.useState)("name")),M=G[0],N=G[1],Z=(0,c.useState)("name"),z=Z[0],H=Z[1],W=(0,c.useState)([]),j=W[0],q=W[1],J=(0,c.useState)(!1),K=J[0],Q=J[1],X=(0,c.useState)(!1),Y=X[0],$=X[1],ee=(0,c.useState)(),te=ee[0],ne=ee[1],ae=(0,c.useState)(!1),ce=ae[0],re=ae[1],se=(0,c.useState)(),oe=se[0],ie=se[1],ue=function(){return(0,a.__awaiter)(void 0,void 0,void 0,(function(){var e;return(0,a.__generator)(this,(function(a){switch(a.label){case 0:return[4,null==A?void 0:A.getToken()];case 1:if(!(e=a.sent()))return[3,5];a.label=2;case 2:return a.trys.push([2,4,,5]),[4,new u.M2({accessToken:e,basePath:T}).listServiceAccounts().then((function(e){var t=null==e?void 0:e.data;C(t),w(null==t?void 0:t.items)}))];case 3:return a.sent(),[3,5];case 4:return function(e){var a,c,r,s,o;(0,v.G6)(e)&&(s=null===(a=e.response)||void 0===a?void 0:a.data.reason,o=null===(r=null===(c=e.response)||void 0===c?void 0:c.data)||void 0===r?void 0:r.code),o===v.SM.UNAUTHORIZED_USER?R(!0):n(t("common.something_went_wrong"),i.AlertVariant.danger,s)}(a.sent()),[3,5];case 5:return[2]}}))}))};(0,c.useEffect)((function(){ue()}),[]);var le=function(e){$(!Y),ne(e)},de=function(){Q(!K)},ve=function(e){re(!ce),ie(e)};return V?r().createElement(_.nW,{titleProps:{title:t("serviceAccount.unauthorized_access_to_service_accounts_title"),headingLevel:"h2"},emptyStateBodyProps:{body:t("serviceAccount.unauthorized_access_to_service_accounts_info")}}):r().createElement(r().Fragment,null,r().createElement(_.uZ,null,r().createElement(i.PageSection,{variant:i.PageSectionVariants.light},r().createElement(i.Level,null,r().createElement(i.LevelItem,null,r().createElement(i.TextContent,null,r().createElement(i.Text,{component:"h1"}," ",t("serviceAccount.service_accounts")),r().createElement(i.Text,{component:"p"},t("serviceAccount.service_accounts_title_header_info"))))),r().createElement(g.i,{isOpen:K,setIsOpen:Q,fetchServiceAccounts:ue}),r().createElement(S.O,{isOpen:Y,setIsOpen:$,serviceAccountToReset:te}),r().createElement(p.N,{isOpen:ce,setIsOpen:re,serviceAccountToDelete:oe,fetchServiceAccounts:ue})),function(){var e;return void 0===k?r().createElement(i.PageSection,{variant:i.PageSectionVariants.light,padding:{default:"noPadding"}},r().createElement(_.yR,null)):L&&L<1?r().createElement(i.PageSection,null,r().createElement(_.C0,{titleProps:{title:t("serviceAccount.you_do_not_have_any_service_accounts_yet"),headingLevel:"h2"},emptyStateBodyProps:{body:t("serviceAccount.create_service_account_to_get_started")},buttonProps:(e={title:t("serviceAccount.create_service_account"),onClick:function(){return de()}},e["data-testid"]="emptyStateStreams-buttonCreateServiceAccount",e)})):r().createElement(i.PageSection,{className:"mk--main-page__page-section--table",variant:i.PageSectionVariants.light,padding:{default:"noPadding"}},r().createElement(m.s,{page:f,perPage:E,total:(null==b?void 0:b.total)||1,expectedTotal:B,serviceAccountsDataLoaded:F,serviceAccountItems:k,orderBy:M,setOrderBy:N,filterSelected:z,setFilterSelected:H,filteredValue:j,setFilteredValue:q,onResetCredentials:le,onDeleteServiceAccount:ve,handleCreateModal:de}))}()))}},44947:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>l});var a=n(48121),c=n.n(a),r=n(73727),s=n(86435),o=n(42603),i=n(99229),u=n(9995);n(78800);const l=function(e){var t=e.getUsername,n=e.getToken,a=e.addAlert,l=e.basePath,d=e.getConnectToInstancePath,v={getToken:n,getUsername:t},m={addAlert:a};return c().createElement(r.BrowserRouter,null,c().createElement(u.G.Provider,{value:{basePath:l}},c().createElement(i.wP.Provider,{value:m},c().createElement(o.V.Provider,{value:v},c().createElement(s.I,{getConnectToInstancePath:d})))))}}}]);
//# sourceMappingURL=525.0fe309b2.js.map