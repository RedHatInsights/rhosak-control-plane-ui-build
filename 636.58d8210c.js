(self.webpackChunkkas_ui=self.webpackChunkkas_ui||[]).push([[636],{86435:(e,t,n)=>{"use strict";n.d(t,{I:()=>m});var a=n(70655),c=n(48121),r=n.n(c),i=n(5977),o=n(80059),s=n(58788),l=n(75381),u=n(77435),d=n(21140),v=n(26992),_=n(83776),g=n(5569),m=function(){var e=(0,o.useTranslation)().t,t=(0,_.useAlert)().addAlert,n=(0,u.QK)().showModal,m=(0,i.TH)(),p=new URLSearchParams(m.search),S=parseInt(p.get("page")||"",10)||1,E=parseInt(p.get("perPage")||"",10)||10,f=p.has("user-testing"),h=(0,_.useAuth)(),P=(0,_.useConfig)().kas.apiBasePath,A=(0,c.useState)(),y=(A[0],A[1]),C=(0,c.useState)(),T=C[0],k=C[1],I=(0,c.useState)(!1),R=I[0],w=I[1],b=(0,c.useState)("name asc"),N=b[0],V=b[1],U=(0,c.useState)("name"),x=U[0],B=U[1],D=(0,c.useState)([]),F=D[0],L=D[1],O=(0,c.useState)(!1),M=O[0],Z=O[1],z=function(){return(0,a.__awaiter)(void 0,void 0,void 0,(function(){var n;return(0,a.__generator)(this,(function(a){switch(a.label){case 0:return[4,null==h?void 0:h.kas.getToken()];case 1:if(!(n=a.sent()))return[3,5];a.label=2;case 2:return a.trys.push([2,4,,5]),[4,new d.SecurityApi(new d.Configuration({accessToken:n,basePath:P})).getServiceAccounts().then((function(e){var t=null==e?void 0:e.data,n=(null==t?void 0:t.items)||[],a=null==n?void 0:n.length;y(t);var c=(0,l.E7)(n,"name","asc");k(c),Z(!a||a<1)}))];case 3:return a.sent(),[3,5];case 4:return function(n){var a,c,r,i,o;(0,l.G6)(n)&&(i=null===(a=n.response)||void 0===a?void 0:a.data.reason,o=null===(r=null===(c=n.response)||void 0===c?void 0:c.data)||void 0===r?void 0:r.code),o===l.SM.UNAUTHORIZED_USER?w(!0):t({variant:s.AlertVariant.danger,title:e("common.something_went_wrong"),description:i})}(a.sent()),[3,5];case 5:return[2]}}))}))};(0,c.useEffect)((function(){z()}),[]);var H=function(e){n(u.Ny.RESET_CREDENTIALS,{serviceAccountToReset:e})},j=function(){n(u.Ny.CREATE_SERVICE_ACCOUNT,{fetchServiceAccounts:z})},G=function(e){n(u.Ny.DELETE_SERVICE_ACCOUNT,{serviceAccountToDelete:e,fetchServiceAccounts:z})};return R?r().createElement(s.PageSection,{variant:s.PageSectionVariants.default,padding:{default:"noPadding"},isFilled:!0},r().createElement(u.C0,{titleProps:{title:e("serviceAccount.unauthorized_access_to_service_accounts_title"),headingLevel:"h2"},emptyStateIconProps:{icon:g.ZP},emptyStateBodyProps:{body:e("serviceAccount.unauthorized_access_to_service_accounts_info")}})):r().createElement(r().Fragment,null,r().createElement(s.PageSection,{variant:s.PageSectionVariants.light},r().createElement(s.TextContent,null,r().createElement(s.Text,{component:"h1"}," ",e("serviceAccount.service_accounts")),r().createElement(s.Text,{component:"p"},e("serviceAccount.service_accounts_title_header_info")))),function(){var t;return void 0===T?r().createElement(s.PageSection,{variant:s.PageSectionVariants.light,padding:{default:"noPadding"}},r().createElement(u.yR,null)):M?r().createElement(s.PageSection,{padding:{default:"noPadding"},isFilled:!0},r().createElement(u.C0,{emptyStateProps:{variant:u.jU.NoItems},titleProps:{title:e("serviceAccount.you_do_not_have_any_service_accounts_yet")},emptyStateBodyProps:{body:e("serviceAccount.create_service_account_to_get_started")},buttonProps:(t={title:e("serviceAccount.create_service_account"),onClick:j},t["data-testid"]="emptyStateStreams-buttonCreateServiceAccount",t)})):r().createElement(s.PageSection,{className:"mk--main-page__page-section--table pf-m-padding-on-xl",variant:s.PageSectionVariants.default,padding:{default:"noPadding"}},r().createElement(s.Card,null,r().createElement(v.s,{page:S,perPage:E,total:1,expectedTotal:0,serviceAccountsDataLoaded:!0,serviceAccountItems:T,orderBy:N,setOrderBy:V,filterSelected:x,setFilterSelected:B,filteredValue:F,setFilteredValue:L,onResetCredentials:H,onDeleteServiceAccount:G,handleCreateModal:j,mainToggle:f})))}())}},44947:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>u});var a=n(48121),c=n.n(a),r=n(73727),i=n(80059),o=n(86435),s=n(77435),l=n(78800);const u=function(){return c().createElement(r.BrowserRouter,null,c().createElement(i.I18nextProvider,{i18n:(0,l.Y)()},c().createElement(s.uZ,null,c().createElement(s.OU,null,c().createElement(o.I,null)))))}}}]);
//# sourceMappingURL=636.58d8210c.js.map