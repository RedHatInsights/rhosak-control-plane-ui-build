/*! For license information please see 9861.516a6b5e.js.LICENSE.txt */
"use strict";(self.webpackChunkkas_ui=self.webpackChunkkas_ui||[]).push([[9861,5183,655,1230,5512,7066],{35183:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.createIcon=e.getSize=e.IconSize=void 0;const i=n(70655),a=i.__importStar(n(75418));var r;!function(t){t.sm="sm",t.md="md",t.lg="lg",t.xl="xl"}(r=e.IconSize||(e.IconSize={}));e.getSize=t=>{switch(t){case r.sm:return"1em";case r.md:return"1.5em";case r.lg:return"2em";case r.xl:return"3em";default:return"1em"}};let o=0;e.createIcon=function({name:t,xOffset:n=0,yOffset:s=0,width:c,height:l,svgPath:u}){var d;return d=class extends a.Component{constructor(){super(...arguments),this.id="icon-title-"+o++}render(){const t=this.props,{size:r,color:o,title:d,noVerticalAlign:h}=t,p=i.__rest(t,["size","color","title","noVerticalAlign"]),f=Boolean(d),g=e.getSize(r),v=-.125*Number.parseFloat(g),m=h?null:{verticalAlign:`${v}em`},y=[n,s,c,l].join(" ");return a.createElement("svg",Object.assign({style:m,fill:o,height:g,width:g,viewBox:y,"aria-labelledby":f?this.id:null,"aria-hidden":!f||null,role:"img"},p),f&&a.createElement("title",{id:this.id},d),a.createElement("path",{d:u}))}},d.displayName=t,d.defaultProps={color:"currentColor",size:r.sm,noVerticalAlign:!1},d}},8755:(t,e,n)=>{e._t={name:"FilterIcon",height:512,width:512,svgPath:"M487.976 0H24.028C2.71 0-8.047 25.866 7.058 40.971L192 225.941V432c0 7.831 3.821 15.17 10.237 19.662l80 55.98C298.02 518.69 320 507.493 320 487.98V225.941l184.947-184.97C520.021 25.896 509.338 0 487.976 0z",yOffset:0,xOffset:0},e.k1=n(35183).createIcon(e._t),e.ZP=e.k1},55795:(t,e,n)=>{e.sN={name:"OutlinedQuestionCircleIcon",height:512,width:512,svgPath:"M256 8C119.043 8 8 119.083 8 256c0 136.997 111.043 248 248 248s248-111.003 248-248C504 119.083 392.957 8 256 8zm0 448c-110.532 0-200-89.431-200-200 0-110.495 89.472-200 200-200 110.491 0 200 89.471 200 200 0 110.53-89.431 200-200 200zm107.244-255.2c0 67.052-72.421 68.084-72.421 92.863V300c0 6.627-5.373 12-12 12h-45.647c-6.627 0-12-5.373-12-12v-8.659c0-35.745 27.1-50.034 47.579-61.516 17.561-9.845 28.324-16.541 28.324-29.579 0-17.246-21.999-28.693-39.784-28.693-23.189 0-33.894 10.977-48.942 29.969-4.057 5.12-11.46 6.071-16.666 2.124l-27.824-21.098c-5.107-3.872-6.251-11.066-2.644-16.363C184.846 131.491 214.94 112 261.794 112c49.071 0 101.45 38.304 101.45 88.8zM298 368c0 23.159-18.841 42-42 42s-42-18.841-42-42 18.841-42 42-42 42 18.841 42 42z",yOffset:0,xOffset:0},e.iC=n(35183).createIcon(e.sN),e.ZP=e.iC},66095:(t,e,n)=>{e.Wz={name:"SyncIcon",height:512,width:512,svgPath:"M440.65 12.57l4 82.77A247.16 247.16 0 0 0 255.83 8C134.73 8 33.91 94.92 12.29 209.82A12 12 0 0 0 24.09 224h49.05a12 12 0 0 0 11.67-9.26 175.91 175.91 0 0 1 317-56.94l-101.46-4.86a12 12 0 0 0-12.57 12v47.41a12 12 0 0 0 12 12H500a12 12 0 0 0 12-12V12a12 12 0 0 0-12-12h-47.37a12 12 0 0 0-11.98 12.57zM255.83 432a175.61 175.61 0 0 1-146-77.8l101.8 4.87a12 12 0 0 0 12.57-12v-47.4a12 12 0 0 0-12-12H12a12 12 0 0 0-12 12V500a12 12 0 0 0 12 12h47.35a12 12 0 0 0 12-12.6l-4.15-82.57A247.17 247.17 0 0 0 255.83 504c121.11 0 221.93-86.92 243.55-201.82a12 12 0 0 0-11.8-14.18h-49.05a12 12 0 0 0-11.67 9.26A175.86 175.86 0 0 1 255.83 432z",yOffset:0,xOffset:0},e.bn=n(35183).createIcon(e.Wz),e.ZP=e.bn},9914:(t,e)=>{e.VQ={name:"--pf-chart-color-black-500",value:"#6a6e73",var:"var(--pf-chart-color-black-500)"},e.ZP=e.VQ},84076:(t,e)=>{e.iY={name:"--pf-chart-color-blue-300",value:"#06c",var:"var(--pf-chart-color-blue-300)"},e.ZP=e.iY},72021:(t,e)=>{e.R0={name:"--pf-chart-color-green-300",value:"#4cb140",var:"var(--pf-chart-color-green-300)"},e.ZP=e.R0},82874:(t,e)=>{e.g9={name:"--pf-chart-color-orange-300",value:"#ec7a08",var:"var(--pf-chart-color-orange-300)"},e.ZP=e.g9},89861:(t,e,n)=>{n.r(e),n.d(e,{AlertProvider:()=>l,AppServicesAlertToastGroup:()=>s,AppServicesDrawer:()=>u,AppServicesLoading:()=>d,AppServicesPagination:()=>v,AppServicesTable:()=>E,AppServicesToolbar:()=>w,Metrics:()=>Ot,MetricsI18n:()=>T,ModalProvider:()=>f});var i=n(75418),a=n.n(i),r=n(70655),o=n(84669);const s=({alerts:t,onCloseAlert:e})=>a().createElement(o.AlertGroup,{isToast:!0},t.map((t=>{var{id:n,variant:i,title:s,description:c,dataTestId:l}=t,u=(0,r.__rest)(t,["id","variant","title","description","dataTestId"]);return a().createElement(o.Alert,Object.assign({key:n,isLiveRegion:!0,variant:o.AlertVariant[i],variantLabel:"",title:s,actionClose:a().createElement(o.AlertActionCloseButton,{title:s,onClose:()=>e(n)}),"data-testid":l},u),c)})));var c=n(46332);const l=({children:t})=>{const[e,n]=(0,i.useState)([]),[r,o]=(0,i.useState)([]);(0,i.useEffect)((()=>{const t=r.map((t=>t.key)),n=e.filter((e=>!t.includes(null==e?void 0:e.id))).map((t=>{const{id:e=""}=t,n=setTimeout((()=>l(e)),8e3);return{key:t.id,timeOut:n}}));return o([...r,...n]),()=>r.forEach((t=>(null==t?void 0:t.timeOut)&&clearTimeout(t.timeOut)))}),[e]);const l=t=>{n((e=>[...e.filter((e=>e.id!==t))])),o((e=>[...e.filter((e=>e.key===t))]))};return a().createElement(c.AlertContext.Provider,{value:{addAlert:t=>{const i=(new Date).getTime().toString();n([...e,Object.assign(Object.assign({},t),{id:i})])}}},a().createElement(s,{alerts:e,onCloseAlert:l}),t)},u=({onClose:t,isLoading:e=!1,drawerPanelContentProps:n,drawerHeaderProps:i,isExpanded:s,children:c,panelBodyContent:l,onExpand:u,notRequiredDrawerContentBackground:h,"data-ouia-app-id":p,inlineAlertMessage:f})=>{const g=n||{},{widths:v}=g,m=(0,r.__rest)(g,["widths"]),{text:y,title:_}=i||{},b=a().createElement(o.DrawerPanelContent,Object.assign({widths:v||{default:"width_50"}},m),e?a().createElement(d,null):a().createElement(a().Fragment,null,a().createElement(o.DrawerHead,null,a().createElement(o.TextContent,null,(null==y?void 0:y.label)&&a().createElement(o.Text,{component:(null==y?void 0:y.component)||o.TextVariants.small,className:(null==y?void 0:y.className)||"kafka-ui-appServices-drawer__top-label"},null==y?void 0:y.label),(null==_?void 0:_.value)&&a().createElement(o.Title,{headingLevel:(null==_?void 0:_.headingLevel)||"h2",size:(null==_?void 0:_.size)||o.TitleSizes.xl,className:(null==_?void 0:_.className)||"kafka-ui-appServices-drawer__title"},null==_?void 0:_.value)),a().createElement(o.DrawerActions,null,a().createElement(o.DrawerCloseButton,{onClick:t}))),a().createElement(o.DrawerPanelBody,null,f,l)));return a().createElement(o.Drawer,{isExpanded:s,onExpand:u,"data-ouia-app-id":p},a().createElement(o.DrawerContent,{panelContent:b,className:h?"pf-m-no-background":""},a().createElement(o.DrawerContentBody,{className:"kafka-ui-appServices-drawer__drawer-content-body"},c)))},d=({bullseyeProps:t,spinnerProps:e})=>a().createElement(o.Bullseye,Object.assign({},t),a().createElement(o.Spinner,Object.assign({},e))),h=({variant:t,hideModal:e,title:n})=>i.createElement(o.Modal,{id:"fallback-modal",variant:t,isOpen:!0,"aria-label":"fallback modal",showClose:!0,"aria-describedby":"modal-message",onClose:e,title:n,children:i.createElement(d,{bullseyeProps:{className:"pf-u-p-xl"}})}),p=({activeModal:t,hideModal:e,modalRegistry:n})=>{if(void 0===t)return i.createElement(i.Fragment,null);const a=n.current[t.modalType],r=a.lazyComponent;return i.createElement(i.Suspense,{fallback:i.createElement(h,{hideModal:e,variant:a.variant,title:a.title})},i.createElement(r,Object.assign({hideModal:e,title:a.title,variant:a.variant},t.modalProps)))},f=({children:t})=>{const[e,n]=(0,i.useState)(),a=(0,i.useRef)({}),r={registerModals:t=>{a.current=Object.assign(Object.assign({},a),t)},hideModal:()=>{n(void 0)},showModal:(t,e)=>{n({modalType:t,modalProps:e})}};return i.createElement(i.Fragment,null,i.createElement(p,{activeModal:e,hideModal:r.hideModal,modalRegistry:a}),i.createElement(c.ModalContext.Provider,{value:r},t))};var g=n(98068);const v=t=>{var{page:e,perPage:n=10,itemCount:s,variant:c=o.PaginationVariant.top,isCompact:l,titles:u}=t,d=(0,r.__rest)(t,["page","perPage","itemCount","variant","isCompact","titles"]);const h=(0,g.useHistory)(),p=(0,g.useLocation)(),f=new URLSearchParams(p.search),v=(0,i.useCallback)(((t,e)=>{f.set(t,e.toString())}),[f]),m=(0,i.useCallback)(((t,e)=>{v("page",e.toString()),h.push({search:f.toString()})}),[v,h,f]),y=(0,i.useCallback)(((t,e)=>{v("page","1"),v("perPage",e.toString()),h.push({search:f.toString()})}),[v,h,f]);return a().createElement(o.Pagination,Object.assign({itemCount:s,perPage:n,page:e,onSetPage:m,variant:c,onPerPageSelect:y,isCompact:l},d,{titles:u}))};var m=n(27577),y=n(52530);const _=(0,i.createContext)({activeRow:"",onRowClick:()=>"",loggedInUser:""}),b=_.Provider,S=t=>{const{activeRow:e,onRowClick:n,rowDataTestId:o}=(0,i.useContext)(_),s=t||{},{trRef:c,className:l,rowProps:u,row:d}=s,h=(0,r.__rest)(s,["trRef","className","rowProps","row"]),{rowIndex:p}=u||{rowIndex:1},{isExpanded:f,originalData:g}=d||{};return a().createElement("tr",Object.assign({"data-testid":o,tabIndex:0,ref:c,className:(0,y.css)(l,"pf-c-table-row__item",e&&e===(null==g?void 0:g.rowId)&&"pf-m-selected pf-m-selectable"),hidden:void 0!==f&&!f,onClick:t=>n&&n(t,p,d)},h))},E=({tableProps:t,tableHeaderProps:e,tableBodyProps:n,children:i,activeRow:o,onRowClick:s,rowDataTestId:c,loggedInUser:l})=>{const{cells:u,rows:d,actionResolver:h,onSort:p,sortBy:f,"aria-label":g,variant:v,className:_,shouldDefaultCustomRowWrapper:E=!1}=t,w=(0,r.__rest)(t,["cells","rows","actionResolver","onSort","sortBy","aria-label","variant","className","shouldDefaultCustomRowWrapper"]);return a().createElement(b,{value:{activeRow:o,onRowClick:s,rowDataTestId:c,loggedInUser:l}},a().createElement(m.Table,Object.assign({className:(0,y.css)(E&&"appServices--table-view__table",_),cells:u,variant:v,rows:d,"aria-label":g,actionResolver:h,onSort:p,sortBy:f,rowWrapper:E?t=>a().createElement(S,Object.assign({},t)):void 0},w),a().createElement(m.TableHeader,Object.assign({},e)),a().createElement(m.TableBody,Object.assign({},n)),i))},w=({toolbarProps:t,toggleGroupProps:e,toolbarItems:n,toggleGroupItems:i})=>{const{id:s,clearAllFilters:c,collapseListedFiltersBreakpoint:l="md",inset:u}=t,d=(0,r.__rest)(t,["id","clearAllFilters","collapseListedFiltersBreakpoint","inset"]);return a().createElement(a().Fragment,null,a().createElement(o.Toolbar,Object.assign({id:s,clearAllFilters:c,inset:u,collapseListedFiltersBreakpoint:l},d),a().createElement(o.ToolbarContent,null,e&&a().createElement(o.ToolbarToggleGroup,Object.assign({},e),i),null==n?void 0:n.map(((t,e)=>{const{key:n="appServices",variant:i,className:s,id:c,alignment:l,item:u}=t,d=(0,r.__rest)(t,["key","variant","className","id","alignment","item"]);return a().createElement(o.ToolbarItem,Object.assign({key:`${n}-${e}`,variant:i,className:s,id:c,alignment:l},d),u)})))))},T=JSON.parse('{"metrics":{"used_disk_space":"Used disk space","used_disk_space_popover_header":"Used disk space chart","used_disk_space_help_text":"Used disk space is the amount of disk space used by the Kafka broker in the instance. This metric enables you to assess available disk space relative to the limit. To reduce used disk space, you can adjust topic retention time or other topic properties as needed.","connection_attempt_rate":"Connection attempt rate","connection_attempt_rate_help_text":"Connection attempt rate is the number of attempted client connections per second for the Kafka instance over time. This metric enables you to review client activity spikes in the instance and to assess available connections per second relative to the limit.","log_size_per_partition":"Log size per partition","log_size_per_partition_help_text":"Topic partition size is the log size for each partition in a selected topic. This metric enables you to assess the amount of data used in one or more topic partitions. To reduce the topic partition size, you can decrease the retention time or the retention size, or modify the cleanup policy as needed. You can also increase the number of partitions for the topic.","incoming_bytes_per_topic":"Incoming bytes per topic","outgoing_bytes_per_topic":"Outgoing bytes per topic","total_bytes":"Total bytes","kafka_instance_metrics":"Kafka instance metrics","topic_partition_size":"Topic partition size","topic_metrics":"Topic metrics","total_bytes_popover_header":"Bytes incoming and outgoing chart","topic_metrics_help_text":"Bytes incoming and outgoing are the total bytes for all topics or total bytes for a selected topic in the Kafka instance. This metric enables you to assess data transfer in and out of your Kafka instance. To modify incoming and outgoing bytes, you can adjust topic message size or other topic properties as needed.","topic_partition_size_popover_header":"Topic partition size chart","topic_partition_size_help_text":"Topic partition size is the log size for each partition in a selected topic. This metric enables you to assess the amount of data used in one or more topic partitions. To reduce the topic partition size, you can decrease the retention time or the retention size, or modify the cleanup policy as needed. You can also increase the number of partitions for the topic.","empty_state_no_data_body":"We’re setting up your monitoring instance. Your metrics will appear shortly.","empty_state_no_data_title":"No metrics data","empty_state_no_topic_data_body":"Adjust your filters and try again.","empty_state_no_topic_data_title":"No topic data","empty_state_no_topics_body":"Data will appear shortly after you start using topics.","empty_state_no_topics_title":"No topic data","empty_state_no_topics_create_topic":"Create topic","empty_state_no_filter_body":"In the filter dropdown select a topic to see log size per topic partition.","empty_state_no_filter_title":"Filter by Topic"}}');var k=n(55795);const C=({title:t,description:e})=>a().createElement(o.Popover,{"aria-label":"Basic popover",headerContent:a().createElement("div",null,t),bodyContent:a().createElement("div",null,e)},a().createElement(k.ZP,null)),x=()=>a().createElement(o.EmptyState,{variant:o.EmptyStateVariant.xs},a().createElement(o.EmptyStateBody,null,a().createElement(d,null)));var D=n(70251),A=n(31521);const P=()=>{const{t}=(0,A.useTranslation)();return a().createElement(o.EmptyState,{variant:o.EmptyStateVariant.xs},a().createElement(o.EmptyStateIcon,{icon:D.TachometerAltIcon}),a().createElement(o.Title,{headingLevel:"h3",size:"lg"},t("metrics.empty_state_no_data_title")),a().createElement(o.EmptyStateBody,null,t("metrics.empty_state_no_data_body")))},O=()=>{const{t}=(0,A.useTranslation)();return a().createElement(o.EmptyState,{variant:o.EmptyStateVariant.xs},a().createElement(o.EmptyStateIcon,{icon:D.SearchIcon}),a().createElement(o.Title,{headingLevel:"h3",size:"lg"},t("metrics.empty_state_no_topic_data_title")),a().createElement(o.EmptyStateBody,null,t("metrics.empty_state_no_topic_data_body")))},I=({onCreateTopic:t})=>{const{t:e}=(0,A.useTranslation)();return a().createElement(o.EmptyState,{variant:o.EmptyStateVariant.xs},a().createElement(o.EmptyStateIcon,{icon:D.WrenchIcon}),a().createElement(o.Title,{headingLevel:"h3",size:"lg"},e("metrics.empty_state_no_topics_title")),a().createElement(o.EmptyStateBody,null,e("metrics.empty_state_no_topics_body")),a().createElement(o.Button,{variant:"primary",onClick:t},e("metrics.empty_state_no_topics_create_topic")))},M=()=>{const{t}=(0,A.useTranslation)();return a().createElement(o.EmptyState,{variant:o.EmptyStateVariant.xs},a().createElement(o.EmptyStateIcon,{icon:D.FilterIcon}),a().createElement(o.Title,{headingLevel:"h3",size:"lg"},t("metrics.empty_state_no_filter_title")),a().createElement(o.EmptyStateBody,null,t("metrics.empty_state_no_filter_body")))};var L;!function(t){t[t.Last5minutes=5]="Last5minutes",t[t.Last15minutes=15]="Last15minutes",t[t.Last30minutes=30]="Last30minutes",t[t.Last1hour=60]="Last1hour",t[t.Last3hours=180]="Last3hours",t[t.Last6hours=360]="Last6hours",t[t.Last12hours=720]="Last12hours",t[t.Last24hours=1440]="Last24hours",t[t.Last2days=2880]="Last2days",t[t.Last7days=10080]="Last7days"}(L||(L={}));const j={[L.Last5minutes]:"Last 5 minutes",[L.Last15minutes]:"Last 15 minutes",[L.Last30minutes]:"Last 30 minutes",[L.Last1hour]:"Last 1 hour",[L.Last3hours]:"Last 3 hours",[L.Last6hours]:"Last 6 hours",[L.Last12hours]:"Last 12 hours",[L.Last24hours]:"Last 24 hours",[L.Last2days]:"Last 2 days",[L.Last7days]:"Last 7 days"},N=({duration:t,keyText:e,disableToolbar:n,onDurationChange:r})=>{const[s,c]=(0,i.useState)(!1);return a().createElement(o.ToolbarItem,null,a().createElement(o.Select,{variant:o.SelectVariant.single,"aria-label":"Select Input",onToggle:t=>{c(t)},onSelect:(t,e)=>{const n=Object.entries(j).find((([t,n])=>n===e));n&&r(parseInt(n[0],10)),c(!1)},selections:j[t],isOpen:s,isDisabled:n,placeholderText:"Last 6 hours"},(t=>[a().createElement(o.SelectGroup,{label:"Relative time ranges",key:`${t}-group`},Object.values(j).map(((e,n)=>a().createElement(o.SelectOption,{key:`${t}-${n}`,value:e}))))])(e)))};var F=n(8755);const R={default:"100px",sm:"80px",md:"150px",lg:"200px",xl:"250px","2xl":"300px"},V=({selectedTopic:t,topicList:e=[],disableToolbar:n,onSetSelectedTopic:r})=>{const{t:s}=(0,A.useTranslation)(),[c,l]=(0,i.useState)(!1),u=s("All topics"),d=t=>[a().createElement(o.SelectOption,{key:"topic-filter-0",value:u}),a().createElement(o.SelectGroup,{label:"Filter by topic",key:"topic-filter-group"},t.map(((t,e)=>a().createElement(o.SelectOption,{key:`topic-filter-${e+1}`,value:t}))))],h=n||0===e.length;return a().createElement(o.ToolbarItem,{widths:R},a().createElement(o.Select,{variant:o.SelectVariant.single,onToggle:t=>{l(t)},onSelect:(t,e)=>{r("All topics"!==e?e:void 0)},selections:t||u,isOpen:c,placeholderText:a().createElement(a().Fragment,null,a().createElement(F.ZP,null)," All topics"),"aria-label":s("Select a topic"),onFilter:(t,n)=>{const i=e.filter((t=>-1!=t.indexOf(n)))||[];return d(i)},isGrouped:!0,hasInlineFilter:!0,isDisabled:h,style:{width:"100%"}},d(e)))};var B=n(62482),z=n(84076),Z=n(72021),U=n(84103),G=n.n(U);const $={[L.Last5minutes]:{interval:60,ticks:5,showDate:!1},[L.Last15minutes]:{interval:180,ticks:5,showDate:!1},[L.Last30minutes]:{interval:300,ticks:6,showDate:!1},[L.Last1hour]:{interval:600,ticks:6,showDate:!1},[L.Last3hours]:{interval:1800,ticks:6,showDate:!1},[L.Last6hours]:{interval:3600,ticks:6,showDate:!1},[L.Last12hours]:{interval:7200,ticks:6,showDate:!1},[L.Last24hours]:{interval:14400,ticks:6,showDate:!0},[L.Last2days]:{interval:28800,ticks:6,showDate:!0},[L.Last7days]:{interval:86400,ticks:7,showDate:!0}};function H(t){return G()(t,{units:"iec"}).toString()}const W=t=>$[t].showDate,Y=(t,{showDate:e}={showDate:!1})=>{const[n,i]=t.toISOString().split("T");return e?i.slice(0,5)+"\n"+n:i.slice(0,5)};var X=n(30734);const J=[Z.ZP.value,z.ZP.value],K=({partitions:t,duration:e})=>{const{t:n}=(0,A.useTranslation)(),r=(0,i.useRef)(null),[o,s]=(0,i.useState)(),c=()=>r.current&&s(r.current.clientWidth),l=o&&o>650?6:3;(0,i.useEffect)((()=>{c(),window.addEventListener("resize",c)}),[o]);const{chartData:u,legendData:d,tickValues:h}=function(t,e){const n=[],i=[];Object.entries(t).map((([t,e],a)=>{const r=J[a];n.push({name:t});const o=[];Object.entries(e).map((([e,n])=>{o.push({name:t,x:parseInt(e,10),y:n})})),i.push({color:r,area:o})}));const a=Object.values(t).flatMap((t=>Object.keys(t))),r=parseInt(a[0]),o=new Array($[e].ticks).fill(r).map(((t,n)=>(0,X.Z)(new Date(t),{seconds:$[e].interval*n}).getTime()));return{legendData:n,chartData:i,tickValues:o}}(t,e);return a().createElement("div",{ref:r},a().createElement(B.Chart,{ariaTitle:n("metrics.log_size_per_partition"),containerComponent:a().createElement(B.ChartVoronoiContainer,{labels:({datum:t})=>`${t.name}: ${H(t.y)}`,constrainToVisibleArea:!0}),legendPosition:"bottom-left",legendComponent:a().createElement(B.ChartLegend,{data:d,itemsPerRow:l}),height:350,padding:{bottom:110,left:120,right:40,top:40},themeColor:B.ChartThemeColor.multiUnordered,width:o,legendAllowWrap:!0},a().createElement(B.ChartAxis,{label:"\nTime",tickValues:h,tickFormat:t=>Y(new Date(t),{showDate:W(e)})}),a().createElement(B.ChartAxis,{label:"\n\n\n\n\nBytes",dependentAxis:!0,tickFormat:H}),a().createElement(B.ChartGroup,null,u.map(((t,e)=>a().createElement(B.ChartArea,{key:`chart-area-${e}`,data:t.area,interpolation:"monotoneX"}))))))};const q=({diskSpaceMetrics:t,topicMetrics:e})=>a().createElement(o.PageSection,null,a().createElement(o.Grid,{hasGutter:!0},a().createElement(o.GridItem,{lg:6},t),a().createElement(o.GridItem,{lg:6},e)));var Q=n(66095);const tt=({title:t,selectedTopic:e,topicList:n,duration:i,isDisabled:r,isRefreshing:s,onSetTimeDuration:c,onRefresh:l,onSetSelectedTopic:u})=>a().createElement(a().Fragment,null,a().createElement(o.CardHeader,null,a().createElement(o.CardTitle,{component:"h2"},t),a().createElement(o.CardActions,null,a().createElement(o.Toolbar,null,a().createElement(o.ToolbarContent,null,a().createElement(V,{selectedTopic:e,onSetSelectedTopic:u,topicList:n,disableToolbar:r}),a().createElement(N,{duration:i,onDurationChange:c,disableToolbar:r,keyText:"topic-metrics-time-filter"}),a().createElement(o.ToolbarItem,null,a().createElement(o.Button,{isLoading:s,variant:"plain","aria-label":"sync",onClick:l},!s&&a().createElement(Q.ZP,null))))))),a().createElement(o.Divider,null)),et=()=>a().createElement(o.CardBody,null,a().createElement(o.Bullseye,null,a().createElement(o.Spinner,{isSVG:!0}))),nt=({topics:t,incomingTopicsData:e,outgoingTopicsData:n,selectedTopic:i,duration:r,partitions:s,backendUnavailable:c,metricsDataUnavailable:l,isLoading:u,isRefreshing:d,onCreateTopic:h,onRefresh:p,onSelectedTopic:f,onDurationChange:g})=>{const{t:v}=(0,A.useTranslation)(),m=0===t.length;return a().createElement(o.Card,null,a().createElement(tt,{title:v("metrics.topic_metrics"),duration:r,onSetTimeDuration:g,isDisabled:c||m,isRefreshing:d,selectedTopic:i,onSetSelectedTopic:f,onRefresh:p,topicList:t}),(()=>{switch(!0){case u&&void 0===i:return a().createElement(o.CardBody,null,a().createElement(o.Bullseye,null,a().createElement(o.Spinner,{isSVG:!0})));case u:return a().createElement(a().Fragment,null,a().createElement(it,null),a().createElement(et,null),a().createElement(o.Divider,null),a().createElement(at,null),a().createElement(et,null));case c:return a().createElement(o.CardBody,null,a().createElement(P,null));case l:return a().createElement(o.CardBody,null,a().createElement(O,null));case m:return a().createElement(o.CardBody,null,a().createElement(I,{onCreateTopic:h}));case void 0!==i:return a().createElement(a().Fragment,null,a().createElement(it,null),a().createElement(o.CardBody,null,a().createElement(ot,{incomingTopicsData:e,outgoingTopicsData:n,selectedTopic:i,duration:r})),a().createElement(o.Divider,null),a().createElement(at,null),a().createElement(o.CardBody,null,a().createElement(K,{partitions:s,duration:r})));default:return a().createElement(a().Fragment,null,a().createElement(it,null),a().createElement(o.CardBody,null,a().createElement(ot,{incomingTopicsData:e,outgoingTopicsData:n,selectedTopic:i,duration:r})),a().createElement(o.Divider,null),a().createElement(at,null),a().createElement(o.CardBody,null,a().createElement(M,null)))}})())},it=()=>{const{t}=(0,A.useTranslation)();return a().createElement(o.CardTitle,{component:"h3"},t("metrics.total_bytes")," ",a().createElement(C,{title:t("metrics.total_bytes_popover_header"),description:t("metrics.topic_metrics_help_text")}))},at=()=>{const{t}=(0,A.useTranslation)();return a().createElement(o.CardTitle,{component:"h3"},t("metrics.topic_partition_size")," ",a().createElement(C,{title:t("metrics.topic_partition_size_popover_header"),description:t("metrics.topic_partition_size_help_text")}))};var rt=n(82874);const ot=({incomingTopicsData:t,outgoingTopicsData:e,selectedTopic:n,duration:r})=>{const{t:o}=(0,A.useTranslation)(),s=(0,i.useRef)(null),[c,l]=(0,i.useState)(),u=()=>s.current&&l(s.current.clientWidth),d=c&&c>650?6:3;(0,i.useEffect)((()=>{u(),window.addEventListener("resize",u)}),[c]);const{chartData:h,legendData:p,tickValues:f}=function(t,e,n,i,a){const r=[],o=[],s=st(t,i);if(s){const t=z.ZP.value;o.push({color:t,line:s}),r.push({name:i,symbol:{fill:t}})}const c=st(e,a);if(c){const t=rt.ZP.value;o.push({color:t,line:c}),r.push({name:a,symbol:{fill:t}})}const l=[...Object.keys(t),...Object.keys(e)];l.sort();const u=parseInt(l[l.length-1]),d=new Array($[n].ticks).fill(u).map(((t,e)=>(0,X.Z)(new Date(t),{seconds:$[n].interval*e}).getTime()));return{legendData:r,chartData:o,tickValues:d}}(t,e,r,o("{{topic}} incoming bytes",{topic:n||o("Total")}),o("{{topic}} outgoing bytes",{topic:n||o("Total")}));return a().createElement("div",{ref:s},a().createElement(B.Chart,{ariaTitle:o("metrics.total_bytes"),containerComponent:a().createElement(B.ChartVoronoiContainer,{labels:({datum:t})=>`${t.name}: ${H(t.y)}`,constrainToVisibleArea:!0}),legendAllowWrap:!0,legendPosition:"bottom-left",legendComponent:a().createElement(B.ChartLegend,{data:p,itemsPerRow:d}),height:300,padding:{bottom:110,left:120,right:40,top:40},themeColor:B.ChartThemeColor.multiUnordered,width:c},a().createElement(B.ChartAxis,{label:"\nTime",tickValues:f,tickCount:$[r].ticks,tickFormat:t=>Y(new Date(t),{showDate:W(r)})}),a().createElement(B.ChartAxis,{label:"\n\n\n\n\nBytes",dependentAxis:!0,tickFormat:H}),a().createElement(B.ChartGroup,null,h.map(((t,e)=>a().createElement(B.ChartLine,{key:`chart-line-${e}`,data:t.line,style:{data:{stroke:t.color}}}))))))};function st(t,e){const n=[];return Object.entries(t).map((([t,i])=>{n.push({name:e,x:parseInt(t,10),y:i})})),n}var ct=n(9914);const lt=({metrics:t,duration:e,chartName:n,usageLimit:r,formatValue:o=(t=>`${t}`)})=>{const s=(0,i.useRef)(null),{t:c}=(0,A.useTranslation)(),[l,u]=(0,i.useState)(),d=()=>s.current&&u(s.current.clientWidth),h=l&&l>650?6:3;(0,i.useEffect)((()=>{d(),window.addEventListener("resize",d)}),[l]);const{chartData:p,legendData:f,tickValues:g}=function(t,e,n,i,a){const r=[a?{name:i,symbol:{fill:ct.ZP.value,type:"threshold"}}:void 0,{name:n,symbol:{fill:z.ZP.value}}].filter((t=>!!t)),o=z.ZP.value,s=ct.ZP.value,c=[],l=[],u=[];Object.entries(t).map((([t,e])=>{l.push({name:n,x:parseInt(t,10),y:e}),a&&u.push({name:i,x:parseInt(t,10),y:a})})),c.push({areaColor:o,softLimitColor:s,area:l,softLimit:u});const d=Object.keys(t),h=parseInt(d[0]),p=new Array($[e].ticks).fill(h).map(((t,n)=>(0,X.Z)(new Date(t),{seconds:$[e].interval*n}).getTime()));return{legendData:r,chartData:c,tickValues:p}}(t,e,n,c("Limit"),r);return a().createElement("div",{ref:s},a().createElement(B.Chart,{ariaTitle:c("metrics.used_disk_space"),containerComponent:a().createElement(B.ChartVoronoiContainer,{labels:({datum:t})=>`${t.name}: ${o(t.y)}`,constrainToVisibleArea:!0}),legendPosition:"bottom-left",legendComponent:a().createElement(B.ChartLegend,{orientation:"horizontal",data:f,itemsPerRow:h}),height:350,padding:{bottom:110,left:120,right:40,top:40},themeColor:B.ChartThemeColor.multiUnordered,width:l,legendAllowWrap:!0},a().createElement(B.ChartAxis,{label:"\nTime",tickValues:g,tickFormat:t=>Y(new Date(t),{showDate:W(e)})}),a().createElement(B.ChartAxis,{label:"\n\n\n\n\n"+n,dependentAxis:!0,tickFormat:o}),a().createElement(B.ChartGroup,null,p.map(((t,e)=>a().createElement(B.ChartArea,{key:`chart-area-${e}`,data:t.area,interpolation:"monotoneX",style:{data:{}}})))),a().createElement(B.ChartThreshold,{key:"chart-softlimit",data:p[0].softLimit,style:{data:{stroke:p[0].softLimitColor}}})))};const ut=({title:t,isDisabled:e,isRefreshing:n,duration:i,onSetTimeDuration:r,onRefresh:s})=>a().createElement(a().Fragment,null,a().createElement(o.CardHeader,null,a().createElement(o.CardTitle,{component:"h2"},t),a().createElement(o.CardActions,null,a().createElement(o.Toolbar,null,a().createElement(o.ToolbarContent,null,a().createElement(N,{duration:i,onDurationChange:r,keyText:"kafka-metrics-time-filter",disableToolbar:e}),a().createElement(o.ToolbarItem,null,a().createElement(o.Button,{isLoading:n,variant:"plain","aria-label":"sync",onClick:s},!n&&a().createElement(Q.ZP,null))))))),a().createElement(o.Divider,null)),dt=({usedDiskMetrics:t,connectionAttemptRateMetrics:e,duration:n,metricsDataUnavailable:i,isLoading:r,isRefreshing:s,onRefresh:c,onDurationChange:l})=>{const{t:u}=(0,A.useTranslation)();return a().createElement(o.Card,null,a().createElement(ut,{title:u("metrics.kafka_instance_metrics"),duration:n,onSetTimeDuration:l,isDisabled:i,isRefreshing:s,onRefresh:c}),(()=>{switch(!0){case r:return a().createElement(a().Fragment,null,a().createElement(ht,{title:"used_disk_space",helperText:"used_disk_space_help_text"}),a().createElement(et,null));case i:return a().createElement(o.CardBody,null,a().createElement(P,null));default:return a().createElement(a().Fragment,null,a().createElement(ht,{title:"used_disk_space",helperText:"used_disk_space_help_text"}),a().createElement(o.CardBody,null,a().createElement(lt,{chartName:u("metrics.used_disk_space"),metrics:t,duration:n,formatValue:H,usageLimit:1e3*Math.pow(1024,3)})),a().createElement(o.Divider,null),a().createElement(ht,{title:"connection_attempt_rate",helperText:"connection_attempt_rate_help_text"}),a().createElement(o.CardBody,null,a().createElement(lt,{chartName:u("metrics.connection_attempt_rate"),metrics:e,duration:n,usageLimit:100})))}})())},ht=({title:t,helperText:e})=>{const{t:n}=(0,A.useTranslation)();return a().createElement(o.CardTitle,{component:"h3"},n(`metrics.${t}`)," ",a().createElement(C,{title:n(`metrics.${t}`),description:n(`metrics.${e}`)}))};var pt=n(38801),ft=n(66310);const gt=(0,ft.createModel)({duration:60,usedDiskSpaceMetrics:{},clientConnectionsMetrics:{},connectionAttemptRateMetrics:{},fetchFailures:0},{events:{fetch:()=>({}),fetchSuccess:t=>Object.assign({},t),fetchFail:()=>({}),refresh:()=>({}),selectTopic:t=>({selectedTopic:t}),selectDuration:t=>({duration:t})}}),vt=gt.assign(((t,e)=>{const{usedDiskSpaceMetrics:n,clientConnectionsMetrics:i,connectionAttemptRateMetrics:a}=e;return{usedDiskSpaceMetrics:n,clientConnectionsMetrics:i,connectionAttemptRateMetrics:a}}),"fetchSuccess"),mt=gt.assign({fetchFailures:t=>t.fetchFailures+1},"fetchFail"),yt=gt.assign({fetchFailures:()=>0},"refresh"),_t=gt.assign({duration:(t,e)=>e.duration},"selectDuration"),bt=gt.createMachine({id:"diskSpace",context:gt.initialContext,initial:"callApi",states:{callApi:{tags:"loading",initial:"loading",states:{loading:{invoke:{src:"api"},on:{fetchSuccess:{actions:vt,target:"#diskSpace.verifyData"},fetchFail:{actions:mt,target:"failure"}}},failure:{after:{1e3:[{cond:"canRetryFetching",target:"loading"},{target:"#diskSpace.criticalFail"}]}}}},criticalFail:{tags:"failed",on:{refresh:{actions:yt,target:"callApi"}}},verifyData:{always:[{cond:"hasMetrics",target:"withMetrics"},{target:"noData"}]},noData:{tags:"no-data",on:{refresh:{actions:yt,target:"callApi"},selectDuration:{actions:_t,target:"refreshing"}}},withMetrics:{on:{refresh:{target:"refreshing"},selectDuration:{actions:_t,target:"refreshing"}}},refreshing:{tags:"refreshing",invoke:{src:"api"},on:{fetchSuccess:{actions:vt,target:"verifyData"},fetchFail:{target:"verifyData"}}}}},{guards:{canRetryFetching:t=>t.fetchFailures<3,hasMetrics:t=>Object.keys(t.usedDiskSpaceMetrics).length>0}}),St=(0,ft.createModel)({selectedTopic:void 0,duration:60,kafkaTopics:[],metricsTopics:[],bytesOutgoing:{},bytesIncoming:{},bytesPerPartition:{},incomingMessageRate:{},fetchFailures:0},{events:{fetch:()=>({}),fetchSuccess:t=>Object.assign({},t),fetchFail:()=>({}),refresh:()=>({}),selectTopic:t=>({selectedTopic:t}),selectDuration:t=>({duration:t})}}),Et=St.assign(((t,e)=>{const{kafkaTopics:n,metricsTopics:i,bytesPerPartition:a,bytesIncoming:r,bytesOutgoing:o,incomingMessageRate:s}=e;return{kafkaTopics:n,metricsTopics:i,bytesPerPartition:a,bytesIncoming:r,bytesOutgoing:o,incomingMessageRate:s}}),"fetchSuccess"),wt=St.assign({fetchFailures:t=>t.fetchFailures+1},"fetchFail"),Tt=St.assign({fetchFailures:()=>0},"refresh"),kt=St.assign({selectedTopic:(t,e)=>e.selectedTopic},"selectTopic"),Ct=St.assign({duration:(t,e)=>e.duration},"selectDuration"),xt=St.createMachine({id:"topics",context:St.initialContext,initial:"callApi",states:{callApi:{tags:"loading",initial:"loading",states:{loading:{invoke:{src:"api"},on:{fetchSuccess:{actions:Et,target:"#topics.verifyData"},fetchFail:{actions:wt,target:"failure"}}},failure:{after:{1e3:[{cond:"canRetryFetching",target:"loading"},{target:"#topics.criticalFail"}]}}}},criticalFail:{tags:"failed",on:{refresh:{actions:Tt,target:"callApi"}}},verifyData:{always:[{cond:"hasMetrics",target:"withTopics"},{target:"noData"}]},noData:{tags:"no-data",initial:"idle",states:{idle:{},refreshing:{tags:"refreshing",invoke:{src:"api"},on:{fetchSuccess:{actions:Et,target:"#topics.verifyData"},fetchFail:{target:"#topics.noData"}}}},on:{refresh:{target:"#topics.noData.refreshing"},selectTopic:{actions:kt,target:"#topics.noData.refreshing"},selectDuration:{actions:Ct,target:"#topics.noData.refreshing"}}},withTopics:{initial:"idle",states:{idle:{},refreshing:{tags:"refreshing",invoke:{src:"api"},on:{fetchSuccess:{actions:Et,target:"#topics.verifyData"},fetchFail:{target:"#topics.withTopics"}}}},on:{refresh:{target:"#topics.withTopics.refreshing"},selectTopic:{actions:kt,target:"#topics.withTopics.refreshing"},selectDuration:{actions:Ct,target:"#topics.withTopics.refreshing"}}}}},{guards:{canRetryFetching:t=>t.fetchFailures<3,hasMetrics:t=>{const e=t.kafkaTopics.length>0||t.metricsTopics.length>0,n=Object.keys(t.bytesIncoming).length>0||Object.keys(t.bytesOutgoing).length>0;return e&&n}}}),Dt=(0,i.createContext)(null),At=({children:t,getDiskSpaceMetrics:e,getTopicsMetrics:n})=>{const i=function({getTopicsMetrics:t}){return(0,pt.useInterpret)(xt.withConfig({services:{api:e=>n=>{t({selectedTopic:e.selectedTopic,duration:e.duration,interval:$[e.duration].interval}).then((t=>n(St.events.fetchSuccess(t)))).catch((t=>{console.error("Failed fetching data",t),n(St.events.fetchFail())}))}}}),{devTools:!0})}({getTopicsMetrics:n}),r=function({getDiskSpaceMetrics:t}){return(0,pt.useInterpret)(bt.withConfig({services:{api:e=>n=>{t({duration:e.duration,interval:$[e.duration].interval}).then((t=>n(gt.events.fetchSuccess(t)))).catch((t=>{console.error("Failed fetching data",t),n(gt.events.fetchFail())}))}}}),{devTools:!0})}({getDiskSpaceMetrics:e});return a().createElement(Dt.Provider,{value:{kafkaInstanceMetricsMachineService:r,topicsMetricsMachineService:i}},t)};function Pt(){const{kafkaInstanceMetricsMachineService:t}=(0,i.useContext)(Dt),e=(0,i.useCallback)((t=>Object.assign(Object.assign({},t.context),{isRefreshing:t.hasTag("refreshing"),isLoading:t.hasTag("loading"),isFailed:t.hasTag("failed"),isDataUnavailable:t.hasTag("no-data")})),[]),{usedDiskSpaceMetrics:n,connectionAttemptRateMetrics:a,duration:r,isLoading:o,isRefreshing:s,isDataUnavailable:c,isFailed:l}=(0,pt.useSelector)(t,e),u=(0,i.useCallback)((e=>t.send(gt.events.selectDuration(e))),[t]);return{usedDiskSpaceMetrics:n,connectionAttemptRateMetrics:a,isLoading:o,isRefreshing:s,isFailed:l,isDataUnavailable:c,duration:r,onDurationChange:u,onRefresh:(0,i.useCallback)((()=>t.send(gt.events.refresh())),[t])}}const Ot=({getDiskSpaceMetrics:t,getTopicsMetrics:e,onCreateTopic:n})=>a().createElement(At,{getDiskSpaceMetrics:t,getTopicsMetrics:e},a().createElement(It,{onCreateTopic:n})),It=({onCreateTopic:t})=>{const{isLoading:e,isFailed:n}=Pt();switch(!0){case e:return a().createElement(x,null);case n:return a().createElement(P,null)}return a().createElement(q,{diskSpaceMetrics:a().createElement(Mt,null),topicMetrics:a().createElement(Lt,{onCreateTopic:t})})},Mt=()=>{const{isLoading:t,isRefreshing:e,isDataUnavailable:n,isFailed:i,duration:r,usedDiskSpaceMetrics:o,connectionAttemptRateMetrics:s,onDurationChange:c,onRefresh:l}=Pt();return a().createElement(dt,{usedDiskMetrics:o,connectionAttemptRateMetrics:s,duration:r,metricsDataUnavailable:n||i,isLoading:t,isRefreshing:e,onRefresh:l,onDurationChange:c})},Lt=({onCreateTopic:t})=>{const{isLoading:e,isRefreshing:n,isFailed:r,isDataUnavailable:o,selectedTopic:s,duration:c,topics:l,bytesIncoming:u,bytesOutgoing:d,bytesPerPartition:h,onDurationChange:p,onTopicChange:f,onRefresh:g}=function(){const{topicsMetricsMachineService:t}=(0,i.useContext)(Dt),e=(0,i.useCallback)((t=>Object.assign(Object.assign({},t.context),{isRefreshing:t.hasTag("refreshing"),isLoading:t.hasTag("loading"),isFailed:t.hasTag("failed"),isDataUnavailable:t.hasTag("no-data")})),[]),{selectedTopic:n,duration:a,kafkaTopics:r,metricsTopics:o,bytesIncoming:s,bytesOutgoing:c,bytesPerPartition:l,isLoading:u,isRefreshing:d,isDataUnavailable:h,isFailed:p}=(0,pt.useSelector)(t,e),f=(0,i.useCallback)((e=>t.send(St.events.selectTopic(e))),[t]),g=(0,i.useCallback)((e=>t.send(St.events.selectDuration(e))),[t]),v=(0,i.useCallback)((()=>t.send(St.events.refresh())),[t]);return{isLoading:u,isRefreshing:d,isFailed:p,isDataUnavailable:h,topics:(0,i.useMemo)((()=>{const t=Array.from(new Set([...r,...o]));return t.sort(((t,e)=>t.localeCompare(e))),t}),[r,o]),selectedTopic:n,duration:a,bytesIncoming:s,bytesOutgoing:c,bytesPerPartition:l,onTopicChange:f,onDurationChange:g,onRefresh:v}}();return a().createElement(nt,{backendUnavailable:r,metricsDataUnavailable:o,topics:l,incomingTopicsData:u,outgoingTopicsData:d,partitions:h,duration:c,isLoading:e,isRefreshing:n,selectedTopic:s,onRefresh:g,onSelectedTopic:f,onDurationChange:p,onCreateTopic:t})}},13882:(t,e,n)=>{function i(t,e){if(e.length<t)throw new TypeError(t+" argument"+(t>1?"s":"")+" required, but only "+e.length+" present")}n.d(e,{Z:()=>i})},83946:(t,e,n)=>{function i(t){if(null===t||!0===t||!1===t)return NaN;var e=Number(t);return isNaN(e)?e:e<0?Math.ceil(e):Math.floor(e)}n.d(e,{Z:()=>i})},77349:(t,e,n)=>{n.d(e,{Z:()=>o});var i=n(83946),a=n(19013),r=n(13882);function o(t,e){(0,r.Z)(2,arguments);var n=(0,a.Z)(t),o=(0,i.Z)(e);return isNaN(o)?new Date(NaN):o?(n.setDate(n.getDate()+o),n):n}},11640:(t,e,n)=>{n.d(e,{Z:()=>o});var i=n(83946),a=n(19013),r=n(13882);function o(t,e){(0,r.Z)(2,arguments);var n=(0,a.Z)(t),o=(0,i.Z)(e);if(isNaN(o))return new Date(NaN);if(!o)return n;var s=n.getDate(),c=new Date(n.getTime());c.setMonth(n.getMonth()+o+1,0);var l=c.getDate();return s>=l?c:(n.setFullYear(c.getFullYear(),c.getMonth(),s),n)}},30734:(t,e,n)=>{n.d(e,{Z:()=>s});var i=n(7069),a=n(54559),r=n(13882),o=n(83946);function s(t,e){if((0,r.Z)(2,arguments),!e||"object"!=typeof e)return new Date(NaN);var n=e.years?(0,o.Z)(e.years):0,s=e.months?(0,o.Z)(e.months):0,c=e.weeks?(0,o.Z)(e.weeks):0,l=e.days?(0,o.Z)(e.days):0,u=e.hours?(0,o.Z)(e.hours):0,d=e.minutes?(0,o.Z)(e.minutes):0,h=e.seconds?(0,o.Z)(e.seconds):0,p=(0,a.Z)(t,s+12*n),f=(0,i.Z)(p,l+7*c),g=d+60*u,v=h+60*g,m=1e3*v,y=new Date(f.getTime()-m);return y}},7069:(t,e,n)=>{n.d(e,{Z:()=>o});var i=n(83946),a=n(77349),r=n(13882);function o(t,e){(0,r.Z)(2,arguments);var n=(0,i.Z)(e);return(0,a.Z)(t,-n)}},54559:(t,e,n)=>{n.d(e,{Z:()=>o});var i=n(83946),a=n(11640),r=n(13882);function o(t,e){(0,r.Z)(2,arguments);var n=(0,i.Z)(e);return(0,a.Z)(t,-n)}},19013:(t,e,n)=>{n.d(e,{Z:()=>a});var i=n(13882);function a(t){(0,i.Z)(1,arguments);var e=Object.prototype.toString.call(t);return t instanceof Date||"object"==typeof t&&"[object Date]"===e?new Date(t.getTime()):"number"==typeof t||"[object Number]"===e?new Date(t):("string"!=typeof t&&"[object String]"!==e||"undefined"==typeof console||(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://git.io/fjule"),console.warn((new Error).stack)),new Date(NaN))}},70655:(t,e,n)=>{n.r(e),n.d(e,{__extends:()=>a,__assign:()=>r,__rest:()=>o,__decorate:()=>s,__param:()=>c,__metadata:()=>l,__awaiter:()=>u,__generator:()=>d,__createBinding:()=>h,__exportStar:()=>p,__values:()=>f,__read:()=>g,__spread:()=>v,__spreadArrays:()=>m,__spreadArray:()=>y,__await:()=>_,__asyncGenerator:()=>b,__asyncDelegator:()=>S,__asyncValues:()=>E,__makeTemplateObject:()=>w,__importStar:()=>k,__importDefault:()=>C,__classPrivateFieldGet:()=>x,__classPrivateFieldSet:()=>D});var i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},i(t,e)};function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var r=function(){return r=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var a in e=arguments[n])Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t},r.apply(this,arguments)};function o(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(i=Object.getOwnPropertySymbols(t);a<i.length;a++)e.indexOf(i[a])<0&&Object.prototype.propertyIsEnumerable.call(t,i[a])&&(n[i[a]]=t[i[a]])}return n}function s(t,e,n,i){var a,r=arguments.length,o=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(a=t[s])&&(o=(r<3?a(o):r>3?a(e,n,o):a(e,n))||o);return r>3&&o&&Object.defineProperty(e,n,o),o}function c(t,e){return function(n,i){e(n,i,t)}}function l(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}function u(t,e,n,i){return new(n||(n=Promise))((function(a,r){function o(t){try{c(i.next(t))}catch(t){r(t)}}function s(t){try{c(i.throw(t))}catch(t){r(t)}}function c(t){var e;t.done?a(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(o,s)}c((i=i.apply(t,e||[])).next())}))}function d(t,e){var n,i,a,r,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(r){return function(s){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,i&&(a=2&r[0]?i.return:r[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,r[1])).done)return a;switch(i=0,a&&(r=[2&r[0],a.value]),r[0]){case 0:case 1:a=r;break;case 4:return o.label++,{value:r[1],done:!1};case 5:o.label++,i=r[1],r=[0];continue;case 7:r=o.ops.pop(),o.trys.pop();continue;default:if(!(a=o.trys,(a=a.length>0&&a[a.length-1])||6!==r[0]&&2!==r[0])){o=0;continue}if(3===r[0]&&(!a||r[1]>a[0]&&r[1]<a[3])){o.label=r[1];break}if(6===r[0]&&o.label<a[1]){o.label=a[1],a=r;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(r);break}a[2]&&o.ops.pop(),o.trys.pop();continue}r=e.call(t,o)}catch(t){r=[6,t],i=0}finally{n=a=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,s])}}}var h=Object.create?function(t,e,n,i){void 0===i&&(i=n),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,i){void 0===i&&(i=n),t[i]=e[n]};function p(t,e){for(var n in t)"default"===n||Object.prototype.hasOwnProperty.call(e,n)||h(e,t,n)}function f(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function g(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,a,r=n.call(t),o=[];try{for(;(void 0===e||e-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(t){a={error:t}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return o}function v(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(g(arguments[e]));return t}function m(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var i=Array(t),a=0;for(e=0;e<n;e++)for(var r=arguments[e],o=0,s=r.length;o<s;o++,a++)i[a]=r[o];return i}function y(t,e,n){if(n||2===arguments.length)for(var i,a=0,r=e.length;a<r;a++)!i&&a in e||(i||(i=Array.prototype.slice.call(e,0,a)),i[a]=e[a]);return t.concat(i||Array.prototype.slice.call(e))}function _(t){return this instanceof _?(this.v=t,this):new _(t)}function b(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,a=n.apply(t,e||[]),r=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(t){a[t]&&(i[t]=function(e){return new Promise((function(n,i){r.push([t,e,n,i])>1||s(t,e)}))})}function s(t,e){try{(n=a[t](e)).value instanceof _?Promise.resolve(n.value.v).then(c,l):u(r[0][2],n)}catch(t){u(r[0][3],t)}var n}function c(t){s("next",t)}function l(t){s("throw",t)}function u(t,e){t(e),r.shift(),r.length&&s(r[0][0],r[0][1])}}function S(t){var e,n;return e={},i("next"),i("throw",(function(t){throw t})),i("return"),e[Symbol.iterator]=function(){return this},e;function i(i,a){e[i]=t[i]?function(e){return(n=!n)?{value:_(t[i](e)),done:"return"===i}:a?a(e):e}:a}}function E(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,n=t[Symbol.asyncIterator];return n?n.call(t):(t=f(t),e={},i("next"),i("throw"),i("return"),e[Symbol.asyncIterator]=function(){return this},e);function i(n){e[n]=t[n]&&function(e){return new Promise((function(i,a){(function(t,e,n,i){Promise.resolve(i).then((function(e){t({value:e,done:n})}),e)})(i,a,(e=t[n](e)).done,e.value)}))}}}function w(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}var T=Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e};function k(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&h(e,t,n);return T(e,t),e}function C(t){return t&&t.__esModule?t:{default:t}}function x(t,e,n,i){if("a"===n&&!i)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof e?t!==e||!i:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?i:"a"===n?i.call(t):i?i.value:e.get(t)}function D(t,e,n,i,a){if("m"===i)throw new TypeError("Private method is not writable");if("a"===i&&!a)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof e?t!==e||!a:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===i?a.call(t,n):a?a.value=n:e.set(t,n),n}},35294:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0});var i=n(77944);e.Machine=function(t,e,n){return void 0===n&&(n=t.context),new i.StateNode(t,e,n)},e.createMachine=function(t,e){return new i.StateNode(t,e)}},17556:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0});var i=n(80552),a=n(39448),r=n(29660),o=n(50509),s=n(52119),c=n(41428);var l=function(){function t(t){var e,n=this;this.actions=[],this.activities=a.EMPTY_ACTIVITY_MAP,this.meta={},this.events=[],this.value=t.value,this.context=t.context,this._event=t._event,this._sessionid=t._sessionid,this.event=this._event.data,this.historyValue=t.historyValue,this.history=t.history,this.actions=t.actions||[],this.activities=t.activities||a.EMPTY_ACTIVITY_MAP,this.meta=s.getMeta(t.configuration),this.events=t.events||[],this.matches=this.matches.bind(this),this.toStrings=this.toStrings.bind(this),this.configuration=t.configuration,this.transitions=t.transitions,this.children=t.children,this.done=!!t.done,this.tags=null!==(e=Array.isArray(t.tags)?new Set(t.tags):t.tags)&&void 0!==e?e:new Set,this.machine=t.machine,Object.defineProperty(this,"nextEvents",{get:function(){return s.nextEvents(n.configuration)}})}return t.from=function(e,n){return e instanceof t?e.context!==n?new t({value:e.value,context:n,_event:e._event,_sessionid:null,historyValue:e.historyValue,history:e.history,actions:[],activities:e.activities,meta:{},events:[],configuration:[],transitions:[],children:{}}):e:new t({value:e,context:n,_event:c.initEvent,_sessionid:null,historyValue:void 0,history:void 0,actions:[],activities:void 0,meta:void 0,events:[],configuration:[],transitions:[],children:{}})},t.create=function(e){return new t(e)},t.inert=function(e,n){if(e instanceof t){if(!e.actions.length)return e;var i=c.initEvent;return new t({value:e.value,context:n,_event:i,_sessionid:null,historyValue:e.historyValue,history:e.history,activities:e.activities,configuration:e.configuration,transitions:[],children:{}})}return t.from(e,n)},t.prototype.toStrings=function(t,e){var n=this;if(void 0===t&&(t=this.value),void 0===e&&(e="."),o.isString(t))return[t];var a=o.keys(t);return a.concat.apply(a,i.__spreadArray([],i.__read(a.map((function(i){return n.toStrings(t[i],e).map((function(t){return i+e+t}))}))),!1))},t.prototype.toJSON=function(){var t=this,e=(t.configuration,t.transitions,t.tags),n=(t.machine,i.__rest(t,["configuration","transitions","tags","machine"]));return i.__assign(i.__assign({},n),{tags:Array.from(e)})},t.prototype.matches=function(t){return o.matchesState(t,this.value)},t.prototype.hasTag=function(t){return this.tags.has(t)},t.prototype.can=function(t){var e;return r.IS_PRODUCTION&&o.warn(!!this.machine,"state.can(...) used outside of a machine-created State object; this will always return false."),!!(null===(e=this.machine)||void 0===e?void 0:e.transition(this,t).changed)},t}();e.State=l,e.bindActionToState=function(t,e){var n=t.exec;return i.__assign(i.__assign({},t),{exec:void 0!==n?function(){return n(e.context,e.event,{action:t,state:e,_event:e._event})}:void 0})},e.isState=function(t){return!o.isString(t)&&("value"in t&&"history"in t)},e.stateValuesEqual=function t(e,n){if(e===n)return!0;if(void 0===e||void 0===n)return!1;if(o.isString(e)||o.isString(n))return e===n;var i=o.keys(e),a=o.keys(n);return i.length===a.length&&i.every((function(i){return t(e[i],n[i])}))}},77944:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0});var i=n(80552),a=n(39448),r=n(29660),o=n(50509),s=n(27108),c=n(52119),l=n(73487),u=n(41428),d=n(17556),h=n(70880),p=n(30290),f="",g="*",v={},m=function(t){return"#"===t[0]},y=function(){function t(e,n,s){var l,d=this;void 0===s&&(s="context"in e?e.context:void 0),this.config=e,this._context=s,this.order=-1,this.__xstatenode=!0,this.__cache={events:void 0,relativeValue:new Map,initialStateValue:void 0,initialState:void 0,on:void 0,transitions:void 0,candidates:{},delayedTransitions:void 0},this.idMap={},this.tags=[],this.options=Object.assign({actions:{},guards:{},services:{},activities:{},delays:{}},n),this.parent=this.options._parent,this.key=this.config.key||this.options._key||this.config.id||"(machine)",this.machine=this.parent?this.parent.machine:this,this.path=this.parent?this.parent.path.concat(this.key):[],this.delimiter=this.config.delimiter||(this.parent?this.parent.delimiter:a.STATE_DELIMITER),this.id=this.config.id||i.__spreadArray([this.machine.key],i.__read(this.path),!1).join(this.delimiter),this.version=this.parent?this.parent.version:this.config.version,this.type=this.config.type||(this.config.parallel?"parallel":this.config.states&&o.keys(this.config.states).length?"compound":this.config.history?"history":"atomic"),this.schema=this.parent?this.machine.schema:null!==(l=this.config.schema)&&void 0!==l?l:{},this.description=this.config.description,r.IS_PRODUCTION||o.warn(!("parallel"in this.config),'The "parallel" property is deprecated and will be removed in version 4.1. '.concat(this.config.parallel?"Replace with `type: 'parallel'`":"Use `type: '".concat(this.type,"'`")," in the config for state node '").concat(this.id,"' instead.")),this.initial=this.config.initial,this.states=this.config.states?o.mapValues(this.config.states,(function(e,n){var a,r=new t(e,{_parent:d,_key:n});return Object.assign(d.idMap,i.__assign(((a={})[r.id]=r,a),r.idMap)),r})):v;var h=0;!function t(e){var n,a;e.order=h++;try{for(var r=i.__values(c.getChildren(e)),o=r.next();!o.done;o=r.next()){t(o.value)}}catch(t){n={error:t}}finally{try{o&&!o.done&&(a=r.return)&&a.call(r)}finally{if(n)throw n.error}}}(this),this.history=!0===this.config.history?"shallow":this.config.history||!1,this._transient=!!this.config.always||!!this.config.on&&(Array.isArray(this.config.on)?this.config.on.some((function(t){return t.event===f})):f in this.config.on),this.strict=!!this.config.strict,this.onEntry=o.toArray(this.config.entry||this.config.onEntry).map((function(t){return u.toActionObject(t)})),this.onExit=o.toArray(this.config.exit||this.config.onExit).map((function(t){return u.toActionObject(t)})),this.meta=this.config.meta,this.doneData="final"===this.type?this.config.data:void 0,this.invoke=o.toArray(this.config.invoke).map((function(t,e){var n,a;if(o.isMachine(t))return d.machine.options.services=i.__assign(((n={})[t.id]=t,n),d.machine.options.services),p.toInvokeDefinition({src:t.id,id:t.id});if(o.isString(t.src))return p.toInvokeDefinition(i.__assign(i.__assign({},t),{id:t.id||t.src,src:t.src}));if(o.isMachine(t.src)||o.isFunction(t.src)){var r="".concat(d.id,":invocation[").concat(e,"]");return d.machine.options.services=i.__assign(((a={})[r]=t.src,a),d.machine.options.services),p.toInvokeDefinition(i.__assign(i.__assign({id:r},t),{src:r}))}var s=t.src;return p.toInvokeDefinition(i.__assign(i.__assign({id:s.type},t),{src:s}))})),this.activities=o.toArray(this.config.activities).concat(this.invoke).map((function(t){return u.toActivityDefinition(t)})),this.transition=this.transition.bind(this),this.tags=o.toArray(this.config.tags)}return t.prototype._init=function(){this.__cache.transitions||c.getAllStateNodes(this).forEach((function(t){return t.on}))},t.prototype.withConfig=function(e,n){var a=this.options,r=a.actions,o=a.activities,s=a.guards,c=a.services,l=a.delays;return new t(this.config,{actions:i.__assign(i.__assign({},r),e.actions),activities:i.__assign(i.__assign({},o),e.activities),guards:i.__assign(i.__assign({},s),e.guards),services:i.__assign(i.__assign({},c),e.services),delays:i.__assign(i.__assign({},l),e.delays)},null!=n?n:this.context)},t.prototype.withContext=function(e){return new t(this.config,this.options,e)},Object.defineProperty(t.prototype,"context",{get:function(){return o.isFunction(this._context)?this._context():this._context},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"definition",{get:function(){return{id:this.id,key:this.key,version:this.version,context:this.context,type:this.type,initial:this.initial,history:this.history,states:o.mapValues(this.states,(function(t){return t.definition})),on:this.on,transitions:this.transitions,entry:this.onEntry,exit:this.onExit,activities:this.activities||[],meta:this.meta,order:this.order||-1,data:this.doneData,invoke:this.invoke,description:this.description,tags:this.tags}},enumerable:!1,configurable:!0}),t.prototype.toJSON=function(){return this.definition},Object.defineProperty(t.prototype,"on",{get:function(){if(this.__cache.on)return this.__cache.on;var t=this.transitions;return this.__cache.on=t.reduce((function(t,e){return t[e.eventType]=t[e.eventType]||[],t[e.eventType].push(e),t}),{})},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"after",{get:function(){return this.__cache.delayedTransitions||(this.__cache.delayedTransitions=this.getDelayedTransitions(),this.__cache.delayedTransitions)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"transitions",{get:function(){return this.__cache.transitions||(this.__cache.transitions=this.formatTransitions(),this.__cache.transitions)},enumerable:!1,configurable:!0}),t.prototype.getCandidates=function(t){if(this.__cache.candidates[t])return this.__cache.candidates[t];var e=t===f,n=this.transitions.filter((function(n){var i=n.eventType===t;return e?i:i||n.eventType===g}));return this.__cache.candidates[t]=n,n},t.prototype.getDelayedTransitions=function(){var t=this,e=this.config.after;if(!e)return[];var n=function(e,n){var i=o.isFunction(e)?"".concat(t.id,":delay[").concat(n,"]"):e,a=u.after(i,t.id);return t.onEntry.push(u.send(a,{delay:e})),t.onExit.push(u.cancel(a)),a};return(o.isArray(e)?e.map((function(t,e){var a=n(t.delay,e);return i.__assign(i.__assign({},t),{event:a})})):o.flatten(o.keys(e).map((function(t,a){var r=e[t],s=o.isString(r)?{target:r}:r,c=isNaN(+t)?t:+t,l=n(c,a);return o.toArray(s).map((function(t){return i.__assign(i.__assign({},t),{event:l,delay:c})}))})))).map((function(e){var n=e.delay;return i.__assign(i.__assign({},t.formatTransition(e)),{delay:n})}))},t.prototype.getStateNodes=function(t){var e,n=this;if(!t)return[];var i=t instanceof d.State?t.value:o.toStateValue(t,this.delimiter);if(o.isString(i)){var a=this.getStateNode(i).initial;return void 0!==a?this.getStateNodes(((e={})[i]=a,e)):[this,this.states[i]]}var r=o.keys(i),s=r.map((function(t){return n.getStateNode(t)}));return s.push(this),s.concat(r.reduce((function(t,e){var a=n.getStateNode(e).getStateNodes(i[e]);return t.concat(a)}),[]))},t.prototype.handles=function(t){var e=o.getEventType(t);return this.events.includes(e)},t.prototype.resolveState=function(t){var e=Array.from(c.getConfiguration([],this.getStateNodes(t.value)));return new d.State(i.__assign(i.__assign({},t),{value:this.resolve(t.value),configuration:e,done:c.isInFinalState(e,this),tags:c.getTagsFromConfiguration(e)}))},t.prototype.transitionLeafNode=function(t,e,n){var i=this.getStateNode(t).next(e,n);return i&&i.transitions.length?i:this.next(e,n)},t.prototype.transitionCompoundNode=function(t,e,n){var i=o.keys(t),a=this.getStateNode(i[0])._transition(t[i[0]],e,n);return a&&a.transitions.length?a:this.next(e,n)},t.prototype.transitionParallelNode=function(t,e,n){var a,r,s={};try{for(var c=i.__values(o.keys(t)),l=c.next();!l.done;l=c.next()){var u=l.value,d=t[u];if(d){var h=this.getStateNode(u)._transition(d,e,n);h&&(s[u]=h)}}}catch(t){a={error:t}}finally{try{l&&!l.done&&(r=c.return)&&r.call(c)}finally{if(a)throw a.error}}var p=o.keys(s).map((function(t){return s[t]})),f=o.flatten(p.map((function(t){return t.transitions})));if(!p.some((function(t){return t.transitions.length>0})))return this.next(e,n);var g=o.flatten(p.map((function(t){return t.entrySet}))),v=o.flatten(o.keys(s).map((function(t){return s[t].configuration})));return{transitions:f,entrySet:g,exitSet:o.flatten(p.map((function(t){return t.exitSet}))),configuration:v,source:e,actions:o.flatten(o.keys(s).map((function(t){return s[t].actions})))}},t.prototype._transition=function(t,e,n){return o.isString(t)?this.transitionLeafNode(t,e,n):1===o.keys(t).length?this.transitionCompoundNode(t,e,n):this.transitionParallelNode(t,e,n)},t.prototype.next=function(t,e){var n,a,r,s=this,c=e.name,l=[],u=[];try{for(var d=i.__values(this.getCandidates(c)),h=d.next();!h.done;h=d.next()){var p=h.value,f=p.cond,g=p.in,v=t.context,y=!g||(o.isString(g)&&m(g)?t.matches(o.toStateValue(this.getStateNodeById(g).path,this.delimiter)):o.matchesState(o.toStateValue(g,this.delimiter),o.path(this.path.slice(0,-2))(t.value))),_=!1;try{_=!f||o.evaluateGuard(this.machine,f,v,e,t)}catch(t){throw new Error("Unable to evaluate guard '".concat(f.name||f.type,"' in transition for event '").concat(c,"' in state node '").concat(this.id,"':\n").concat(t.message))}if(_&&y){void 0!==p.target&&(u=p.target),l.push.apply(l,i.__spreadArray([],i.__read(p.actions),!1)),r=p;break}}}catch(t){n={error:t}}finally{try{h&&!h.done&&(a=d.return)&&a.call(d)}finally{if(n)throw n.error}}if(r){if(!u.length)return{transitions:[r],entrySet:[],exitSet:[],configuration:t.value?[this]:[],source:t,actions:l};var b=o.flatten(u.map((function(e){return s.getRelativeStateNodes(e,t.historyValue)}))),S=!!r.internal;return{transitions:[r],entrySet:S?[]:o.flatten(b.map((function(t){return s.nodesFromChild(t)}))),exitSet:S?[]:[this],configuration:b,source:t,actions:l}}},t.prototype.nodesFromChild=function(t){if(t.escapes(this))return[];for(var e=[],n=t;n&&n!==this;)e.push(n),n=n.parent;return e.push(this),e},t.prototype.escapes=function(t){if(this===t)return!1;for(var e=this.parent;e;){if(e===t)return!1;e=e.parent}return!0},t.prototype.getActions=function(t,e,n,a){var r,s,l,d,h=c.getConfiguration([],a?this.getStateNodes(a.value):[this]),p=t.configuration.length?c.getConfiguration(h,t.configuration):h;try{for(var f=i.__values(p),g=f.next();!g.done;g=f.next()){var v=g.value;c.has(h,v)||t.entrySet.push(v)}}catch(t){r={error:t}}finally{try{g&&!g.done&&(s=f.return)&&s.call(f)}finally{if(r)throw r.error}}try{for(var m=i.__values(h),y=m.next();!y.done;y=m.next()){v=y.value;c.has(p,v)&&!c.has(t.exitSet,v.parent)||t.exitSet.push(v)}}catch(t){l={error:t}}finally{try{y&&!y.done&&(d=m.return)&&d.call(m)}finally{if(l)throw l.error}}t.source||(t.exitSet=[],t.entrySet.push(this));var _=o.flatten(t.entrySet.map((function(i){var a=[];if("final"!==i.type)return a;var r=i.parent;if(!r.parent)return a;a.push(u.done(i.id,i.doneData),u.done(r.id,i.doneData?o.mapContext(i.doneData,e,n):void 0));var s=r.parent;return"parallel"===s.type&&c.getChildren(s).every((function(e){return c.isInFinalState(t.configuration,e)}))&&a.push(u.done(s.id)),a})));t.exitSet.sort((function(t,e){return e.order-t.order})),t.entrySet.sort((function(t,e){return t.order-e.order}));var b=new Set(t.entrySet),S=new Set(t.exitSet),E=i.__read([o.flatten(Array.from(b).map((function(t){return i.__spreadArray(i.__spreadArray([],i.__read(t.activities.map((function(t){return u.start(t)}))),!1),i.__read(t.onEntry),!1)}))).concat(_.map(u.raise)),o.flatten(Array.from(S).map((function(t){return i.__spreadArray(i.__spreadArray([],i.__read(t.onExit),!1),i.__read(t.activities.map((function(t){return u.stop(t)}))),!1)})))],2),w=E[0],T=E[1];return u.toActionObjects(T.concat(t.actions).concat(w),this.machine.options.actions)},t.prototype.transition=function(t,e,n){void 0===t&&(t=this.initialState);var a,s=o.toSCXMLEvent(e);if(t instanceof d.State)a=void 0===n?t:this.resolveState(d.State.from(t,n));else{var l=o.isString(t)?this.resolve(o.pathToStateValue(this.getResolvedPath(t))):this.resolve(t),u=null!=n?n:this.machine.context;a=this.resolveState(d.State.from(l,u))}if(!r.IS_PRODUCTION&&s.name===g)throw new Error("An event cannot have the wildcard type ('".concat(g,"')"));if(this.strict&&!this.events.includes(s.name)&&!o.isBuiltInEvent(s.name))throw new Error("Machine '".concat(this.id,"' does not accept event '").concat(s.name,"'"));var h=this._transition(a.value,a,s)||{transitions:[],configuration:[],entrySet:[],exitSet:[],source:a,actions:[]},p=c.getConfiguration([],this.getStateNodes(a.value)),f=h.configuration.length?c.getConfiguration(p,h.configuration):p;return h.configuration=i.__spreadArray([],i.__read(f),!1),this.resolveTransition(h,a,s)},t.prototype.resolveRaisedTransition=function(t,e,n){var a,r=t.actions;return(t=this.transition(t,e))._event=n,t.event=n.data,(a=t.actions).unshift.apply(a,i.__spreadArray([],i.__read(r),!1)),t},t.prototype.resolveTransition=function(t,e,n,a){var r,p,g=this;void 0===n&&(n=u.initEvent),void 0===a&&(a=this.machine.context);var v=t.configuration,m=!e||t.transitions.length>0,y=m?c.getValue(this.machine,v):void 0,_=e?e.historyValue?e.historyValue:t.source?this.machine.historyValue(e.value):void 0:void 0,b=e?e.context:a,S=this.getActions(t,b,n,e),E=e?i.__assign({},e.activities):{};try{for(var w=i.__values(S),T=w.next();!T.done;T=w.next()){var k=T.value;k.type===l.start?E[k.activity.id||k.activity.type]=k:k.type===l.stop&&(E[k.activity.id||k.activity.type]=!1)}}catch(t){r={error:t}}finally{try{T&&!T.done&&(p=w.return)&&p.call(w)}finally{if(r)throw r.error}}var C=i.__read(u.resolveActions(this,e,b,n,S,this.machine.config.preserveActionOrder),2),x=C[0],D=C[1],A=i.__read(o.partition(x,(function(t){return t.type===l.raise||t.type===l.send&&t.to===s.SpecialTargets.Internal})),2),P=A[0],O=A[1],I=x.filter((function(t){var e;return t.type===l.start&&(null===(e=t.activity)||void 0===e?void 0:e.type)===l.invoke})),M=I.reduce((function(t,e){return t[e.activity.id]=h.createInvocableActor(e.activity,g.machine,D,n),t}),e?i.__assign({},e.children):{}),L=y?t.configuration:e?e.configuration:[],j=c.isInFinalState(L,this),N=new d.State({value:y||e.value,context:D,_event:n,_sessionid:e?e._sessionid:null,historyValue:y?_?o.updateHistoryValue(_,y):void 0:e?e.historyValue:void 0,history:!y||t.source?e:void 0,actions:y?O:[],activities:y?E:e?e.activities:{},events:[],configuration:L,transitions:t.transitions,children:M,done:j,tags:null==e?void 0:e.tags,machine:this}),F=b!==D;N.changed=n.name===l.update||F;var R=N.history;R&&delete R.history;var V=!j&&(this._transient||v.some((function(t){return t._transient})));if(!(m||V&&n.name!==f))return N;var B=N;if(!j)for(V&&(B=this.resolveRaisedTransition(B,{type:l.nullEvent},n));P.length;){var z=P.shift();B=this.resolveRaisedTransition(B,z._event,n)}var Z=B.changed||(R?!!B.actions.length||F||typeof R.value!=typeof B.value||!d.stateValuesEqual(B.value,R.value):void 0);return B.changed=Z,B.history=R,B.tags=c.getTagsFromConfiguration(B.configuration),B},t.prototype.getStateNode=function(t){if(m(t))return this.machine.getStateNodeById(t);if(!this.states)throw new Error("Unable to retrieve child state '".concat(t,"' from '").concat(this.id,"'; no child states exist."));var e=this.states[t];if(!e)throw new Error("Child state '".concat(t,"' does not exist on '").concat(this.id,"'"));return e},t.prototype.getStateNodeById=function(t){var e=m(t)?t.slice("#".length):t;if(e===this.id)return this;var n=this.machine.idMap[e];if(!n)throw new Error("Child state node '#".concat(e,"' does not exist on machine '").concat(this.id,"'"));return n},t.prototype.getStateNodeByPath=function(t){if("string"==typeof t&&m(t))try{return this.getStateNodeById(t.slice(1))}catch(t){}for(var e=o.toStatePath(t,this.delimiter).slice(),n=this;e.length;){var i=e.shift();if(!i.length)break;n=n.getStateNode(i)}return n},t.prototype.resolve=function(t){var e,n=this;if(!t)return this.initialStateValue||v;switch(this.type){case"parallel":return o.mapValues(this.initialStateValue,(function(e,i){return e?n.getStateNode(i).resolve(t[i]||e):v}));case"compound":if(o.isString(t)){var i=this.getStateNode(t);return"parallel"===i.type||"compound"===i.type?((e={})[t]=i.initialStateValue,e):t}return o.keys(t).length?o.mapValues(t,(function(t,e){return t?n.getStateNode(e).resolve(t):v})):this.initialStateValue||{};default:return t||v}},t.prototype.getResolvedPath=function(t){if(m(t)){var e=this.machine.idMap[t.slice("#".length)];if(!e)throw new Error("Unable to find state node '".concat(t,"'"));return e.path}return o.toStatePath(t,this.delimiter)},Object.defineProperty(t.prototype,"initialStateValue",{get:function(){var t,e;if(this.__cache.initialStateValue)return this.__cache.initialStateValue;if("parallel"===this.type)e=o.mapFilterValues(this.states,(function(t){return t.initialStateValue||v}),(function(t){return!("history"===t.type)}));else if(void 0!==this.initial){if(!this.states[this.initial])throw new Error("Initial state '".concat(this.initial,"' not found on '").concat(this.key,"'"));e=c.isLeafNode(this.states[this.initial])?this.initial:((t={})[this.initial]=this.states[this.initial].initialStateValue,t)}else e={};return this.__cache.initialStateValue=e,this.__cache.initialStateValue},enumerable:!1,configurable:!0}),t.prototype.getInitialState=function(t,e){var n=this.getStateNodes(t);return this.resolveTransition({configuration:n,entrySet:n,exitSet:[],transitions:[],source:void 0,actions:[]},void 0,void 0,e)},Object.defineProperty(t.prototype,"initialState",{get:function(){this._init();var t=this.initialStateValue;if(!t)throw new Error("Cannot retrieve initial state from simple state '".concat(this.id,"'."));return this.getInitialState(t)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"target",{get:function(){var t;if("history"===this.type){var e=this.config;t=o.isString(e.target)&&m(e.target)?o.pathToStateValue(this.machine.getStateNodeById(e.target).path.slice(this.path.length-1)):e.target}return t},enumerable:!1,configurable:!0}),t.prototype.getRelativeStateNodes=function(t,e,n){return void 0===n&&(n=!0),n?"history"===t.type?t.resolveHistory(e):t.initialStateNodes:[t]},Object.defineProperty(t.prototype,"initialStateNodes",{get:function(){var t=this;if(c.isLeafNode(this))return[this];if("compound"===this.type&&!this.initial)return r.IS_PRODUCTION||o.warn(!1,"Compound state node '".concat(this.id,"' has no initial state.")),[this];var e=o.toStatePaths(this.initialStateValue);return o.flatten(e.map((function(e){return t.getFromRelativePath(e)})))},enumerable:!1,configurable:!0}),t.prototype.getFromRelativePath=function(t){if(!t.length)return[this];var e=i.__read(t),n=e[0],a=e.slice(1);if(!this.states)throw new Error("Cannot retrieve subPath '".concat(n,"' from node with no states"));var r=this.getStateNode(n);if("history"===r.type)return r.resolveHistory();if(!this.states[n])throw new Error("Child state '".concat(n,"' does not exist on '").concat(this.id,"'"));return this.states[n].getFromRelativePath(a)},t.prototype.historyValue=function(t){if(o.keys(this.states).length)return{current:t||this.initialStateValue,states:o.mapFilterValues(this.states,(function(e,n){if(!t)return e.historyValue();var i=o.isString(t)?void 0:t[n];return e.historyValue(i||e.initialStateValue)}),(function(t){return!t.history}))}},t.prototype.resolveHistory=function(t){var e=this;if("history"!==this.type)return[this];var n=this.parent;if(!t){var i=this.target;return i?o.flatten(o.toStatePaths(i).map((function(t){return n.getFromRelativePath(t)}))):n.initialStateNodes}var a=o.nestedPath(n.path,"states")(t).current;return o.isString(a)?[n.getStateNode(a)]:o.flatten(o.toStatePaths(a).map((function(t){return"deep"===e.history?n.getFromRelativePath(t):[n.states[t[0]]]})))},Object.defineProperty(t.prototype,"stateIds",{get:function(){var t=this,e=o.flatten(o.keys(this.states).map((function(e){return t.states[e].stateIds})));return[this.id].concat(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"events",{get:function(){var t,e,n,a;if(this.__cache.events)return this.__cache.events;var r=this.states,s=new Set(this.ownEvents);if(r)try{for(var c=i.__values(o.keys(r)),l=c.next();!l.done;l=c.next()){var u=r[l.value];if(u.states)try{for(var d=(n=void 0,i.__values(u.events)),h=d.next();!h.done;h=d.next()){var p=h.value;s.add("".concat(p))}}catch(t){n={error:t}}finally{try{h&&!h.done&&(a=d.return)&&a.call(d)}finally{if(n)throw n.error}}}}catch(e){t={error:e}}finally{try{l&&!l.done&&(e=c.return)&&e.call(c)}finally{if(t)throw t.error}}return this.__cache.events=Array.from(s)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ownEvents",{get:function(){var t=new Set(this.transitions.filter((function(t){return!(!t.target&&!t.actions.length&&t.internal)})).map((function(t){return t.eventType})));return Array.from(t)},enumerable:!1,configurable:!0}),t.prototype.resolveTarget=function(t){var e=this;if(void 0!==t)return t.map((function(t){if(!o.isString(t))return t;var n=t[0]===e.delimiter;if(n&&!e.parent)return e.getStateNodeByPath(t.slice(1));var i=n?e.key+t:t;if(!e.parent)return e.getStateNodeByPath(i);try{return e.parent.getStateNodeByPath(i)}catch(t){throw new Error("Invalid transition definition for state node '".concat(e.id,"':\n").concat(t.message))}}))},t.prototype.formatTransition=function(t){var e=this,n=o.normalizeTarget(t.target),a="internal"in t?t.internal:!n||n.some((function(t){return o.isString(t)&&t[0]===e.delimiter})),r=this.machine.options.guards,s=this.resolveTarget(n),c=i.__assign(i.__assign({},t),{actions:u.toActionObjects(o.toArray(t.actions)),cond:o.toGuard(t.cond,r),target:s,source:this,internal:a,eventType:t.event,toJSON:function(){return i.__assign(i.__assign({},c),{target:c.target?c.target.map((function(t){return"#".concat(t.id)})):void 0,source:"#".concat(e.id)})}});return c},t.prototype.formatTransitions=function(){var t,e,n,a=this;if(this.config.on)if(Array.isArray(this.config.on))n=this.config.on;else{var s=this.config.on,c=g,l=s[c],d=void 0===l?[]:l,h=i.__rest(s,["*"]);n=o.flatten(o.keys(h).map((function(t){r.IS_PRODUCTION||t!==f||o.warn(!1,"Empty string transition configs (e.g., `{ on: { '': ... }}`) for transient transitions are deprecated. Specify the transition in the `{ always: ... }` property instead. "+'Please check the `on` configuration for "#'.concat(a.id,'".'));var e,n,i,s,c=o.toTransitionConfigArray(t,h[t]);return r.IS_PRODUCTION||(e=a,n=t,i=c.slice(0,-1).some((function(t){return!("cond"in t)&&!("in"in t)&&(o.isString(t.target)||o.isMachine(t.target))})),s=n===f?"the transient event":"event '".concat(n,"'"),o.warn(!i,"One or more transitions for ".concat(s," on state '").concat(e.id,"' are unreachable. ")+"Make sure that the default transition is the last one defined.")),c})).concat(o.toTransitionConfigArray(g,d)))}else n=[];var p=this.config.always?o.toTransitionConfigArray("",this.config.always):[],v=this.config.onDone?o.toTransitionConfigArray(String(u.done(this.id)),this.config.onDone):[];r.IS_PRODUCTION||o.warn(!(this.config.onDone&&!this.parent),'Root nodes cannot have an ".onDone" transition. Please check the config of "'.concat(this.id,'".'));var m=o.flatten(this.invoke.map((function(t){var e=[];return t.onDone&&e.push.apply(e,i.__spreadArray([],i.__read(o.toTransitionConfigArray(String(u.doneInvoke(t.id)),t.onDone)),!1)),t.onError&&e.push.apply(e,i.__spreadArray([],i.__read(o.toTransitionConfigArray(String(u.error(t.id)),t.onError)),!1)),e}))),y=this.after,_=o.flatten(i.__spreadArray(i.__spreadArray(i.__spreadArray(i.__spreadArray([],i.__read(v),!1),i.__read(m),!1),i.__read(n),!1),i.__read(p),!1).map((function(t){return o.toArray(t).map((function(t){return a.formatTransition(t)}))})));try{for(var b=i.__values(y),S=b.next();!S.done;S=b.next()){var E=S.value;_.push(E)}}catch(e){t={error:e}}finally{try{S&&!S.done&&(e=b.return)&&e.call(b)}finally{if(t)throw t.error}}return _},t}();e.StateNode=y},41428:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0});var i=n(80552),a=n(29660),r=n(50509),o=n(27108),s=n(73487),c=r.toSCXMLEvent({type:s.init});function l(t,e){return e&&e[t]||void 0}function u(t,e){var n;if(r.isString(t)||"number"==typeof t){var a=l(t,e);n=r.isFunction(a)?{type:t,exec:a}:a||{type:t,exec:void 0}}else if(r.isFunction(t))n={type:t.name||t.toString(),exec:t};else{a=l(t.type,e);if(r.isFunction(a))n=i.__assign(i.__assign({},t),{exec:a});else if(a){var o=a.type||t.type;n=i.__assign(i.__assign(i.__assign({},a),t),{type:o})}else n=t}return n}var d=function(t,e){return t?(r.isArray(t)?t:[t]).map((function(t){return u(t,e)})):[]};function h(t){var e=u(t);return i.__assign(i.__assign({id:r.isString(t)?t:e.id},e),{type:e.type})}function p(t){return{type:s.raise,_event:r.toSCXMLEvent(t.event)}}function f(t,e){return{to:e?e.to:void 0,type:s.send,event:r.isFunction(t)?t:r.toEventObject(t),delay:e?e.delay:void 0,id:e&&void 0!==e.id?e.id:r.isFunction(t)?t.name:r.getEventType(t)}}function g(t,e,n,a){var o,s={_event:n},c=r.toSCXMLEvent(r.isFunction(t.event)?t.event(e,n.data,s):t.event);if(r.isString(t.delay)){var l=a&&a[t.delay];o=r.isFunction(l)?l(e,n.data,s):l}else o=r.isFunction(t.delay)?t.delay(e,n.data,s):t.delay;var u=r.isFunction(t.to)?t.to(e,n.data,s):t.to;return i.__assign(i.__assign({},t),{to:u,_event:c,event:c.data,delay:o})}function v(t,e){return f(t,i.__assign(i.__assign({},e),{to:o.SpecialTargets.Parent}))}var m=function(t,e){return{context:t,event:e}};var y=function(t,e,n){return i.__assign(i.__assign({},t),{value:r.isString(t.expr)?t.expr:t.expr(e,n.data,{_event:n})})};function _(t,e,n){var i=r.isFunction(t.activity)?t.activity(e,n.data):t.activity,a="string"==typeof i?{id:i}:i;return{type:o.ActionTypes.Stop,activity:a}}e.after=function(t,e){var n=e?"#".concat(e):"";return"".concat(o.ActionTypes.After,"(").concat(t,")").concat(n)},e.assign=function(t){return{type:s.assign,assignment:t}},e.cancel=function(t){return{type:s.cancel,sendId:t}},e.choose=function(t){return{type:o.ActionTypes.Choose,conds:t}},e.done=function(t,e){var n="".concat(o.ActionTypes.DoneState,".").concat(t),i={type:n,data:e,toString:function(){return n}};return i},e.doneInvoke=function(t,e){var n="".concat(o.ActionTypes.DoneInvoke,".").concat(t),i={type:n,data:e,toString:function(){return n}};return i},e.error=function(t,e){var n="".concat(o.ActionTypes.ErrorPlatform,".").concat(t),i={type:n,data:e,toString:function(){return n}};return i},e.escalate=function(t,e){return v((function(e,n,i){return{type:s.error,data:r.isFunction(t)?t(e,n,i):t}}),i.__assign(i.__assign({},e),{to:o.SpecialTargets.Parent}))},e.forwardTo=function(t,e){return f((function(t,e){return e}),i.__assign(i.__assign({},e),{to:t}))},e.getActionFunction=l,e.initEvent=c,e.log=function(t,e){return void 0===t&&(t=m),{type:s.log,label:e,expr:t}},e.pure=function(t){return{type:o.ActionTypes.Pure,get:t}},e.raise=function(t){return r.isString(t)?{type:s.raise,event:t}:f(t,{to:o.SpecialTargets.Internal})},e.resolveActions=function t(e,n,o,c,l,h){void 0===h&&(h=!1);var f=i.__read(h?[[],l]:r.partition(l,(function(t){return t.type===s.assign})),2),v=f[0],m=f[1],b=v.length?r.updateContext(o,c,v,n):o,S=h?[o]:void 0,E=r.flatten(m.map((function(o){var l;switch(o.type){case s.raise:return p(o);case s.send:var f=g(o,b,c,e.options.delays);return a.IS_PRODUCTION||r.warn(!r.isString(o.delay)||"number"==typeof f.delay,"No delay reference for delay expression '".concat(o.delay,"' was found on machine '").concat(e.id,"'")),f;case s.log:return y(o,b,c);case s.choose:if(!(w=null===(l=o.conds.find((function(t){var i=r.toGuard(t.cond,e.options.guards);return!i||r.evaluateGuard(e,i,b,c,n)})))||void 0===l?void 0:l.actions))return[];var v=i.__read(t(e,n,b,c,d(r.toArray(w),e.options.actions),h),2),m=v[0],E=v[1];return b=E,null==S||S.push(b),m;case s.pure:var w;if(!(w=o.get(b,c.data)))return[];var T=i.__read(t(e,n,b,c,d(r.toArray(w),e.options.actions),h),2),k=T[0],C=T[1];return b=C,null==S||S.push(b),k;case s.stop:return _(o,b,c);case s.assign:b=r.updateContext(b,c,[o],n),null==S||S.push(b);break;default:var x=u(o,e.options.actions),D=x.exec;if(D&&S){var A=S.length-1;x=i.__assign(i.__assign({},x),{exec:function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];D.apply(void 0,i.__spreadArray([S[A]],i.__read(e),!1))}})}return x}})).filter((function(t){return!!t})));return[E,b]},e.resolveLog=y,e.resolveRaise=p,e.resolveSend=g,e.resolveStop=_,e.respond=function(t,e){return f(t,i.__assign(i.__assign({},e),{to:function(t,e,n){return n._event.origin}}))},e.send=f,e.sendParent=v,e.sendUpdate=function(){return v(s.update)},e.start=function(t){var e=h(t);return{type:o.ActionTypes.Start,activity:e,exec:void 0}},e.stop=function(t){var e=r.isFunction(t)?t:h(t);return{type:o.ActionTypes.Stop,activity:e,exec:void 0}},e.toActionObject=u,e.toActionObjects=d,e.toActivityDefinition=h},30290:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0});var i=n(80552);n(29660),n(50509),n(27108);var a=n(73487);function r(t){if("string"==typeof t){var e={type:t,toString:function(){return t}};return e}return t}e.toInvokeDefinition=function(t){return i.__assign(i.__assign({type:a.invoke},t),{toJSON:function(){t.onDone,t.onError;var e=i.__rest(t,["onDone","onError"]);return i.__assign(i.__assign({},e),{type:a.invoke,src:r(t.src)})}})},e.toInvokeSource=r},66310:function(t,e,n){var i=this&&this.__assign||function(){return i=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var a in e=arguments[n])Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t},i.apply(this,arguments)},a=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,a,r=n.call(t),o=[];try{for(;(void 0===e||e-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(t){a={error:t}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return o},r=this&&this.__spreadArray||function(t,e,n){if(n||2===arguments.length)for(var i,a=0,r=e.length;a<r;a++)!i&&a in e||(i||(i=Array.prototype.slice.call(e,0,a)),i[a]=e[a]);return t.concat(i||Array.prototype.slice.call(e))};Object.defineProperty(e,"__esModule",{value:!0}),e.createModel=void 0;var o=n(41428),s=n(35294),c=n(50509);e.createModel=function(t,e){var n=null==e?void 0:e.events,l=null==e?void 0:e.actions,u={initialContext:t,assign:o.assign,events:n?(0,c.mapValues)(n,(function(t,e){return function(){for(var n=[],o=0;o<arguments.length;o++)n[o]=arguments[o];return i(i({},t.apply(void 0,r([],a(n),!1))),{type:e})}})):void 0,actions:l?(0,c.mapValues)(l,(function(t,e){return function(){for(var n=[],o=0;o<arguments.length;o++)n[o]=arguments[o];return i(i({},t.apply(void 0,r([],a(n),!1))),{type:e})}})):void 0,reset:function(){return(0,o.assign)(t)},createMachine:function(e,n){return(0,s.createMachine)("context"in e?e:i(i({},e),{context:t}),n)}};return u}},52119:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0});var i=n(80552),a=n(50509),r=function(t){return"atomic"===t.type||"final"===t.type};function o(t){return a.keys(t.states).map((function(e){return t.states[e]}))}function s(t,e){var n,a,r,s,c,u,d,h,p=l(new Set(t)),f=new Set(e);try{for(var g=i.__values(f),v=g.next();!v.done;v=g.next())for(var m=(C=v.value).parent;m&&!f.has(m);)f.add(m),m=m.parent}catch(t){n={error:t}}finally{try{v&&!v.done&&(a=g.return)&&a.call(g)}finally{if(n)throw n.error}}var y=l(f);try{for(var _=i.__values(f),b=_.next();!b.done;b=_.next()){if("compound"!==(C=b.value).type||y.get(C)&&y.get(C).length){if("parallel"===C.type)try{for(var S=(c=void 0,i.__values(o(C))),E=S.next();!E.done;E=S.next()){var w=E.value;"history"!==w.type&&(f.has(w)||(f.add(w),p.get(w)?p.get(w).forEach((function(t){return f.add(t)})):w.initialStateNodes.forEach((function(t){return f.add(t)}))))}}catch(t){c={error:t}}finally{try{E&&!E.done&&(u=S.return)&&u.call(S)}finally{if(c)throw c.error}}}else p.get(C)?p.get(C).forEach((function(t){return f.add(t)})):C.initialStateNodes.forEach((function(t){return f.add(t)}))}}catch(t){r={error:t}}finally{try{b&&!b.done&&(s=_.return)&&s.call(_)}finally{if(r)throw r.error}}try{for(var T=i.__values(f),k=T.next();!k.done;k=T.next()){var C;for(m=(C=k.value).parent;m&&!f.has(m);)f.add(m),m=m.parent}}catch(t){d={error:t}}finally{try{k&&!k.done&&(h=T.return)&&h.call(T)}finally{if(d)throw d.error}}return f}function c(t,e){var n=e.get(t);if(!n)return{};if("compound"===t.type){var i=n[0];if(!i)return{};if(r(i))return i.key}var a={};return n.forEach((function(t){a[t.key]=c(t,e)})),a}function l(t){var e,n,a=new Map;try{for(var r=i.__values(t),o=r.next();!o.done;o=r.next()){var s=o.value;a.has(s)||a.set(s,[]),s.parent&&(a.has(s.parent)||a.set(s.parent,[]),a.get(s.parent).push(s))}}catch(t){e={error:t}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}return a}function u(t,e){return Array.isArray(t)?t.some((function(t){return t===e})):t instanceof Set&&t.has(e)}e.getAdjList=l,e.getAllStateNodes=function t(e){var n=[e];return r(e)?n:n.concat(a.flatten(o(e).map(t)))},e.getChildren=o,e.getConfiguration=s,e.getMeta=function(t){return void 0===t&&(t=[]),t.reduce((function(t,e){return void 0!==e.meta&&(t[e.id]=e.meta),t}),{})},e.getTagsFromConfiguration=function(t){return new Set(a.flatten(t.map((function(t){return t.tags}))))},e.getValue=function(t,e){return c(t,l(s([t],e)))},e.has=u,e.isInFinalState=function t(e,n){return"compound"===n.type?o(n).some((function(t){return"final"===t.type&&u(e,t)})):"parallel"===n.type&&o(n).every((function(n){return t(e,n)}))},e.isLeafNode=r,e.nextEvents=function(t){return i.__spreadArray([],i.__read(new Set(a.flatten(i.__spreadArray([],i.__read(t.map((function(t){return t.ownEvents}))),!1)))),!1)}}}]);
//# sourceMappingURL=9861.516a6b5e.js.map