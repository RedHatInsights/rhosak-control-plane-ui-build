(self.webpackChunkmk_ui_frontend=self.webpackChunkmk_ui_frontend||[]).push([[988],{3043:(e,t,n)=>{"use strict";n.d(t,{L:()=>M,a:()=>U});var a,r=n(70655),i=n(15691),s=n.n(i),l=n(5977),o=n(17751),c=n(91995),u=n(55459),d=function(e){var t=e.createStreamsInstance,n=e.setCreateStreamsInstance,a=(0,o.useTranslation)().t;return s().createElement(s().Fragment,null,s().createElement(c.EmptyState,null,s().createElement(c.EmptyStateIcon,{icon:u.PlusCircleIcon}),s().createElement(c.Title,{headingLevel:"h4",size:"lg"},a("you_do_not_have_any_kafka_instances_yet")),s().createElement(c.EmptyStateBody,null,a("create_a_kafka_instance_to_get_started")),s().createElement(c.Button,{variant:"primary",onClick:function(){n(!t)}},a("create_a_kafka_instance"))))},m=n(42953),_=n(8575),f=n(69104),p=n.n(f),v="https://api.openshift.com".replace(/\/+$/,""),g=function(e,t,n){void 0===t&&(t=v),void 0===n&&(n=p()),this.basePath=t,this.axios=n,e&&(this.configuration=e,this.basePath=e.basePath||this.basePath)},h=function(e){function t(t,n){var a=e.call(this,n)||this;return a.field=t,a.name="RequiredError",a}return(0,r.__extends)(t,e),t}(Error),E=function(e){var t=this;return{createKafka:function(n,a,i){return void 0===i&&(i={}),(0,r.__awaiter)(t,void 0,Promise,(function(){var t,s,l,o,c,u,d,m;return(0,r.__generator)(this,(function(f){if(null==n)throw new h("async","Required parameter async was null or undefined when calling createKafka.");if(null==a)throw new h("kafkaRequestPayload","Required parameter kafkaRequestPayload was null or undefined when calling createKafka.");return"/api/managed-services-api/v1/kafkas",t=_.Qc("/api/managed-services-api/v1/kafkas",!0),e&&(s=e.baseOptions),l=(0,r.__assign)((0,r.__assign)({method:"POST"},s),i),o={},c={},e&&e.accessToken&&(u="function"==typeof e.accessToken?e.accessToken():e.accessToken,o.Authorization="Bearer "+u),void 0!==n&&(c.async=n),o["Content-Type"]="application/json",t.query=(0,r.__assign)((0,r.__assign)((0,r.__assign)({},t.query),c),i.query),delete t.search,d=s&&s.headers?s.headers:{},l.headers=(0,r.__assign)((0,r.__assign)((0,r.__assign)({},o),d),i.headers),m="string"!=typeof a||"application/json"===l.headers["Content-Type"],l.data=m?JSON.stringify(void 0!==a?a:{}):a||"",[2,{url:_.WU(t),options:l}]}))}))},createServiceAccount:function(n,a){return void 0===a&&(a={}),(0,r.__awaiter)(t,void 0,Promise,(function(){var t,i,s,l,o,c,u,d;return(0,r.__generator)(this,(function(m){if(null==n)throw new h("serviceAccountRequest","Required parameter serviceAccountRequest was null or undefined when calling createServiceAccount.");return"/api/managed-services-api/v1/serviceaccounts",t=_.Qc("/api/managed-services-api/v1/serviceaccounts",!0),e&&(i=e.baseOptions),s=(0,r.__assign)((0,r.__assign)({method:"POST"},i),a),l={},o={},e&&e.accessToken&&(c="function"==typeof e.accessToken?e.accessToken():e.accessToken,l.Authorization="Bearer "+c),l["Content-Type"]="application/json",t.query=(0,r.__assign)((0,r.__assign)((0,r.__assign)({},t.query),o),a.query),delete t.search,u=i&&i.headers?i.headers:{},s.headers=(0,r.__assign)((0,r.__assign)((0,r.__assign)({},l),u),a.headers),d="string"!=typeof n||"application/json"===s.headers["Content-Type"],s.data=d?JSON.stringify(void 0!==n?n:{}):n||"",[2,{url:_.WU(t),options:s}]}))}))},deleteKafkaById:function(n,a){return void 0===a&&(a={}),(0,r.__awaiter)(t,void 0,Promise,(function(){var t,i,s,l,o,c,u,d;return(0,r.__generator)(this,(function(m){if(null==n)throw new h("id","Required parameter id was null or undefined when calling deleteKafkaById.");return t="/api/managed-services-api/v1/kafkas/{id}".replace("{id}",encodeURIComponent(String(n))),i=_.Qc(t,!0),e&&(s=e.baseOptions),l=(0,r.__assign)((0,r.__assign)({method:"DELETE"},s),a),o={},c={},e&&e.accessToken&&(u="function"==typeof e.accessToken?e.accessToken():e.accessToken,o.Authorization="Bearer "+u),i.query=(0,r.__assign)((0,r.__assign)((0,r.__assign)({},i.query),c),a.query),delete i.search,d=s&&s.headers?s.headers:{},l.headers=(0,r.__assign)((0,r.__assign)((0,r.__assign)({},o),d),a.headers),[2,{url:_.WU(i),options:l}]}))}))},deleteServiceAccount:function(n,a){return void 0===a&&(a={}),(0,r.__awaiter)(t,void 0,Promise,(function(){var t,i,s,l,o,c,u,d;return(0,r.__generator)(this,(function(m){if(null==n)throw new h("id","Required parameter id was null or undefined when calling deleteServiceAccount.");return t="/api/managed-services-api/v1/serviceaccounts/{id}".replace("{id}",encodeURIComponent(String(n))),i=_.Qc(t,!0),e&&(s=e.baseOptions),l=(0,r.__assign)((0,r.__assign)({method:"DELETE"},s),a),o={},c={},e&&e.accessToken&&(u="function"==typeof e.accessToken?e.accessToken():e.accessToken,o.Authorization="Bearer "+u),i.query=(0,r.__assign)((0,r.__assign)((0,r.__assign)({},i.query),c),a.query),delete i.search,d=s&&s.headers?s.headers:{},l.headers=(0,r.__assign)((0,r.__assign)((0,r.__assign)({},o),d),a.headers),[2,{url:_.WU(i),options:l}]}))}))},getKafkaById:function(n,a){return void 0===a&&(a={}),(0,r.__awaiter)(t,void 0,Promise,(function(){var t,i,s,l,o,c,u,d;return(0,r.__generator)(this,(function(m){if(null==n)throw new h("id","Required parameter id was null or undefined when calling getKafkaById.");return t="/api/managed-services-api/v1/kafkas/{id}".replace("{id}",encodeURIComponent(String(n))),i=_.Qc(t,!0),e&&(s=e.baseOptions),l=(0,r.__assign)((0,r.__assign)({method:"GET"},s),a),o={},c={},e&&e.accessToken&&(u="function"==typeof e.accessToken?e.accessToken():e.accessToken,o.Authorization="Bearer "+u),i.query=(0,r.__assign)((0,r.__assign)((0,r.__assign)({},i.query),c),a.query),delete i.search,d=s&&s.headers?s.headers:{},l.headers=(0,r.__assign)((0,r.__assign)((0,r.__assign)({},o),d),a.headers),[2,{url:_.WU(i),options:l}]}))}))},listCloudProviderRegions:function(n,a,i,s){return void 0===s&&(s={}),(0,r.__awaiter)(t,void 0,Promise,(function(){var t,l,o,c,u,d,m,f;return(0,r.__generator)(this,(function(p){if(null==n)throw new h("id","Required parameter id was null or undefined when calling listCloudProviderRegions.");return t="/api/managed-services-api/v1/cloud_providers/{id}/regions".replace("{id}",encodeURIComponent(String(n))),l=_.Qc(t,!0),e&&(o=e.baseOptions),c=(0,r.__assign)((0,r.__assign)({method:"GET"},o),s),u={},d={},e&&e.accessToken&&(m="function"==typeof e.accessToken?e.accessToken():e.accessToken,u.Authorization="Bearer "+m),void 0!==a&&(d.page=a),void 0!==i&&(d.size=i),l.query=(0,r.__assign)((0,r.__assign)((0,r.__assign)({},l.query),d),s.query),delete l.search,f=o&&o.headers?o.headers:{},c.headers=(0,r.__assign)((0,r.__assign)((0,r.__assign)({},u),f),s.headers),[2,{url:_.WU(l),options:c}]}))}))},listCloudProviders:function(n,a,i){return void 0===i&&(i={}),(0,r.__awaiter)(t,void 0,Promise,(function(){var t,s,l,o,c,u,d;return(0,r.__generator)(this,(function(m){return"/api/managed-services-api/v1/cloud_providers",t=_.Qc("/api/managed-services-api/v1/cloud_providers",!0),e&&(s=e.baseOptions),l=(0,r.__assign)((0,r.__assign)({method:"GET"},s),i),o={},c={},e&&e.accessToken&&(u="function"==typeof e.accessToken?e.accessToken():e.accessToken,o.Authorization="Bearer "+u),void 0!==n&&(c.page=n),void 0!==a&&(c.size=a),t.query=(0,r.__assign)((0,r.__assign)((0,r.__assign)({},t.query),c),i.query),delete t.search,d=s&&s.headers?s.headers:{},l.headers=(0,r.__assign)((0,r.__assign)((0,r.__assign)({},o),d),i.headers),[2,{url:_.WU(t),options:l}]}))}))},listKafkas:function(n,a,i,s,l){return void 0===l&&(l={}),(0,r.__awaiter)(t,void 0,Promise,(function(){var t,o,c,u,d,m,f;return(0,r.__generator)(this,(function(p){return"/api/managed-services-api/v1/kafkas",t=_.Qc("/api/managed-services-api/v1/kafkas",!0),e&&(o=e.baseOptions),c=(0,r.__assign)((0,r.__assign)({method:"GET"},o),l),u={},d={},e&&e.accessToken&&(m="function"==typeof e.accessToken?e.accessToken():e.accessToken,u.Authorization="Bearer "+m),void 0!==n&&(d.page=n),void 0!==a&&(d.size=a),void 0!==i&&(d.orderBy=i),void 0!==s&&(d.search=s),t.query=(0,r.__assign)((0,r.__assign)((0,r.__assign)({},t.query),d),l.query),delete t.search,f=o&&o.headers?o.headers:{},c.headers=(0,r.__assign)((0,r.__assign)((0,r.__assign)({},u),f),l.headers),[2,{url:_.WU(t),options:c}]}))}))},listServiceAccounts:function(n){return void 0===n&&(n={}),(0,r.__awaiter)(t,void 0,Promise,(function(){var t,a,i,s,l,o,c;return(0,r.__generator)(this,(function(u){return"/api/managed-services-api/v1/serviceaccounts",t=_.Qc("/api/managed-services-api/v1/serviceaccounts",!0),e&&(a=e.baseOptions),i=(0,r.__assign)((0,r.__assign)({method:"GET"},a),n),s={},l={},e&&e.accessToken&&(o="function"==typeof e.accessToken?e.accessToken():e.accessToken,s.Authorization="Bearer "+o),t.query=(0,r.__assign)((0,r.__assign)((0,r.__assign)({},t.query),l),n.query),delete t.search,c=a&&a.headers?a.headers:{},i.headers=(0,r.__assign)((0,r.__assign)((0,r.__assign)({},s),c),n.headers),[2,{url:_.WU(t),options:i}]}))}))},resetServiceAccountCreds:function(n,a){return void 0===a&&(a={}),(0,r.__awaiter)(t,void 0,Promise,(function(){var t,i,s,l,o,c,u,d;return(0,r.__generator)(this,(function(m){if(null==n)throw new h("id","Required parameter id was null or undefined when calling resetServiceAccountCreds.");return t="/api/managed-services-api/v1/serviceaccounts/{id}/reset-credentials".replace("{id}",encodeURIComponent(String(n))),i=_.Qc(t,!0),e&&(s=e.baseOptions),l=(0,r.__assign)((0,r.__assign)({method:"POST"},s),a),o={},c={},e&&e.accessToken&&(u="function"==typeof e.accessToken?e.accessToken():e.accessToken,o.Authorization="Bearer "+u),i.query=(0,r.__assign)((0,r.__assign)((0,r.__assign)({},i.query),c),a.query),delete i.search,d=s&&s.headers?s.headers:{},l.headers=(0,r.__assign)((0,r.__assign)((0,r.__assign)({},o),d),a.headers),[2,{url:_.WU(i),options:l}]}))}))}}},b=function(e){return{createKafka:function(t,n,a){return(0,r.__awaiter)(this,void 0,Promise,(function(){var i;return(0,r.__generator)(this,(function(s){switch(s.label){case 0:return[4,E(e).createKafka(t,n,a)];case 1:return i=s.sent(),[2,function(e,t){void 0===e&&(e=p()),void 0===t&&(t=v);var n=(0,r.__assign)((0,r.__assign)({},i.options),{url:t+i.url});return e.request(n)}]}}))}))},createServiceAccount:function(t,n){return(0,r.__awaiter)(this,void 0,Promise,(function(){var a;return(0,r.__generator)(this,(function(i){switch(i.label){case 0:return[4,E(e).createServiceAccount(t,n)];case 1:return a=i.sent(),[2,function(e,t){void 0===e&&(e=p()),void 0===t&&(t=v);var n=(0,r.__assign)((0,r.__assign)({},a.options),{url:t+a.url});return e.request(n)}]}}))}))},deleteKafkaById:function(t,n){return(0,r.__awaiter)(this,void 0,Promise,(function(){var a;return(0,r.__generator)(this,(function(i){switch(i.label){case 0:return[4,E(e).deleteKafkaById(t,n)];case 1:return a=i.sent(),[2,function(e,t){void 0===e&&(e=p()),void 0===t&&(t=v);var n=(0,r.__assign)((0,r.__assign)({},a.options),{url:t+a.url});return e.request(n)}]}}))}))},deleteServiceAccount:function(t,n){return(0,r.__awaiter)(this,void 0,Promise,(function(){var a;return(0,r.__generator)(this,(function(i){switch(i.label){case 0:return[4,E(e).deleteServiceAccount(t,n)];case 1:return a=i.sent(),[2,function(e,t){void 0===e&&(e=p()),void 0===t&&(t=v);var n=(0,r.__assign)((0,r.__assign)({},a.options),{url:t+a.url});return e.request(n)}]}}))}))},getKafkaById:function(t,n){return(0,r.__awaiter)(this,void 0,Promise,(function(){var a;return(0,r.__generator)(this,(function(i){switch(i.label){case 0:return[4,E(e).getKafkaById(t,n)];case 1:return a=i.sent(),[2,function(e,t){void 0===e&&(e=p()),void 0===t&&(t=v);var n=(0,r.__assign)((0,r.__assign)({},a.options),{url:t+a.url});return e.request(n)}]}}))}))},listCloudProviderRegions:function(t,n,a,i){return(0,r.__awaiter)(this,void 0,Promise,(function(){var s;return(0,r.__generator)(this,(function(l){switch(l.label){case 0:return[4,E(e).listCloudProviderRegions(t,n,a,i)];case 1:return s=l.sent(),[2,function(e,t){void 0===e&&(e=p()),void 0===t&&(t=v);var n=(0,r.__assign)((0,r.__assign)({},s.options),{url:t+s.url});return e.request(n)}]}}))}))},listCloudProviders:function(t,n,a){return(0,r.__awaiter)(this,void 0,Promise,(function(){var i;return(0,r.__generator)(this,(function(s){switch(s.label){case 0:return[4,E(e).listCloudProviders(t,n,a)];case 1:return i=s.sent(),[2,function(e,t){void 0===e&&(e=p()),void 0===t&&(t=v);var n=(0,r.__assign)((0,r.__assign)({},i.options),{url:t+i.url});return e.request(n)}]}}))}))},listKafkas:function(t,n,a,i,s){return(0,r.__awaiter)(this,void 0,Promise,(function(){var l;return(0,r.__generator)(this,(function(o){switch(o.label){case 0:return[4,E(e).listKafkas(t,n,a,i,s)];case 1:return l=o.sent(),[2,function(e,t){void 0===e&&(e=p()),void 0===t&&(t=v);var n=(0,r.__assign)((0,r.__assign)({},l.options),{url:t+l.url});return e.request(n)}]}}))}))},listServiceAccounts:function(t){return(0,r.__awaiter)(this,void 0,Promise,(function(){var n;return(0,r.__generator)(this,(function(a){switch(a.label){case 0:return[4,E(e).listServiceAccounts(t)];case 1:return n=a.sent(),[2,function(e,t){void 0===e&&(e=p()),void 0===t&&(t=v);var a=(0,r.__assign)((0,r.__assign)({},n.options),{url:t+n.url});return e.request(a)}]}}))}))},resetServiceAccountCreds:function(t,n){return(0,r.__awaiter)(this,void 0,Promise,(function(){var a;return(0,r.__generator)(this,(function(i){switch(i.label){case 0:return[4,E(e).resetServiceAccountCreds(t,n)];case 1:return a=i.sent(),[2,function(e,t){void 0===e&&(e=p()),void 0===t&&(t=v);var n=(0,r.__assign)((0,r.__assign)({},a.options),{url:t+a.url});return e.request(n)}]}}))}))}}},S=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,r.__extends)(t,e),t.prototype.createKafka=function(e,t,n){var a=this;return b(this.configuration).createKafka(e,t,n).then((function(e){return e(a.axios,a.basePath)}))},t.prototype.createServiceAccount=function(e,t){var n=this;return b(this.configuration).createServiceAccount(e,t).then((function(e){return e(n.axios,n.basePath)}))},t.prototype.deleteKafkaById=function(e,t){var n=this;return b(this.configuration).deleteKafkaById(e,t).then((function(e){return e(n.axios,n.basePath)}))},t.prototype.deleteServiceAccount=function(e,t){var n=this;return b(this.configuration).deleteServiceAccount(e,t).then((function(e){return e(n.axios,n.basePath)}))},t.prototype.getKafkaById=function(e,t){var n=this;return b(this.configuration).getKafkaById(e,t).then((function(e){return e(n.axios,n.basePath)}))},t.prototype.listCloudProviderRegions=function(e,t,n,a){var r=this;return b(this.configuration).listCloudProviderRegions(e,t,n,a).then((function(e){return e(r.axios,r.basePath)}))},t.prototype.listCloudProviders=function(e,t,n){var a=this;return b(this.configuration).listCloudProviders(e,t,n).then((function(e){return e(a.axios,a.basePath)}))},t.prototype.listKafkas=function(e,t,n,a,r){var i=this;return b(this.configuration).listKafkas(e,t,n,a,r).then((function(e){return e(i.axios,i.basePath)}))},t.prototype.listServiceAccounts=function(e){var t=this;return b(this.configuration).listServiceAccounts(e).then((function(e){return e(t.axios,t.basePath)}))},t.prototype.resetServiceAccountCreds=function(e,t){var n=this;return b(this.configuration).resetServiceAccountCreds(e,t).then((function(e){return e(n.axios,n.basePath)}))},t}(g),k=n(52648),y=function(e){var t=e.status,n=(0,o.useTranslation)().t;return s().createElement(c.Flex,null,s().createElement(c.FlexItem,{spacer:{default:"spacerSm"}},function(){switch(null==t?void 0:t.toLowerCase()){case k.hm[0].value:return s().createElement(u.CheckCircleIcon,{className:"mk--instances__table--icon--completed"});case k.hm[1].value:return s().createElement(u.ExclamationCircleIcon,{className:"mk--instances__table--icon--failed"});case k.hm[2].value:return s().createElement(u.PendingIcon,null);case k.hm[3].value:return s().createElement(c.Spinner,{size:u.IconSize.md});default:return s().createElement(u.PendingIcon,null)}}()),s().createElement(c.FlexItem,null,function(){switch(null==t?void 0:t.toLowerCase()){case k.hm[0].value:return n(k.hm[0].value);case k.hm[1].value:return n(k.hm[1].value);case k.hm[2].value:return n(k.hm[2].value);case k.hm[3].value:return n(k.hm[3].value);default:return n("creation_pending")}}()))};!function(e){e.READY="ready",e.ACCEPTED="accepted",e.PROVISIONING="provisioning",e.FAILED="failed"}(a||(a={}));var T=function(e){var t=e.confirmActionLabel,n=e.cancelActionLabel,r=e.title,l=e.onConfirm,u=e.isModalOpen,d=e.setIsModalOpen,m=e.description,_=e.variant,f=void 0===_?c.ModalVariant.small:_,p=e.titleIconVariant,v=void 0===p?"warning":p,g=e.instanceStatus,h=e.selectedInstance,E=(0,o.useTranslation)().t,b=(0,i.useState)(),S=b[0],k=b[1],y=(null==h?void 0:h.name)||"",T=function(){d(!u)};return s().createElement(c.Modal,{variant:f,isOpen:u,"aria-label":E("delete_instance_modal"),title:r,titleIconVariant:v,showClose:!0,onClose:T,actions:[s().createElement(c.Button,{key:"confirm-button",id:"mk--confirm__button",variant:c.ButtonVariant.danger,onClick:function(){l(h)},isDisabled:g===a.COMPLETED&&(null==S?void 0:S.toLowerCase())!==y.toLowerCase()},t||E("delete_instance")),s().createElement(c.Button,{key:"cancel",variant:"link",id:"mk--cancel__button",onClick:T},n||E("cancel"))]},s().createElement(c.Text,{className:"mk--delete-instance__modal--text",dangerouslySetInnerHTML:{__html:m||""}}),g===a.COMPLETED&&s().createElement(s().Fragment,null,s().createElement("label",{htmlFor:"instance-name",dangerouslySetInnerHTML:{__html:E("instance_name_label",{name:y})}}),s().createElement(c.TextInput,{id:"mk--instance-name__input",name:"instance-name-input",type:"text",value:S,onChange:function(e){k(e)}})))},w=function(e){var t=e.page,n=e.perPage,a=e.itemCount,r=e.variant,o=e.isCompact,u=e.paginationTitle,d=(0,l.k6)(),m=(0,l.TH)(),_=new URLSearchParams(m.search),f=(0,i.useCallback)((function(e,t){_.set(e,t.toString())}),[_]),p=(0,i.useCallback)((function(e,t){f("page",t.toString()),d.push({search:_.toString()})}),[f,d,_]),v=(0,i.useCallback)((function(e,t){f("page","1"),f("perPage",t.toString()),d.push({search:_.toString()})}),[f,d,_]);return a&&a>0?s().createElement(c.Pagination,{itemCount:a,perPage:n,page:t,onSetPage:p,variant:r||"top",onPerPageSelect:v,isCompact:o,titles:{paginationTitle:u}}):null},C=n(94956),x=function(e){var t=e.createStreamsInstance,n=e.setCreateStreamsInstance,a=e.setFilterSelected,r=e.filterSelected,l=e.total,d=e.page,m=e.perPage,_=e.filteredValue,f=e.setFilteredValue,p=(0,i.useState)(!1),v=p[0],g=p[1],h=(0,i.useState)(!1),E=h[0],b=h[1],S=(0,i.useState)(!1),y=S[0],T=S[1],C=(0,i.useState)(!1),x=C[0],I=C[1],P=(0,i.useState)(),N=P[0],V=P[1],A=(0,i.useState)(),F=A[0],B=A[1],q=(0,o.useTranslation)().t,R=[{value:q("name"),disabled:!1},{value:q("cloud_provider"),disabled:!1},{value:q("region"),disabled:!1},{value:q("owner"),disabled:!1},{value:q("status"),disabled:!1}],L=k.bv.map((function(e){return{value:q(e.value),disabled:!1}})),O=k.Bh.map((function(e){return{value:q(e.value),disabled:!1}})),K=k.hm.map((function(e){return{value:q(e.value),disabled:!1}})),D=function(e,t){var n=Object.assign([],_),a=n.findIndex((function(t){return t.filterKey===e})),r=!0;if(a>=0&&(n[a].filterValue!==t?n.splice(a,1):r=!1),r&&""!==(null==t?void 0:t.trim())){var i={filterKey:e,filterValue:t};n.splice(0,0,i)}r&&f(n)},z=function(e){"name"===e&&N?D("name",N):"owner"===e&&F&&D("owner",F)},G=function(e){var t=Object.assign([],_),n=t.findIndex((function(t){return t.filterKey===e}));n>=0&&t.splice(n,1),f(t),"name"===e&&V(""),"owner"===e&&B(""),"cloud_provider"===e&&I(!1),"region"===e&&T(!1),"status"===e&&I(!1)},M=function(e){var t=Object.assign([],_),n=t.findIndex((function(t){return t.filterKey===e}));"name"===e&&t[n].filterValue===(null==N?void 0:N.trim())&&V(""),"owner"===e&&t[n].filterValue===(null==F?void 0:F.trim())&&B(""),n>=0&&t.splice(n,1),f(t)},j=function(e){var t,n;"Enter"===e.key&&("filter names"===(null===(t=null==e?void 0:e.target)||void 0===t?void 0:t.name)?z("name"):"filter owners"===(null===(n=e.target)||void 0===n?void 0:n.name)&&z("owner"))},H=function(e){var t=_.filter((function(t){return t.filterKey===e}));if(t.length>0)return t[0].filterValue},W=s().createElement(s().Fragment,null,s().createElement(c.ToolbarGroup,{variant:"filter-group"},s().createElement(c.Select,{variant:c.SelectVariant.single,"aria-label":"Select filter",onToggle:function(){g(!v)},selections:r&&r,isOpen:v,onSelect:function(e,t){g(!v),a(null==t?void 0:t.toString())}},R.map((function(e,t){return s().createElement(c.SelectOption,{isDisabled:e.disabled,key:t,value:e.value})}))),r===q("name")&&s().createElement(c.InputGroup,{className:"mk--filter-instances__toolbar--text-input"},s().createElement(c.TextInput,{name:"filter names",id:"filterText",type:"search","aria-label":"Search filter input",placeholder:q("filter_by_name_lower"),onChange:function(e){V(e)},onKeyPress:j,value:N}),s().createElement(c.Button,{variant:c.ButtonVariant.control,onClick:function(){return z("name")},"aria-label":"Search instances"},s().createElement(u.SearchIcon,null))),r===q("cloud_provider")&&s().createElement(c.Select,{variant:c.SelectVariant.single,"aria-label":"Select cloud provider",onToggle:function(){b(!E)},selections:H("cloud_provider"),isOpen:E,onSelect:function(e,t,n){n&&G("cloud_provider"),D("cloud_provider",t.toString()),b(!1)},placeholderText:"Filter by cloud provider"},L.map((function(e,t){return s().createElement(c.SelectOption,{isDisabled:e.disabled,key:t,value:e.value})}))),r===q("region")&&s().createElement(c.Select,{variant:c.SelectVariant.single,"aria-label":"Select region",onToggle:function(){T(!y)},selections:H("region"),isOpen:y,onSelect:function(e,t,n){n&&G("region"),D("region",t.toString()),T(!1)},placeholderText:"Filter by region"},O.map((function(e,t){return s().createElement(c.SelectOption,{isDisabled:e.disabled,key:t,value:e.value})}))),r===q("owner")&&s().createElement(c.InputGroup,{className:"mk--filter-instances__toolbar--text-input"},s().createElement(c.TextInput,{name:"filter owners",id:"filterOwners",type:"search","aria-label":"Search filter input",placeholder:q("filter_by_owner"),onChange:function(e){B(e)},onKeyPress:j,value:F}),s().createElement(c.Button,{variant:c.ButtonVariant.control,onClick:function(){return z("owner")},"aria-label":"Search owners"},s().createElement(u.SearchIcon,null))),r===q("status")&&s().createElement(c.Select,{variant:c.SelectVariant.single,"aria-label":"Select status",onToggle:function(){I(!x)},selections:H("status"),isOpen:x,onSelect:function(e,t,n){n&&G("status"),D("status",t.toString()),I(!1)},placeholderText:"Filter by status"},K.map((function(e,t){return s().createElement(c.SelectOption,{isDisabled:e.disabled,key:t,value:e.value})}))))),Q=s().createElement(c.ToolbarGroup,null,s().createElement(c.ChipGroup,{numChips:5},_&&_.map((function(e,t){if(e.filterValue&&""!=e.filterValue.trim())return"region"===e.filterKey||"cloud_provider"===e.filterKey?s().createElement(c.Chip,{className:"pf-c-chip__text",key:t,onClick:function(){return M(e.filterKey)},isReadOnly:!0},q(e.filterKey),": ",e.filterValue):s().createElement(c.Chip,{className:"pf-c-chip__text",key:t,onClick:function(){return M(e.filterKey)}},q(e.filterKey),": ",e.filterValue)}))));return s().createElement(c.Toolbar,{id:"instance-toolbar",clearAllFilters:function(){f(U())},inset:{lg:"insetLg"}},s().createElement(c.ToolbarContent,null,s().createElement(c.ToolbarToggleGroup,{toggleIcon:s().createElement(u.FilterIcon,null),breakpoint:"md"},W),s().createElement(c.ToolbarItem,null,s().createElement(c.Button,{variant:"primary",onClick:function(){return n(!t)}},q("create_kafka_instance"))),s().createElement(c.ToolbarItem,{variant:"pagination",alignment:{default:"alignRight"}},s().createElement(w,{widgetId:"pagination-options-menu-top",itemCount:l,page:d,perPage:m,isCompact:!0,paginationTitle:q("minimal_pagination")}))),s().createElement(c.ToolbarContent,null,Q))},I=n(42603),P=n(9995),N=function(e){var t;return void 0!==(null===(t=e.response)||void 0===t?void 0:t.data.code)},V=n(71070),A=function(e){var t=e.mainToggle,n=e.kafkaInstanceItems,u=e.onViewInstance,d=e.onViewConnection,_=e.onConnectToInstance,f=e.refresh,p=e.createStreamsInstance,v=e.setCreateStreamsInstance,g=e.page,h=e.perPage,E=e.total,b=e.kafkaDataLoaded,k=e.expectedTotal,A=e.filteredValue,F=e.setFilteredValue,B=e.setFilterSelected,q=e.filterSelected,R=e.orderBy,L=e.setOrderBy,O=(0,i.useContext)(I.V),K=(0,i.useContext)(P.G).basePath,D=(0,o.useTranslation)().t,z=(0,i.useState)(!1),G=z[0],U=z[1],M=(0,i.useState)({}),j=M[0],H=M[1],W=[{title:D("name"),transforms:[m.sortable]},{title:D("cloud_provider"),transforms:[m.sortable]},{title:D("region"),transforms:[m.sortable]},{title:D("owner"),transforms:[m.sortable]},{title:D("status"),transforms:[m.sortable]}],Q=(0,i.useState)([]),J=Q[0],Z=Q[1],Y=(0,i.useState)(void 0),$=Y[0],X=Y[1],ee=new URLSearchParams(location.search),te=(0,l.k6)(),ne=(0,C.Z7)().addAlert,ae=(0,i.useCallback)((function(e,t){ee.set(e,t.toString())}),[ee]);(0,i.useEffect)((function(){null==O||O.getUsername().then((function(e){return X(e)}))}),[]);(0,i.useEffect)((function(){g>1&&0===n.length&&(ae("page",(g-1).toString()),ae("perPage",h.toString()),te.push({search:ee.toString()}));var e=JSON.parse(JSON.stringify(J));if(J&&J.length>0){var t=Object.assign([],n).filter((function(e){return e.status===a.READY||e.status===a.FAILED}));e.forEach((function(e){var n,r,i=t.filter((function(t){return e.id===t.id}));i&&i.length>0&&(i[0].status===a.READY?ne(D("kafka_successfully_created"),c.AlertVariant.success,s().createElement("span",{dangerouslySetInnerHTML:{__html:D("kafka_success_message",{name:null===(n=i[0])||void 0===n?void 0:n.name})}})):i[0].status===a.FAILED&&ne(D("kafka_not_created"),c.AlertVariant.danger,s().createElement("span",{dangerouslySetInnerHTML:{__html:D("kafka_failed_message",{name:null===(r=i[0])||void 0===r?void 0:r.name})}})))}))}var r=Object.assign([],null==n?void 0:n.filter((function(e){return e.status===a.PROVISIONING||e.status===a.ACCEPTED})));Z(r)}),[g,h,n]);var re=function(e){var t=e.status;H(e),t===a.FAILED?ie(e):U(!G)},ie=function(e){return(0,r.__awaiter)(void 0,void 0,void 0,(function(){var t,n,a,i,s,l;return(0,r.__generator)(this,(function(r){switch(r.label){case 0:if(void 0===(t=(null==j?void 0:j.id)||(null==e?void 0:e.id)))throw new Error("kafka instance id is not set");return[4,null==O?void 0:O.getToken()];case 1:n=r.sent(),a=new S({accessToken:n,basePath:K}),r.label=2;case 2:return r.trys.push([2,4,,5]),[4,a.deleteKafkaById(t).then((function(){U(!1),ne(D("kafka_successfully_deleted",{name:null==e?void 0:e.name}),c.AlertVariant.success),f("delete")}))];case 3:return r.sent(),[3,5];case 4:return i=r.sent(),U(!1),s=void 0,N(i)&&(s=null===(l=i.response)||void 0===l?void 0:l.data.reason),ne(D("something_went_wrong"),c.AlertVariant.danger,s),[3,5];case 5:return[2]}}))}))},se=function(e,t,n){var r={title:"",confirmActionLabel:"",description:""};return t===a.READY?(r.title=e("delete_instance")+"?",r.confirmActionLabel=e("delete_instance"),r.description=e("delete_instance_status_complete",{instanceName:n})):t!==a.ACCEPTED&&t!==a.PROVISIONING||(r.title=e("delete_instance")+"?",r.confirmActionLabel=e("delete_instance"),r.description=e("delete_instance_status_accepted_or_provisioning",{instanceName:n})),r}(D,null==j?void 0:j.status,null==j?void 0:j.name),le=se.title,oe=se.confirmActionLabel,ce=se.description,ue=function(e){switch(e.toLowerCase()){case"name":return 0;case"cloud_provider":return 1;case"region":return 2;case"owner":return 3;case"status":return 4;default:return}};return s().createElement(s().Fragment,null,s().createElement(x,{mainToggle:t,createStreamsInstance:p,setCreateStreamsInstance:v,filterSelected:q,setFilterSelected:B,total:E,page:g,perPage:h,filteredValue:A,setFilteredValue:F}),s().createElement(m.Table,{cells:W,rows:function(){var e=[],t=function(){var e=h;if(k&&k>0){var t=k%h!=0?Math.floor(k/h)+1:Math.floor(k/h);g===t&&(e=k>h?k%h==0?h:k%h:k)}return 0!==e?e:h}();if(!b){for(var a=[],r=0;r<W.length;r++)a.push({title:s().createElement(c.Skeleton,null)});for(r=0;r<t;r++)e.push({cells:a});return e}return n.forEach((function(t){var n=t.name,a=t.cloud_provider,r=t.region,i=t.status,l=t.owner,o=D(a),u=D(r);e.push({cells:[{title:s().createElement(c.Button,{variant:"link",isInline:!0,onClick:function(){return _(t)}},n)},o,u,l,{title:s().createElement(y,{status:i})}],originalData:t})})),e}(),"aria-label":D("cluster_instance_list"),actionResolver:function(e,n){return function(e,n){if(!b)return[];var a=e.originalData,r=a.owner===$;return t?[{title:D("view_details"),id:"view-instance",onClick:function(){return u(a)}},{title:D("connect_to_instance"),id:"connect-instance",onClick:function(){return d(a)}},{title:D("delete_instance"),id:"delete-instance",onClick:function(){return r&&n(a)},tooltip:!r,tooltipProps:{position:"left",content:D("no_permission_to_delete_kafka")},isDisabled:!r,style:{pointerEvents:"auto",cursor:"default"}}]:[{title:D("view_details"),id:"view-instance",onClick:function(){return u(a)}},{title:D("delete_instance"),id:"delete-instance",onClick:function(){return r&&n(a)},tooltip:!r,tooltipProps:{position:"left",content:D("no_permission_to_delete_kafka")},isDisabled:!r,style:{pointerEvents:"auto",cursor:"default"}}]}(e,re)},onSort:function(e,t,n){L(function(e){switch(e){case 0:return"name";case 1:return"cloud_provider";case 2:return"region";case 3:return"owner";case 4:return"status";default:return""}}(t)+" "+n)},sortBy:function(){var e=(null==R?void 0:R.split(" "))||[];if(e.length>1)return{index:ue(e[0]),direction:e[1]===m.SortByDirection.asc?m.SortByDirection.asc:m.SortByDirection.desc}}()},s().createElement(m.TableHeader,null),s().createElement(m.TableBody,null)),n.length<1&&s().createElement(c.EmptyState,{variant:c.EmptyStateVariant.small},s().createElement(c.EmptyStateIcon,{icon:V.ZP}),s().createElement(c.Title,{headingLevel:"h2",size:"lg"},D("no_matches")),s().createElement(c.EmptyStateBody,null,D("please_try_adjusting_your_search_query_and_try_again"))),s().createElement(w,{widgetId:"pagination-options-menu-bottom",itemCount:E,variant:c.PaginationVariant.bottom,page:g,perPage:h,paginationTitle:D("full_pagination")}),G&&s().createElement(T,{title:le,selectedInstance:j,isModalOpen:G,instanceStatus:null==j?void 0:j.status,setIsModalOpen:U,onConfirm:ie,description:ce,confirmActionLabel:oe}))},F=function(){this.cloud_provider="",this.multi_az=!1,this.region="",this.name=""},B={kind:"Empty provider",id:"please_select",display_name:"Please Select",enabled:!0},q=function(e){var t=e.createStreamsInstance,n=e.setCreateStreamsInstance,a=e.cloudProviders,l=e.refresh,d=(0,o.useTranslation)().t,m=new F;m.name="",m.cloud_provider="",m.region="",m.multi_az=!0;var _=(0,i.useState)(m),f=_[0],p=_[1],v=(0,i.useState)({fieldState:"default"}),g=v[0],h=v[1],E=(0,i.useState)({fieldState:"default"}),b=E[0],k=E[1],y=(0,i.useState)([]),T=y[0],w=y[1],x=(0,i.useState)(!0),V=x[0],A=x[1],q=(0,i.useContext)(I.V),R=(0,i.useContext)(P.G).basePath,L=(0,C.Z7)().addAlert,O=function(e){return(0,r.__awaiter)(void 0,void 0,void 0,(function(){var t,n,a,i,s;return(0,r.__generator)(this,(function(l){switch(l.label){case 0:return[4,null==q?void 0:q.getToken()];case 1:if(t=l.sent(),n=e.id,void 0===t||""===t||!n)return[3,5];l.label=2;case 2:return l.trys.push([2,4,,5]),[4,new S({accessToken:t,basePath:R}).listCloudProviderRegions(n).then((function(t){var n=t.data,a=[B].concat(n.items);w(null!=n.items?a:[]);var i=n.items.filter((function(e){return e.enabled}));if(1===i.length&&i[0].id&&e.name){var s=i[0].id;p((function(e){return(0,r.__assign)((0,r.__assign)({},e),{region:s})}))}}))];case 3:return l.sent(),[3,5];case 4:return a=l.sent(),i=void 0,N(a)&&(i=null===(s=a.response)||void 0===s?void 0:s.data.reason),L(d("something_went_wrong"),c.AlertVariant.danger,i),[3,5];case 5:return[2]}}))}))};(0,i.useEffect)((function(){var e=a.filter((function(e){return e.enabled}));e.length>0&&e[0].name&&(p((0,r.__assign)((0,r.__assign)({},f),{cloud_provider:e[0].name})),O(e[0]))}),[a]);var K=function(){n(!t)},D=function(e){switch(null==e?void 0:e.toLowerCase()){case"aws":return s().createElement(u.AwsIcon,{size:"lg",color:"black",className:"mk--create-instance__tile--icon"});default:return}},z=function(e){p((0,r.__assign)((0,r.__assign)({},f),{multi_az:"multi"===e}))};return s().createElement(s().Fragment,null,s().createElement(c.Modal,{variant:c.ModalVariant.medium,title:d("create_a_kafka_instance"),isOpen:t,onClose:K,actions:[s().createElement(c.Button,{key:"create",variant:"primary",onClick:function(){return(0,r.__awaiter)(void 0,void 0,void 0,(function(){var e,t,n,a,i;return(0,r.__generator)(this,(function(r){switch(r.label){case 0:return e=!0,void 0===f.name||""===f.name.trim()?(e=!1,h({fieldState:"error",message:d("this_is_a_required_field")})):/^[a-z]([-a-z0-9]*[a-z0-9])?$/.test(f.name.trim())||(e=!1,h({fieldState:"error",message:d("create_instance_name_invalid_helper_text")})),void 0!==f.region&&""!==f.region.trim()||(e=!1,k({fieldState:"error",message:d("this_is_a_required_field")})),[4,null==q?void 0:q.getToken()];case 1:if(t=r.sent(),!e)return[3,6];r.label=2;case 2:return r.trys.push([2,4,,5]),[4,new S({accessToken:t,basePath:R}).createKafka(!0,f).then((function(e){K(),l("create")}))];case 3:return r.sent(),[3,5];case 4:return n=r.sent(),a=void 0,N(n)&&(a=null===(i=n.response)||void 0===i?void 0:i.data.reason),L(d("something_went_wrong"),c.AlertVariant.danger,a),[3,5];case 5:return[3,7];case 6:A(!1),r.label=7;case 7:return[2]}}))}))},isDisabled:!V},d("create_instance")),s().createElement(c.Button,{key:"cancel",variant:"link",onClick:K},d("cancel"))]},s().createElement(c.Form,null,!V&&s().createElement(c.FormAlert,null,s().createElement(c.Alert,{variant:"danger",title:d("create_instance_invalid_alert"),"aria-live":"polite",isInline:!0})),s().createElement(c.FormGroup,{label:d("instance_name"),helperText:d("create_instance_name_helper_text"),helperTextInvalid:g.message,helperTextInvalidIcon:""!=g.message&&s().createElement(u.ExclamationCircleIcon,null),isRequired:!0,validated:g.fieldState,fieldId:"form-instance-name"},s().createElement(c.TextInput,{isRequired:!0,validated:g.fieldState,type:"text",id:"form-instance-name",name:"instance-name",value:null==f?void 0:f.name,onChange:function(e){var t=!0;void 0===e||""===e.trim()?t=!0:e&&!/^[a-z]([-a-z0-9]*[a-z0-9])?$/.test(e.trim())&&(t=!1),p((0,r.__assign)((0,r.__assign)({},f),{name:e||""})),t?("error"===g.fieldState&&"error"!==b.fieldState&&A(!0),"error"===g.fieldState&&h({fieldState:"default",message:""})):h({fieldState:"error",message:d("create_instance_name_invalid_helper_text")})}})),s().createElement(c.FormGroup,{label:d("cloud_provider"),fieldId:"form-cloud-provider-name"},a.map((function(e){return e.enabled&&s().createElement(c.Tile,{key:"tile-"+e.name,title:e.display_name?d(e.display_name):"",icon:D(null==e?void 0:e.name),isSelected:f.cloud_provider===e.name,onClick:function(){return(t=e).name&&p((0,r.__assign)((0,r.__assign)({},f),{cloud_provider:t.name})),void O(t);var t}})}))),s().createElement(c.FormGroup,{label:d("cloud_region"),helperTextInvalid:b.message,helperTextInvalidIcon:s().createElement(u.ExclamationCircleIcon,null),validated:b.fieldState,fieldId:"form-cloud-region-option"},s().createElement(c.FormSelect,{validated:b.fieldState,value:f.region,onChange:function(e){var t=e;"please_select"===e&&(t=""),"error"===b.fieldState&&"error"!==g.fieldState&&A(!0),"error"===b.fieldState&&k({fieldState:"default",message:""}),p((0,r.__assign)((0,r.__assign)({},f),{region:t}))},id:"cloud-region-select",name:"cloud-region","aria-label":d("cloud_region")},T.map((function(e,t){return e.enabled&&s().createElement(c.FormSelectOption,{key:t,value:e.id,label:e.id?d(e.id):e.display_name||""})})))),s().createElement(c.FormGroup,{label:d("availabilty_zones"),fieldId:"availability-zones"},s().createElement(c.ToggleGroup,{"aria-label":d("availability_zone_selection")},s().createElement("div",{className:"pf-c-toggle-group__item"},s().createElement("button",{className:"pf-c-toggle-group__button "+(!1===f.multi_az&&"pf-m-selected"),type:"button",id:"single",disabled:!0,onClick:function(){z("single")}},s().createElement("span",{className:"pf-c-toggle-group__text"}," ",d("single")))),s().createElement("div",{className:"pf-c-toggle-group__item"},s().createElement("button",{className:"pf-c-toggle-group__button "+(!0===f.multi_az&&"pf-m-selected"),type:"button",onClick:function(){z("multi")},id:"multi"},s().createElement("span",{className:"pf-c-toggle-group__text"}," ",d("multi"))))))),s().createElement("br",null),s().createElement("br",null)))},R=function(e){var t,n=e.instanceName,a=void 0===n?"":n,l=e.mainToggle,d=(0,o.useTranslation)().t,m=(0,i.useContext)(I.V),_=(0,i.useContext)(P.G).basePath,f=(0,i.useState)(!1),p=f[0],v=f[1],g=(0,i.useState)(!1),h=g[0],E=g[1],b=(0,i.useState)(1),k=b[0],y=b[1],T=(0,i.useState)(),w=T[0],C=T[1],x=(0,i.useState)(!1),V=x[0],A=x[1],F=(0,i.useState)(!1),B=F[0],q=F[1],R=(0,i.useState)(!1),L=R[0],O=R[1],K=(0,i.useState)(!1),D=K[0],z=K[1],G=(0,i.useState)(!1),U=G[0],M=G[1],j=(0,i.useState)("name"),H=j[0],W=j[1],Q=(0,i.useState)(),J=Q[0],Z=Q[1],Y=(0,i.useState)(!1),$=Y[0],X=Y[1],ee=(0,i.useState)("name"),te=ee[0],ne=ee[1],ae=(0,i.useState)(),re=ae[0],ie=ae[1],se=(0,i.useState)(!1),le=se[0],oe=se[1],ce=(0,i.useState)(!1),ue=ce[0],de=ce[1],me=(0,i.useState)(!1),_e=me[0],fe=me[1],pe=(0,i.useState)("name"),ve=pe[0],ge=pe[1],he=(0,i.useState)(),Ee=he[0],be=he[1],Se=(0,i.useState)(!1),ke=Se[0],ye=Se[1],Te=(0,i.useState)(),we=Te[0],Ce=Te[1],xe=(0,i.useState)(!1),Ie=xe[0],Pe=xe[1],Ne=(0,i.useState)(""),Ve=Ne[0],Ae=Ne[1],Fe=function(e,t){y(e.id)},Be=function(e,t){A(!1),q(!1),O(!1),z(!1);var n=t.target,a="radio"===n.type?n.checked:n.value,r=n.name;"radio1-1"===r?A(a):"radio2-1"===r?q(a):"radio3-1"===r?O(a):"radio4-1"===r&&z(a)},qe=function(e,t){oe(!1),de(!1),fe(!1);var n=t.target,a="radio"===n.type?n.checked:n.value,r=n.name;"radio1-4"===r?oe(a):"radio2-4"===r?de(a):"radio3-4"===r&&fe(a)},Re=s().createElement("div",{className:"mk--generate-credential__wizard--text-content"},s().createElement(c.TextContent,{className:"pf-u-mb-lg"},s().createElement(c.Text,{component:c.TextVariants.h2},d("basic_info")),s().createElement(c.Text,{component:c.TextVariants.small},d("generate_credential_step1_title_description"))),s().createElement(c.Form,null,s().createElement(c.FormGroup,{label:d("credential_name_form_label"),fieldId:"simple-form-name",isRequired:!0},s().createElement(c.TextInput,{isRequired:!0,type:"text",id:"simple-form-name",name:"simple-form-name","aria-describedby":"simple-form-name-helper",value:w,onChange:function(e){C(e)},placeholder:d("credential_name_form_input_placeholder")})),s().createElement(c.FormGroup,{label:d("credential_aplication_reason_form_label"),className:"form-group-radio",fieldId:"radio-access-type",isRequired:!0},s().createElement(c.Radio,{isChecked:V,name:"radio1-1",onChange:Be,label:d("produce_only"),id:"radio-controlled-1",value:"produce"}),s().createElement(c.Radio,{isChecked:B,name:"radio2-1",onChange:Be,label:d("consume_only"),id:"radio-controlled-2",value:"consume"}),s().createElement(c.Radio,{isChecked:L,name:"radio3-1",onChange:Be,label:d("produce_and_consume"),id:"radio-controlled-3",value:"produceconsume"}),s().createElement(c.Radio,{isChecked:D,name:"radio4-1",onChange:Be,label:d("produce_consume_and_create_topics"),id:"radio-controlled-4",value:"produceconsumecreate"})))),Le=s().createElement("div",{className:"mk--generate-credential__wizard--text-content"},s().createElement(c.TextContent,{className:"pf-u-mb-lg"},s().createElement(c.Text,{component:c.TextVariants.h2},d("generate_credential_step2_title_description"))),s().createElement(c.Form,null,s().createElement(c.Switch,{id:"simple-switch",label:d("all_topics"),labelOff:d("all_topics"),isChecked:U,onChange:function(e){M(e)}}),U?s().createElement(s().Fragment,null):s().createElement(c.FormGroup,{label:d("specific_topics"),fieldId:"input-access-topics",isRequired:!0},s().createElement(c.Split,{hasGutter:!0,className:"pf-u-align-items-center"},s().createElement(c.SplitItem,null,d("topics_with_the")),s().createElement(c.SplitItem,null,s().createElement(c.FormSelect,{id:"select-access-topics",value:H,onChange:function(e){W(e)}},s().createElement(c.FormSelectOption,{value:"name",label:d("lower_name")}),s().createElement(c.FormSelectOption,{value:"prefix",label:d("lower_prefix")}))),s().createElement(c.SplitItem,{isFilled:!0},s().createElement(c.TextInput,{isRequired:!0,type:"text",id:"input-access-topics",name:"input-access-topics","aria-describedby":"simple-form-name-helper",value:J,onChange:function(e){Z(e)},placeholder:d("enter_your_topic")+" "+H}))),s().createElement(c.Popover,{position:"bottom",bodyContent:s().createElement("div",null,d("credential_rule_popover_data"))},s().createElement(c.Button,{variant:"link",icon:s().createElement(u.PlusCircleIcon,null),isInline:!0,className:"pf-u-mt-md"},"Add another rule"))))),Oe=s().createElement("div",{className:"mk--generate-credential__wizard--text-content"},s().createElement(c.TextContent,{className:"pf-u-mb-lg"},s().createElement(c.Text,{component:c.TextVariants.h2},d("generate_credential_step3_title_description"))),s().createElement(c.Form,null,s().createElement(c.Switch,{id:"simple-switch",label:d("all_consumer_groups"),labelOff:d("all_consumer_groups"),isChecked:$,onChange:function(e){X(e)}}),$?s().createElement(s().Fragment,null):s().createElement(c.FormGroup,{label:d("specific_consumer_groups"),fieldId:"input-access-consumers",isRequired:!0},s().createElement(c.Split,{hasGutter:!0,className:"pf-u-align-items-center"},s().createElement(c.SplitItem,null,d("groups_with_the")),s().createElement(c.SplitItem,null,s().createElement(c.FormSelect,{id:"select-access-consumers",value:te,onChange:function(e){ne(e)}},s().createElement(c.FormSelectOption,{value:"name",label:d("lower_name")}),s().createElement(c.FormSelectOption,{value:"prefix",label:d("lower_prefix")}))),s().createElement(c.SplitItem,{isFilled:!0},s().createElement(c.TextInput,{isRequired:!0,type:"text",id:"input-access-consumers",name:"input-access-consumers",value:re,onChange:function(e){ie(e)},placeholder:d("enter_your_consumer_group")+" "+te})))))),Ke=s().createElement("div",{className:"mk--generate-credential__wizard--text-content"},s().createElement(c.TextContent,{className:"pf-u-mb-lg"},s().createElement(c.Text,{component:c.TextVariants.h2,id:"step4-title"},d("generate_credential_step4_title_description"))),s().createElement(c.Form,null,s().createElement("section",{"aria-labelledby":"step4-title",className:"form-group-radio"},s().createElement("div",{className:"pf-c-form__group-control"},s().createElement(c.Radio,{isChecked:le,name:"radio1-4",onChange:qe,label:d("no_transaction_ids"),id:"radio-controlled-1-4",value:"no"}),s().createElement(c.Radio,{isChecked:ue,name:"radio2-4",onChange:qe,label:d("all_transaction_ids"),id:"radio-controlled-2-4",value:"all",className:"pf-u-mb-sm"}),s().createElement(c.Split,{hasGutter:!0,className:"pf-u-align-items-center"},s().createElement(c.SplitItem,null,s().createElement(c.Radio,{isChecked:_e,name:"radio3-4",onChange:qe,label:d("transaction_ids_with_the"),id:"radio-controlled-3-4",value:"filter"})),s().createElement(c.SplitItem,null,s().createElement(c.FormSelect,{id:"select-access-transactions",value:ve,onChange:function(e){ge(e)}},s().createElement(c.FormSelectOption,{value:"name",label:d("lower_name")}),s().createElement(c.FormSelectOption,{value:"prefix",label:d("lower_prefix")}))),s().createElement(c.SplitItem,{isFilled:!0},s().createElement(c.TextInput,{isRequired:!0,type:"text",id:"input-access-transactions",name:"input-access-transactions",value:Ee,onChange:function(e){be(e)},placeholder:d("enter_your_transaction_id")+" "+ve}))))))),De=s().createElement(s().Fragment,null,l&&s().createElement(c.Alert,{variant:"danger",isInline:!0,title:"These credentials were not actually generated from this flow as it is part of the mock UI. For now, please turn off the mock UI to generate credentials."}),s().createElement(c.EmptyState,{variant:c.EmptyStateVariant.large},s().createElement(c.EmptyStateIcon,{icon:u.KeyIcon}),s().createElement(c.Title,{headingLevel:"h4",size:"lg"},d("credential_successfully_generated")),s().createElement(c.EmptyStateBody,null,d("clientid_empty_state_body")),s().createElement(c.InputGroup,{className:"pf-u-mt-lg"},s().createElement(c.InputGroupText,{className:"mk--generate-credential__empty-state--input-group"},d("client_id")),s().createElement(c.ClipboardCopy,{isReadOnly:!0,className:"pf-u-w-100"},l?"srvc-acct-962bc96e-4339-4aee-9505-040d5069c6a5":null==we?void 0:we.clientID)),s().createElement(c.InputGroup,{className:"pf-u-mt-md"},s().createElement(c.InputGroupText,{className:"mk--generate-credential__empty-state--input-group"},"Client secret"),s().createElement(c.ClipboardCopy,{isReadOnly:!0,className:"pf-u-w-100"},l?"441cdf77-083c-41d1-9050-c27a3b4247ac":null==we?void 0:we.clientSecret)),s().createElement(c.Bullseye,{className:"pf-u-mt-lg"},s().createElement(c.Checkbox,{label:d("client_id_confirmation_checkbox_label"),isChecked:ke,onChange:function(e){ye(e)},id:"check-1",name:"check1"})),s().createElement(c.Button,{variant:"primary",isDisabled:!ke,onClick:function(){E(!1),v(!p),Ce(void 0),ye(!1),y(1)}},d("close")))),ze=d("generate_credential");return s().createElement(s().Fragment,null,s().createElement(c.FlexItem,{className:"pf-m-align-right"},s().createElement(c.Button,{variant:"secondary",onClick:function(){l?(E(!0),Pe(!1)):(Pe(!0),Ae(""),Ce(void 0),(0,r.__awaiter)(void 0,void 0,void 0,(function(){var e,t,n,i,s,l;return(0,r.__generator)(this,(function(r){switch(r.label){case 0:return[4,null==m?void 0:m.getToken()];case 1:e=r.sent(),t={name:a},n=new S({accessToken:e,basePath:_}),r.label=2;case 2:return r.trys.push([2,4,,5]),[4,n.createServiceAccount(t).then((function(e){Ce(null==e?void 0:e.data),Pe(!1),E(!0)}))];case 3:return r.sent(),[3,5];case 4:return i=r.sent(),Pe(!1),s=void 0,N(i)&&(s=null===(l=i.response)||void 0===l?void 0:l.data.reason),Ae(s),[3,5];case 5:return[2]}}))})))},className:"pf-u-ml-md",spinnerAriaValueText:Ie?"Loading":void 0,isLoading:Ie},d("generate_credential"))),s().createElement(c.Wizard,{title:ze,description:d("create_credential_wizard_description"),steps:(t=[{id:5,name:d("finish"),component:De,isFinishedStep:!0}],l&&t.unshift({id:1,name:d("basic_info"),component:Re,nextButtonText:d("next")},{id:2,name:d("topics_access"),component:Le,nextButtonText:d("next")},{id:3,name:d("consumer_groups_access"),component:Oe,nextButtonText:d("next")},{id:4,name:d("transaction_ids_access"),component:Ke,nextButtonText:d("finish")}),t),onNext:Fe,onBack:Fe,onClose:function(){E(!1)},isOpen:h,hideClose:5===k}),Ve&&s().createElement(c.FlexItem,{className:"pf-m-grow"},s().createElement(c.Alert,{variant:"danger",isInline:!0,title:Ve})))},L=n(91031),O=n(88945),K=n.n(O),D=n(56176),z=n.n(D),G=function(e){var t,n=e.mainToggle,a=e.onClose,r=e.activeTab,l=e.instanceDetail,d=(0,o.useTranslation)().t,m=l||{},_=m.id,f=m.created_at,p=m.updated_at,v=m.owner;K().extend(z());var g=(0,i.useState)(0),h=g[0],E=g[1],b=(0,i.useState)(0),S=b[0],k=b[1];(0,i.useEffect)((function(){E("Details"===r?0:1)}),[r]);var y=function(e,t){k(t)},T=(null===(t=null==l?void 0:l.bootstrapServerHost)||void 0===t?void 0:t.endsWith(":443"))?null==l?void 0:l.bootstrapServerHost:(null==l?void 0:l.bootstrapServerHost)+":443",w=s().createElement(s().Fragment,null,s().createElement("div",{className:"mk--instance-details__drawer--tab-content"},s().createElement(c.TextContent,{className:"pf-u-pb-sm"},s().createElement(c.Text,{component:c.TextVariants.small},d("drawer_resource_tab_body_description_1")),s().createElement(c.Text,{component:c.TextVariants.h5},d("kafka_listener_and_credentials")),s().createElement(c.Text,{component:c.TextVariants.small},d("drawer_resource_tab_body_description_2")),s().createElement(c.Text,{component:c.TextVariants.p,className:"pf-u-mt-md"},d("external_server"))),s().createElement(c.Flex,null,s().createElement(c.FlexItem,{className:"pf-m-grow pf-m-spacer-none pf-u-mb-xs"},s().createElement(c.ClipboardCopy,null,T)),s().createElement(R,{instanceName:null==l?void 0:l.name,mainToggle:n})),n&&s().createElement(s().Fragment,null,s().createElement(c.TextContent,{className:"pf-u-pb-sm pf-u-pt-lg"},s().createElement(c.Text,{component:c.TextVariants.h5},"Producer endpoint and credentials"),s().createElement(c.Text,{component:c.TextVariants.small},d("drawer_resource_tab_body_description_3"))),s().createElement(c.ClipboardCopy,null,"https://:30123")))),C=s().createElement(s().Fragment,null,s().createElement("div",{className:"mk--instance-details__drawer--tab-content"},s().createElement(c.TextContent,{className:"pf-u-pb-sm"},s().createElement(c.Text,{component:c.TextVariants.h5},d("sample_connection_code")),s().createElement(c.Text,{component:c.TextVariants.small},d("drawer_code_section_tab_body_description_1"),"<",d("brackets"),">.")),s().createElement("div",{className:"pf-c-code-editor pf-m-read-only"},s().createElement("div",{className:"pf-c-code-editor__header"},s().createElement("div",{className:"pf-c-code-editor__controls"},s().createElement(c.Button,{variant:"control","aria-label":"Action"},s().createElement(u.CopyIcon,null))),s().createElement("div",{className:"pf-c-code-editor__tab"},s().createElement("span",{className:"pf-c-code-editor__tab-text"},"Java"))),s().createElement("div",{className:"pf-c-code-editor__main"},s().createElement("div",{className:"pf-c-code-editor__code"},s().createElement("pre",{className:"pf-c-code-editor__code-pre"},"import java.util.Properties;")))),s().createElement(c.TextContent,{className:"pf-u-pb-sm pf-u-pt-lg"},s().createElement(c.Text,{component:c.TextVariants.h5},d("sample_connection_code")),s().createElement(c.Text,{component:c.TextVariants.small},d("drawer_code_section_tab_body_description_1"),"<",d("brackets"),">.")),s().createElement("div",{className:"pf-c-code-editor pf-m-read-only"},s().createElement("div",{className:"pf-c-code-editor__header"},s().createElement("div",{className:"pf-c-code-editor__controls"},s().createElement(c.Button,{variant:"control","aria-label":"Action"},s().createElement(u.CopyIcon,null)))),s().createElement("div",{className:"pf-c-code-editor__main"},s().createElement("div",{className:"pf-c-code-editor__code"},s().createElement("pre",{className:"pf-c-code-editor__code-pre"},"bootstrap.servers=es-1-4-0-ibm-es-proxy-route-bootstrap-es.apps.2019-4-1-demo-icp-mst.fyre.ibm.com:44 sasl.jaas.config=org.apache.kafka.common.security.plain.PlainLoginModule required username=“token")))))),x=function(e,t){return s().createElement(s().Fragment,null,t&&s().createElement(s().Fragment,null,s().createElement(c.TextListItem,{component:c.TextListItemVariants.dt},e),s().createElement(c.TextListItem,{component:c.TextListItemVariants.dd},t)))},I=s().createElement(s().Fragment,null,s().createElement("div",{className:"mk--instance-details__drawer--tab-content"},n&&s().createElement(c.Grid,{className:"mk--instance-details__drawer--grid"},s().createElement(c.GridItem,{span:6,className:"mk--instance-details__drawer--grid--column-one"},s().createElement(c.Card,{isFlat:!0},s().createElement(c.CardBody,null,s().createElement(c.TextContent,null,s().createElement(c.Text,{component:c.TextVariants.small,className:"pf-u-mb-0"},d("topics")),s().createElement(c.Text,{component:c.TextVariants.h3,className:"pf-u-mt-0"},"10"))))),s().createElement(c.GridItem,{span:6},s().createElement(c.Card,{isFlat:!0},s().createElement(c.CardBody,null,s().createElement(c.TextContent,null,s().createElement(c.Text,{component:c.TextVariants.small,className:"pf-u-mb-0"},d("consumer_groups")),s().createElement(c.Text,{component:c.TextVariants.h3,className:"pf-u-mt-0"},"8")))))),s().createElement(c.TextContent,null,s().createElement(c.TextList,{component:c.TextListVariants.dl},x(d("cloud_provider"),d("amazon_web_services")),x(d("region"),d("us_east_north_virginia")),x(d("id"),_),x(d("owner"),v),x(d("created"),K()(f).format("LLLL")),x(d("updated"),K()(p).format("LLLL"))))));return s().createElement(c.DrawerPanelContent,{className:"instance-drawer",widths:{default:"width_50"}},void 0===l?s().createElement(L.g,null):s().createElement(s().Fragment,null,s().createElement(c.DrawerHead,null,s().createElement(c.TextContent,null,s().createElement(c.Text,{component:c.TextVariants.small,className:"pf-u-mb-0"},d("instance_name")),s().createElement(c.Title,{headingLevel:"h1",size:c.TitleSizes.xl,className:"pf-u-mt-0 "},null==l?void 0:l.name)),s().createElement(c.DrawerActions,null,s().createElement(c.DrawerCloseButton,{onClick:a}))),s().createElement(c.DrawerPanelBody,null,s().createElement(c.Tabs,{activeKey:h,onSelect:function(e,t){E(t)}},s().createElement(c.Tab,{eventKey:0,title:s().createElement(c.TabTitleText,null,d("details"))},I),s().createElement(c.Tab,{eventKey:1,title:s().createElement(c.TabTitleText,null,d("connection"))},n?s().createElement("div",{className:"mk--instance-details__drawer--tab-content pf-m-secondary"},s().createElement(c.Tabs,{activeKey:S,isSecondary:!0,onSelect:y},s().createElement(c.Tab,{eventKey:0,title:s().createElement(c.TabTitleText,null,d("resources"))},w),s().createElement(c.Tab,{eventKey:1,title:s().createElement(c.TabTitleText,null,d("sample_code"))},C))):s().createElement(s().Fragment,null,w))))))};var U=function(){return[{filterKey:"region",filterValue:k.Bh[0].label},{filterKey:"cloud_provider",filterValue:k.bv[0].label}]},M=function(e){var t,n,a,u=e.onConnectToInstance,m=(0,i.useContext)(I.V),_=(0,i.useContext)(P.G).basePath,f=(0,l.TH)(),p=new URLSearchParams(f.search),v=parseInt(p.get("page")||"",10)||1,g=parseInt(p.get("perPage")||"",10)||10,h=(0,o.useTranslation)().t,E=(0,C.Z7)().addAlert,b=(0,i.useState)(!1),y=b[0],T=b[1],w=(0,i.useState)(),x=w[0],V=w[1],F=(0,i.useState)({}),B=F[0],R=F[1],O=(0,i.useState)([]),K=O[0],D=O[1],z=(0,i.useState)(!1),M=z[0],j=z[1],H=(0,i.useState)(!1),W=H[0],Q=H[1],J=(0,i.useState)("name asc"),Z=J[0],Y=J[1],$=(0,i.useState)(),X=$[0],ee=$[1],te=(0,i.useState)(0),ne=te[0],ae=te[1],re=(0,i.useState)(0),ie=re[0],se=re[1],le=(0,i.useState)("Name"),oe=le[0],ce=le[1],ue=(0,i.useState)(U()),de=ue[0],me=ue[1],_e=s().createRef(),fe=function(){return(0,r.__awaiter)(void 0,void 0,void 0,(function(){var e,t,n,a,i;return(0,r.__generator)(this,(function(r){switch(r.label){case 0:return[4,null==m?void 0:m.getToken()];case 1:if(!function(e){return void 0!==e&&""!==e}(e=r.sent()))return[3,6];r.label=2;case 2:return r.trys.push([2,5,,6]),[4,(t=new S({accessToken:e,basePath:_})).listKafkas(null==v?void 0:v.toString(),null==g?void 0:g.toString(),Z&&Z,(s=[],de.forEach((function(e){e.filterValue&&""!==e.filterValue.trim()&&("name"===e.filterKey?s.push("name = "+e.filterValue):"owner"===e.filterKey?s.push("owner = "+e.filterValue):"cloud_provider"===e.filterKey?s.push("cloud_provider = "+k.bv[k.bv.findIndex((function(t){return t.label===e.filterValue}))].value):"region"===e.filterKey?s.push("region = "+k.Bh[k.Bh.findIndex((function(t){return t.label===e.filterValue}))].value):"status"===e.filterKey&&s.push("status = "+k.hm[k.hm.findIndex((function(t){return t.label===e.filterValue}))].value))})),s.join(" and "))).then((function(e){var t=e.data;R(t),V(t.items),void 0!==(null==B?void 0:B.total)&&B.total>ne&&ae(B.total),j(!0)}))];case 3:return r.sent(),[4,t.listKafkas(null==v?void 0:v.toString(),null==g?void 0:g.toString(),Z&&Z,"region = "+k.Bh[0].value+" and cloud_provider = "+k.bv[0].value).then((function(e){se(e.data.items.length)}))];case 4:return r.sent(),[3,6];case 5:return n=r.sent(),a=void 0,N(n)&&(a=null===(i=n.response)||void 0===i?void 0:i.data.reason),E(h("something_went_wrong"),c.AlertVariant.danger,a),[3,6];case 6:return[2]}var s}))}))};(0,i.useEffect)((function(){j(!1),fe()}),[m,v,g,de,Z]),(0,i.useEffect)((function(){(0,r.__awaiter)(void 0,void 0,void 0,(function(){var e,t,n,a;return(0,r.__generator)(this,(function(r){switch(r.label){case 0:return[4,null==m?void 0:m.getToken()];case 1:if(void 0===(e=r.sent())||""===e)return[3,5];r.label=2;case 2:return r.trys.push([2,4,,5]),[4,new S({accessToken:e,basePath:_}).listCloudProviders().then((function(e){var t=e.data;D(t.items)}))];case 3:return r.sent(),[3,5];case 4:return t=r.sent(),n=void 0,N(t)&&(n=null===(a=t.response)||void 0===a?void 0:a.data.reason),E(h("something_went_wrong"),c.AlertVariant.danger,n),[3,5];case 5:return[2]}}))})),fe()}),[]),t=fe,n=5e3,a=(0,i.useRef)(),(0,i.useEffect)((function(){a.current=t}),[t]),(0,i.useEffect)((function(){if(null!==n){var e=setTimeout((function(){a.current()}),n);return function(){clearInterval(e)}}}),[t,n]);var pe=function(e){j(!1),"create"===e?ae(B.total+1):"delete"===e&&ae(B.total-1),fe()};return s().createElement(s().Fragment,null,s().createElement(C.uZ,null,s().createElement(c.Drawer,{isExpanded:null!=X,onExpand:function(){_e.current&&_e.current.focus()}},s().createElement(c.DrawerContent,{panelContent:s().createElement(G,{mainToggle:W,onClose:function(){ee(null)},isExpanded:null!=X,drawerRef:_e,activeTab:null==X?void 0:X.activeTab,instanceDetail:null==X?void 0:X.instanceDetail})},s().createElement(c.PageSection,{variant:c.PageSectionVariants.light},s().createElement(c.Level,null,s().createElement(c.LevelItem,null,s().createElement(c.Title,{headingLevel:"h1",size:"lg"},h("openshift_streams"))),s().createElement(c.LevelItem,null,s().createElement(c.Switch,{id:"simple-switch",label:h("mock_ui"),labelOff:h("currently_supported_ui"),isChecked:W,onChange:function(e){Q(e)}})))),void 0===x?s().createElement(c.PageSection,{variant:c.PageSectionVariants.light,padding:{default:"noPadding"}},s().createElement(L.g,null)):ie&&ie<1?s().createElement(c.PageSection,null,s().createElement(d,{createStreamsInstance:y,setCreateStreamsInstance:T,mainToggle:W})):s().createElement(c.PageSection,{className:"mk--main-page__page-section--table",variant:c.PageSectionVariants.light,padding:{default:"noPadding"}},s().createElement(A,{kafkaInstanceItems:x,mainToggle:W,onViewConnection:function(e){ee({instanceDetail:e,activeTab:"Connection"})},onViewInstance:function(e){ee({instanceDetail:e,activeTab:"Details"})},onConnectToInstance:u,refresh:pe,kafkaDataLoaded:M,createStreamsInstance:y,setCreateStreamsInstance:T,page:v,perPage:g,total:null==B?void 0:B.total,expectedTotal:ne,filteredValue:de,setFilteredValue:me,setFilterSelected:ce,filterSelected:oe,orderBy:Z,setOrderBy:Y})),y&&s().createElement(q,{createStreamsInstance:y,setCreateStreamsInstance:T,cloudProviders:K,mainToggle:W,refresh:pe})))))}},9995:(e,t,n)=>{"use strict";n.d(t,{G:()=>r});var a=n(15691),r=n.n(a)().createContext({basePath:void 0})},42603:(e,t,n)=>{"use strict";n.d(t,{V:()=>r});var a=n(15691),r=n.n(a)().createContext(void 0)},62219:(e,t,n)=>{"use strict";n.d(t,{z:()=>s});var a=n(15691),r=n.n(a),i=n(91995);function s(e){var t=e.alerts,n=e.onCloseAlert;return r().createElement(i.AlertGroup,{isToast:!0},t.map((function(e){var t=e.key,a=e.variant,s=e.title,l=e.body;return r().createElement(i.Alert,{key:t,isLiveRegion:!0,variant:i.AlertVariant[a],variantLabel:"",title:s,actionClose:r().createElement(i.AlertActionCloseButton,{title:s,onClose:function(){return n(t)}})},l)})))}},91031:(e,t,n)=>{"use strict";n.d(t,{g:()=>l});var a=n(15691),r=n.n(a),i=n(91995),s=n(92992),l=function(){return r().createElement(i.Bullseye,null,r().createElement(s.Spinner,null))}},78800:(e,t,n)=>{"use strict";var a=n(66491),r=n.n(a),i=n(17751),s=n(13096),l=n.n(s),o=n(74008),c=n.n(o),u=n(31863),d=n.n(u),m=n(88945),_=n.n(m),f=(n(76831),"true"===new URLSearchParams(window.location.search).get("pseudolocalization"));r().use(new(d())({enabled:f,wrapped:!0})).use(c()).use(l()).use(i.initReactI18next).init({backend:{loadPath:"/beta/apps/rhosak-control-plane-ui-build/locales/{{lng}}/{{ns}}.json"},fallbackLng:"en",load:"all",debug:!1,detection:{caches:[]},contextSeparator:"~",ns:["public"],defaultNS:"public",nsSeparator:"~",keySeparator:!1,postProcess:["pseudo"],interpolation:{format:function(e,t,n,a){return a=a||{},"number"===t?new Intl.NumberFormat(n).format(e):e instanceof Date?"fromNow"===t?_()(e).fromNow(!0===a.omitSuffix):_()(e).format(t):e},escapeValue:!1},react:{useSuspense:!0,wait:!0},saveMissing:!0,missingKeyHandler:function(e,t,n){window.windowError='Missing i18n key "'+n+'" in namespace "'+t+'" and language "'+e+'."',console.error(window.windowError)}},(function(){_().locale(r().language)})),r().on("languageChanged",(function(e){_().locale(e)}))}}]);
//# sourceMappingURL=988.de5e43933867ab9dc196.js.map