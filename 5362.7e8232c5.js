(self.webpackChunkkas_ui=self.webpackChunkkas_ui||[]).push([[5362],{40400:(e,t,n)=>{"use strict";n.d(t,{IU:()=>l});var a,r=n(70655),i=n(75418);!function(e){e.sm="sm",e.md="md",e.lg="lg",e.xl="xl"}(a||(a={}));let c=0;function l({name:e,xOffset:t=0,yOffset:n=0,width:l,height:s,svgPath:o}){var u;return u=class extends i.Component{constructor(){super(...arguments),this.id="icon-title-"+c++}render(){const e=this.props,{size:c,color:u,title:m,noVerticalAlign:d}=e,v=(0,r.__rest)(e,["size","color","title","noVerticalAlign"]),p=Boolean(m),_=(e=>{switch(e){case a.sm:return"1em";case a.md:return"1.5em";case a.lg:return"2em";case a.xl:return"3em";default:return"1em"}})(c),C=-.125*Number.parseFloat(_),f=d?null:{verticalAlign:`${C}em`},h=[t,n,l,s].join(" ");return i.createElement("svg",Object.assign({style:f,fill:u,height:_,width:_,viewBox:h,"aria-labelledby":p?this.id:null,"aria-hidden":!p||null,role:"img"},v),p&&i.createElement("title",{id:this.id},m),i.createElement("path",{d:o}))}},u.displayName=e,u.defaultProps={color:"currentColor",size:a.sm,noVerticalAlign:!1},u}},84213:(e,t,n)=>{"use strict";n.d(t,{ZP:()=>a});const a=(0,n(40400).IU)({name:"HelpIcon",height:1024,width:1024,svgPath:"M521.3,576 C627.5,576 713.7,502 713.7,413.7 C713.7,325.4 627.6,253.6 521.3,253.6 C366,253.6 334.5,337.7 329.2,407.2 C329.2,414.3 335.2,416 343.5,416 L445,416 C450.5,416 458,415.5 460.8,406.5 C460.8,362.6 582.9,357.1 582.9,413.6 C582.9,441.9 556.2,470.9 521.3,473 C486.4,475.1 447.3,479.8 447.3,521.7 L447.3,553.8 C447.3,570.8 456.1,576 472,576 C487.9,576 521.3,576 521.3,576 M575.3,751.3 L575.3,655.3 C575.313862,651.055109 573.620137,646.982962 570.6,644 C567.638831,640.947672 563.552355,639.247987 559.3,639.29884 L463.3,639.29884 C459.055109,639.286138 454.982962,640.979863 452,644 C448.947672,646.961169 447.247987,651.047645 447.29884,655.3 L447.29884,751.3 C447.286138,755.544891 448.979863,759.617038 452,762.6 C454.961169,765.652328 459.047645,767.352013 463.3,767.30116 L559.3,767.30116 C563.544891,767.313862 567.617038,765.620137 570.6,762.6 C573.659349,759.643612 575.360354,755.553963 575.3,751.3 M512,896 C300.2,896 128,723.9 128,512 C128,300.3 300.2,128 512,128 C723.8,128 896,300.2 896,512 C896,723.8 723.7,896 512,896 M512.1,0 C229.7,0 0,229.8 0,512 C0,794.2 229.8,1024 512.1,1024 C794.4,1024 1024,794.3 1024,512 C1024,229.7 794.4,0 512.1,0",yOffset:0,xOffset:0})},690:(e,t,n)=>{"use strict";t.zS={name:"KeyIcon",height:1024,width:1024,svgPath:"M802,320 C748.980664,320 706,277.019336 706,224 C706,170.980664 748.980664,128 802,128 C855.019336,128 898,170.980664 898,224 C898,277.019336 855.019336,320 802,320 M704,0 C527.3,0 384,143.3 384,320 C383.937788,357.490503 390.505571,394.696657 403.4,429.9 L0,824.1 L0,1024 L192,1024 L192,896 L320,896 L320,768 L448,768 L597,622 C596.906403,621.881923 596.838304,621.745723 596.8,621.6 C631.220126,633.811107 667.47802,640.034477 704,640 C880.7,640 1024,496.7 1024,320 C1024,143.3 880.7,0 704,0",yOffset:0,xOffset:0},t._m=n(35183).createIcon(t.zS),t.ZP=t._m},95979:()=>{},66912:()=>{},77903:()=>{},26678:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var a=n(75418),r=n.n(a),i=n(84669),c=n(690),l=(n(77903),n(95979),n(66912),n(73394)),s=n(35946);const o=function(e){var t=e.serviceAccount,n=e.close,o=(0,l.useTranslation)().t,u=(0,a.useState)(!1),m=u[0],d=u[1];return r().createElement(r().Fragment,null,r().createElement(s.C0,{emptyStateProps:{variant:i.EmptyStateVariant.large},emptyStateIconProps:{icon:c.ZP},titleProps:{title:o("credentials_successfully_generated"),headingLevel:"h2",size:i.TitleSizes.lg}},r().createElement(i.TextContent,null,r().createElement(i.Text,{component:i.TextVariants.small,className:"pf-u-mt-lg"},o("connect_to_the_kafka_instance_using_this_clientID_and_secret"))),r().createElement(i.InputGroup,{className:"pf-u-mt-lg"},r().createElement(i.InputGroupText,{className:"mk--generate-credential__empty-state--input-group"},o("client_id")),r().createElement(i.ClipboardCopy,{isReadOnly:!0,className:"pf-u-w-100","data-testid":"modalCredentials-copyClientID",textAriaLabel:o("client_id")},null==t?void 0:t.client_id)),r().createElement(i.InputGroup,{className:"pf-u-mt-md"},r().createElement(i.InputGroupText,{className:"mk--generate-credential__empty-state--input-group"},o("common.client_secret")),r().createElement(i.ClipboardCopy,{isReadOnly:!0,className:"pf-u-w-100","data-testid":"modalCredentials-copyClientSecret",textAriaLabel:o("common.client_secret")},null==t?void 0:t.client_secret)),r().createElement(i.TextContent,null,r().createElement(i.Text,{component:i.TextVariants.small,className:"pf-u-mt-lg"},o("create_service_account_credentials_warning_message"))),r().createElement(i.Bullseye,{className:"pf-u-mt-lg"},r().createElement(i.Checkbox,{label:o("client_id_confirmation_checkbox_label"),isChecked:m,onChange:function(e){d(e)},id:"check-1",name:"check1"})),r().createElement(i.Button,{variant:"primary",isDisabled:!m,onClick:n,"data-testid":"modalCredentials-buttonClose"},o("close"))))}},45587:(e,t,n)=>{"use strict";n.r(t),n.d(t,{CreateServiceAccountConnected:()=>h,default:()=>g});var a,r=n(70655),i=n(75418),c=n.n(i),l=n(84669),s=n(80542),o=n(73394),u=n(75381),m=function(e){if(void 0===e.name.value)throw new Error("ServiceAccountRequest.name must not be undefined");return{name:e.name.value}},d=function(e){return"error"===e.name.validated},v=n(46332),p=n(84213),_=function(e){var t=e.serviceAccountRequest,n=e.createServiceAccount,a=e.setServiceAccountRequest,s=e.id,m=(0,o.useTranslation)().t,v=(0,i.useState)(!1),_=v[0],C=v[1],f=function(e){return void 0===e.name.value||""===e.name.value.trim()?(e.name.validated="error",e.name.errorMessage=m("common.this_is_a_required_field")):void 0===e.name.value||/^[a-z]([-a-z0-9]*[a-z0-9])?$/.test(e.name.value.trim())?void 0!==e.name.value&&e.name.value.length>u.Nw?(e.name.validated="error",e.name.errorMessage=m("serviceAccount.service_account_name_length_is_greater_than_expected",{maxLength:u.JB})):e.name.validated="success":(e.name.validated="error",e.name.errorMessage=m("common.input_filed_invalid_helper_text")),e},h=function(){a({name:{value:""}})};return c().createElement(l.Form,{onSubmit:function(e){e.preventDefault(),C(!0);var i=f(t);a((0,r.__assign)({},i)),d(i)||n().then((function(){return h()}))},id:s},c().createElement((function(){return _&&d(t)?c().createElement(l.FormAlert,null,c().createElement(l.Alert,{variant:"danger",title:m("common.form_invalid_alert"),"aria-live":"polite",isInline:!0})):c().createElement(c().Fragment,null)}),null),c().createElement(l.FormGroup,{label:m("serviceAccount.short_description"),isRequired:!0,fieldId:"text-input-short-description",helperTextInvalid:t.name.errorMessage,validated:t.name.validated,helperText:m("common.input_filed_invalid_helper_text"),labelIcon:c().createElement(l.Popover,{headerContent:c().createElement("div",null,m("serviceAccount.short_description_popover_title")),bodyContent:c().createElement("div",null,m("serviceAccount.short_description_popover_body"))},c().createElement("button",{"aria-label":m("serviceAccount.short_description_popover_button"),onClick:function(e){return e.preventDefault()},className:"pf-c-form__group-label-help"},c().createElement(p.ZP,{noVerticalAlign:!0})))},c().createElement(l.TextInput,{isRequired:!0,type:"text",id:"text-input-short-description",name:"text-input-short-description",value:t.name.value,onChange:function(e){a((function(t){var n=(0,r.__assign)((0,r.__assign)({},t),{name:{value:e}});return f(n)}))},validated:t.name.validated,autoFocus:!0})))},C=n(26678),f="create_service_account_form";!function(e){e.CreateServiceAccount="CreateServiceAccount",e.Credentials="Credentials"}(a||(a={}));var h=function(e){var t=e.onCreate,n=e.title,p=e.hideModal,h=(0,o.useTranslation)().t,g=(0,v.useAuth)(),A=((0,v.useConfig)()||{kas:{}}).kas.apiBasePath,E=((0,v.useAlert)()||{}).addAlert,b=(0,i.useState)({name:{value:""}}),x=b[0],S=b[1],y=(0,i.useState)(!1),k=y[0],w=y[1],L=(0,i.useState)(a.CreateServiceAccount),T=L[0],I=L[1],P=(0,i.useState)(),M=P[0],N=P[1],V=function(){return(0,r.__awaiter)(void 0,void 0,void 0,(function(){var e,n,i;return(0,r.__generator)(this,(function(r){switch(r.label){case 0:return[4,null==g?void 0:g.kas.getToken()];case 1:if(!(e=r.sent()))return[3,5];r.label=2;case 2:return r.trys.push([2,4,,5]),n=new s.SecurityApi(new s.Configuration({accessToken:e,basePath:A})),w(!0),[4,n.createServiceAccount(m(x)).then((function(e){return null==e?void 0:e.data}))];case 3:return i=r.sent(),N(i),I(a.Credentials),E&&E({title:h("serviceAccount.service_account_creation_success_message"),variant:l.AlertVariant.success}),t&&t(),[3,5];case 4:return function(e){var t,n;(0,u.G6)(e)&&(n=null===(t=e.response)||void 0===t?void 0:t.data.reason),E&&E({title:h("something_went_wrong"),variant:l.AlertVariant.danger,description:n})}(r.sent()),[3,5];case 5:return w(!1),[2]}}))}))},z=function(){p()};return c().createElement(l.Modal,{id:"modalCreateSAccount",variant:l.ModalVariant.medium,title:T===a.CreateServiceAccount?n:"",isOpen:!0,onClose:z,appendTo:u.wx,actions:T===a.CreateServiceAccount?[c().createElement(l.Button,{key:"submit",variant:"primary",type:"submit",form:f,isDisabled:d(x)||k,spinnerAriaValueText:h("submitting_request"),isLoading:k,"data-testid":"modalCreateServiceAccount-buttonSubmit"},"Create"),c().createElement(l.Button,{key:"cancel",variant:"link",onClick:z,"data-testid":"modalCreateServiceAccount-buttonCancel"},h("cancel"))]:[]},c().createElement((function(){if(T===a.CreateServiceAccount)return c().createElement(_,{createServiceAccount:V,setServiceAccountRequest:S,serviceAccountRequest:x,id:f});if(void 0===M)throw new Error("resetServiceAccount must not be undefined");return c().createElement(C.Z,{serviceAccount:M,close:p})}),null))};const g=h}}]);
//# sourceMappingURL=5362.7e8232c5.js.map