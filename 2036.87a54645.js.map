{"version":3,"file":"2036.87a54645.js","mappings":"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","sources":["webpack://kas-ui/./node_modules/dayjs/plugin/localizedFormat.js","webpack://kas-ui/./src/app/modules/InstanceDrawer/InstanceDrawerContent.tsx","webpack://kas-ui/./src/app/modules/InstanceDrawer/InstanceDrawer.tsx","webpack://kas-ui/./src/app/modules/InstanceDrawer/InstanceDrawerFederated.tsx","webpack://kas-ui/./src/app/modules/InstanceDrawer/contexts/InstanceDrawerContext.tsx","webpack://kas-ui/./src/app/modules/InstanceDrawer/tabs.ts"],"sourcesContent":["!function(e,t){\"object\"==typeof exports&&\"undefined\"!=typeof module?module.exports=t():\"function\"==typeof define&&define.amd?define(t):(e=\"undefined\"!=typeof globalThis?globalThis:e||self).dayjs_plugin_localizedFormat=t()}(this,(function(){\"use strict\";var e={LTS:\"h:mm:ss A\",LT:\"h:mm A\",L:\"MM/DD/YYYY\",LL:\"MMMM D, YYYY\",LLL:\"MMMM D, YYYY h:mm A\",LLLL:\"dddd, MMMM D, YYYY h:mm A\"};return function(t,o,n){var r=o.prototype,i=r.format;n.en.formats=e,r.format=function(t){void 0===t&&(t=\"YYYY-MM-DDTHH:mm:ssZ\");var o=this.$locale().formats,n=function(t,o){return t.replace(/(\\[[^\\]]+])|(LTS?|l{1,4}|L{1,4})/g,(function(t,n,r){var i=r&&r.toUpperCase();return n||o[r]||e[r]||o[i].replace(/(\\[[^\\]]+])|(MMMM|MM|DD|dddd)/g,(function(e,t,o){return t||o.slice(1)}))}))}(t,void 0===o?{}:o);return i.call(this,n)}}}));","import React, { useState } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { InstanceStatus } from '@app/utils';\nimport { MASLoading } from '@app/common';\nimport { Tab, Tabs, TabTitleText } from '@patternfly/react-core';\nimport { ConnectionTabProps } from '@app/modules/InstanceDrawer/ConnectionTab';\nimport { useInstanceDrawer } from '@app/modules/InstanceDrawer/contexts/InstanceDrawerContext';\nimport { InstanceDrawerTab } from '@app/modules/InstanceDrawer/tabs';\n\nexport const ResourcesTab = React.lazy(() => import('./ConnectionTab'));\nexport const DetailsTab = React.lazy(() => import('./DetailsTab'));\n\nexport type InstanceDrawerContentProps = Pick<\n  ConnectionTabProps,\n  'tokenEndPointUrl'\n>;\n\nexport const InstanceDrawerContent: React.FunctionComponent<InstanceDrawerContentProps> =\n  ({ tokenEndPointUrl }) => {\n    const { t } = useTranslation();\n\n    const { instanceDrawerTab, setInstanceDrawerTab, instanceDrawerInstance } =\n      useInstanceDrawer();\n\n    const selectTab = (tab: string | number) => {\n      if (tab === InstanceDrawerTab.CONNECTION) {\n        setInstanceDrawerTab(InstanceDrawerTab.CONNECTION);\n      } else {\n        setInstanceDrawerTab(InstanceDrawerTab.DETAILS);\n      }\n    };\n\n    const getExternalServer = () => {\n      const { bootstrap_server_host } = instanceDrawerInstance || {};\n      return bootstrap_server_host?.endsWith(':443')\n        ? bootstrap_server_host\n        : `${bootstrap_server_host}:443`;\n    };\n\n    const isKafkaPending =\n      instanceDrawerInstance?.status === InstanceStatus.ACCEPTED ||\n      instanceDrawerInstance?.status === InstanceStatus.PREPARING;\n\n    return (\n      <React.Suspense fallback={<MASLoading />}>\n        <Tabs\n          activeKey={instanceDrawerTab.toString()}\n          onSelect={(_, tab) => selectTab(tab)}\n        >\n          <Tab\n            eventKey={InstanceDrawerTab.DETAILS.toString()}\n            title={<TabTitleText>{t('details')}</TabTitleText>}\n          >\n            <DetailsTab />\n          </Tab>\n          <Tab\n            eventKey={InstanceDrawerTab.CONNECTION.toString()}\n            title={<TabTitleText>{t('connection')}</TabTitleText>}\n            data-testid='drawerStreams-tabConnect'\n          >\n            <ResourcesTab\n              externalServer={getExternalServer()}\n              isKafkaPending={isKafkaPending}\n              tokenEndPointUrl={tokenEndPointUrl}\n              instanceId={instanceDrawerInstance?.id}\n            />\n          </Tab>\n        </Tabs>\n      </React.Suspense>\n    );\n  };\n","import React from 'react';\nimport { useTranslation } from 'react-i18next';\nimport dayjs from 'dayjs';\nimport localizedFormat from 'dayjs/plugin/localizedFormat';\nimport '@patternfly/react-styles/css/utilities/Spacing/spacing.css';\nimport '@patternfly/react-styles/css/utilities/Alignment/alignment.css';\nimport { MASDrawer, MASDrawerProps } from '@app/common';\nimport './InstanceDrawer.css';\nimport {\n  InstanceDrawerContent,\n  InstanceDrawerContentProps,\n} from '@app/modules/InstanceDrawer/InstanceDrawerContent';\nimport { useInstanceDrawer } from '@app/modules/InstanceDrawer/contexts/InstanceDrawerContext';\n\nexport type InstanceDrawerProps = Omit<\n  MASDrawerProps,\n  | 'drawerHeaderProps'\n  | 'panelBodyContent'\n  | '[data-ouia-app-id]'\n  | 'isExpanded'\n  | 'isLoading'\n  | 'onClose'\n  | 'notRequiredDrawerContentBackground'\n> &\n  InstanceDrawerContentProps;\n\nconst InstanceDrawer: React.FunctionComponent<InstanceDrawerProps> = ({\n  children,\n  'data-ouia-app-id': dataOuiaAppId,\n  tokenEndPointUrl,\n}) => {\n  dayjs.extend(localizedFormat);\n  const { t } = useTranslation();\n  const {\n    isInstanceDrawerOpen,\n    instanceDrawerInstance,\n    closeInstanceDrawer,\n    noInstances,\n  } = useInstanceDrawer();\n\n  return (\n    <MASDrawer\n      isExpanded={isInstanceDrawerOpen}\n      isLoading={instanceDrawerInstance === undefined}\n      onClose={closeInstanceDrawer}\n      panelBodyContent={\n        <InstanceDrawerContent tokenEndPointUrl={tokenEndPointUrl} />\n      }\n      drawerHeaderProps={{\n        text: { label: t('instance_name') },\n        title: { value: instanceDrawerInstance?.name, headingLevel: 'h1' },\n      }}\n      data-ouia-app-id={dataOuiaAppId}\n      notRequiredDrawerContentBackground={noInstances}\n    >\n      {children}\n    </MASDrawer>\n  );\n};\n\nexport { InstanceDrawer };\n","import React from 'react';\nimport { I18nextProvider } from 'react-i18next';\nimport '@patternfly/patternfly/utilities/Accessibility/accessibility.css';\nimport '@patternfly/patternfly/utilities/Sizing/sizing.css';\nimport '@patternfly/patternfly/utilities/Spacing/spacing.css';\nimport '@patternfly/patternfly/utilities/Display/display.css';\nimport '@patternfly/patternfly/utilities/Flex/flex.css';\nimport { initI18N } from '@i18n/i18n';\nimport {\n  InstanceDrawer,\n  InstanceDrawerProps,\n} from '@app/modules/InstanceDrawer/InstanceDrawer';\nimport { FederatedProps } from '@app/contexts';\nimport { ModalProvider } from '@rhoas/app-services-ui-components';\nimport { KasModalLoader } from '@app/modals';\nimport { InstanceDrawerContextProvider } from '@app/modules/InstanceDrawer/contexts/InstanceDrawerContext';\n\nexport type InstanceDrawerFederatedProps = InstanceDrawerProps & FederatedProps;\n\nconst InstanceDrawerFederated: React.FunctionComponent<InstanceDrawerFederatedProps> =\n  ({ 'data-ouia-app-id': dataOuiaAppId, tokenEndPointUrl, children }) => {\n    return (\n      <I18nextProvider i18n={initI18N()}>\n        <ModalProvider>\n          <InstanceDrawerContextProvider>\n            <InstanceDrawer\n              data-ouia-app-id={dataOuiaAppId}\n              tokenEndPointUrl={tokenEndPointUrl}\n            >\n              {children}\n            </InstanceDrawer>\n          </InstanceDrawerContextProvider>\n          <KasModalLoader />\n        </ModalProvider>\n      </I18nextProvider>\n    );\n  };\n\nexport default InstanceDrawerFederated;\n","import React, { useContext, useState } from 'react';\nimport { InstanceDrawerTab } from '@app/modules/InstanceDrawer/tabs';\nimport { KafkaInstance } from '@rhoas/app-services-ui-shared';\n\nexport type InstanceDrawerContextProps = {\n  isInstanceDrawerOpen: boolean;\n  instanceDrawerTab: InstanceDrawerTab;\n  setInstanceDrawerTab: (tab: InstanceDrawerTab) => void;\n  openInstanceDrawer: (tab?: InstanceDrawerTab) => void;\n  closeInstanceDrawer: () => void;\n  instanceDrawerInstance: KafkaInstance | undefined;\n  setInstanceDrawerInstance: (instance: KafkaInstance) => void;\n  setNoInstances: (noInstances: boolean) => void;\n  noInstances: boolean;\n};\n\nexport const InstanceDrawerContext = React.createContext<\n  InstanceDrawerContextProps | undefined\n>(undefined);\n\nexport const useInstanceDrawer = (): InstanceDrawerContextProps => {\n  const answer = useContext(InstanceDrawerContext);\n  if (answer === undefined) {\n    throw new Error('must be used inside a InstanceDrawerContext provider');\n  }\n  return answer;\n};\n\nexport type InstanceDrawerContextProviderProps = {\n  initialTab?: InstanceDrawerTab;\n  initialInstance?: KafkaInstance;\n  initialNoInstances?: boolean;\n};\n\nexport const InstanceDrawerContextProvider: React.FunctionComponent<InstanceDrawerContextProviderProps> =\n  ({ initialTab, initialInstance, initialNoInstances = false, children }) => {\n    const defaultTab = InstanceDrawerTab.DETAILS;\n    const [instanceDrawerTab, setInstanceDrawerTab] = useState<\n      InstanceDrawerTab | undefined\n    >(initialTab);\n    const [instanceDrawerInstance, setInstanceDrawerInstance] = useState<\n      KafkaInstance | undefined\n    >(initialInstance);\n    const [noInstances, setNoInstances] = useState<boolean>(initialNoInstances);\n    return (\n      <InstanceDrawerContext.Provider\n        value={{\n          isInstanceDrawerOpen: instanceDrawerTab !== undefined,\n          instanceDrawerTab:\n            instanceDrawerTab === undefined ? defaultTab : instanceDrawerTab,\n          setInstanceDrawerTab,\n          instanceDrawerInstance,\n          setInstanceDrawerInstance,\n          setNoInstances,\n          noInstances,\n          openInstanceDrawer: (tab) => {\n            if (tab) {\n              setInstanceDrawerTab(tab);\n            } else {\n              setInstanceDrawerTab(defaultTab);\n            }\n          },\n          closeInstanceDrawer: () => {\n            setInstanceDrawerTab(undefined);\n            setInstanceDrawerInstance(undefined);\n          },\n        }}\n      >\n        {children}\n      </InstanceDrawerContext.Provider>\n    );\n  };\n","export enum InstanceDrawerTab {\n  DETAILS = 'details',\n  CONNECTION = 'connection',\n}\n"],"names":["module","exports","e","LTS","LT","L","LL","LLL","LLLL","t","o","n","r","prototype","i","format","en","formats","this","$locale","replace","toUpperCase","slice","call","ResourcesTab","DetailsTab","InstanceDrawerContent","bootstrap_server_host","tokenEndPointUrl","useTranslation","instanceDrawerTab","setInstanceDrawerTab","instanceDrawerInstance","isKafkaPending","status","fallback","Tabs","activeKey","toString","onSelect","_","tab","selectTab","Tab","eventKey","title","TabTitleText","externalServer","endsWith","instanceId","id","InstanceDrawer","children","dataOuiaAppId","isInstanceDrawerOpen","closeInstanceDrawer","noInstances","isExpanded","isLoading","undefined","onClose","panelBodyContent","drawerHeaderProps","text","label","value","name","headingLevel","notRequiredDrawerContentBackground","I18nextProvider","i18n","ModalProvider","InstanceDrawerContext","useInstanceDrawer","answer","useContext","Error","InstanceDrawerContextProvider","initialTab","initialInstance","initialNoInstances","defaultTab","useState","setInstanceDrawerInstance","setNoInstances","Provider","openInstanceDrawer","InstanceDrawerTab"],"sourceRoot":""}