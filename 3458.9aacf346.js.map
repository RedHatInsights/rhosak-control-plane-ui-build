{"version":3,"file":"3458.9aacf346.js","mappings":"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","sources":["webpack://kas-ui/./node_modules/@patternfly/react-icons/dist/js/icons/check-circle-icon.js","webpack://kas-ui/./node_modules/@patternfly/react-icons/dist/js/icons/filter-icon.js","webpack://kas-ui/./node_modules/@patternfly/react-icons/dist/js/icons/pending-icon.js","webpack://kas-ui/./node_modules/dayjs/plugin/localizedFormat.js","webpack://kas-ui/./src/app/modules/OpenshiftStreams/dialogs/DeleteInstance/DeleteInstance.tsx","webpack://kas-ui/./src/app/modules/OpenshiftStreams/dialogs/DeleteInstance/DeleteInstanceConnected.tsx"],"sourcesContent":["\"use strict\"\nexports.__esModule = true;\nexports.CheckCircleIconConfig = {\n  name: 'CheckCircleIcon',\n  height: 512,\n  width: 512,\n  svgPath: 'M504 256c0 136.967-111.033 248-248 248S8 392.967 8 256 119.033 8 256 8s248 111.033 248 248zM227.314 387.314l184-184c6.248-6.248 6.248-16.379 0-22.627l-22.627-22.627c-6.248-6.249-16.379-6.249-22.628 0L216 308.118l-70.059-70.059c-6.248-6.248-16.379-6.248-22.628 0l-22.627 22.627c-6.248 6.248-6.248 16.379 0 22.627l104 104c6.249 6.249 16.379 6.249 22.628.001z',\n  yOffset: 0,\n  xOffset: 0,\n};\nexports.CheckCircleIcon = require('../createIcon').createIcon(exports.CheckCircleIconConfig);\nexports[\"default\"] = exports.CheckCircleIcon;","\"use strict\"\nexports.__esModule = true;\nexports.FilterIconConfig = {\n  name: 'FilterIcon',\n  height: 512,\n  width: 512,\n  svgPath: 'M487.976 0H24.028C2.71 0-8.047 25.866 7.058 40.971L192 225.941V432c0 7.831 3.821 15.17 10.237 19.662l80 55.98C298.02 518.69 320 507.493 320 487.98V225.941l184.947-184.97C520.021 25.896 509.338 0 487.976 0z',\n  yOffset: 0,\n  xOffset: 0,\n};\nexports.FilterIcon = require('../createIcon').createIcon(exports.FilterIconConfig);\nexports[\"default\"] = exports.FilterIcon;","\"use strict\"\nexports.__esModule = true;\nexports.PendingIconConfig = {\n  name: 'PendingIcon',\n  height: 1024,\n  width: 1024,\n  svgPath: 'M512.1,895.9 C300.3,895.9 128.1,723.8 128.1,511.9 C128.1,300.2 300.3,127.9 512.1,127.9 C723.8,127.9 896,300.2 896.1,511.9 C896.1,723.7 723.8,895.9 512.1,895.9 M512.1,0 C229.7,0 0,229.7 0,512 C0,794.3 229.7,1024 512.1,1024 C794.3,1024 1024,794.3 1024,512 C1024,229.7 794.3,0 512.1,0 M704,288 L704,272 C704,263.2 696.8,256 688,256 L336,256 C327.2,256 320,263.2 320,272 L320,288 C320,447 480,449 480,512 C480,575 320,575 320,736 L320,752 C320,760.8 327.2,768 336,768 L688,768 C696.8,768 704,760.8 704,752 L704,736 C704,576 544,577 544,512 C544,447 704,448 704,288 M603.9,704 L420.3,704 C417.3,704 418.2,695 419.4,686.8 C426.8,634.5 480.1,617.4 495.2,612.3 C512.3,606.6 512.3,606.6 528.9,612.3 C544,617.6 597.6,635.4 604.8,687 C605.9,695.2 606.9,704 603.9,704',\n  yOffset: 0,\n  xOffset: 0,\n};\nexports.PendingIcon = require('../createIcon').createIcon(exports.PendingIconConfig);\nexports[\"default\"] = exports.PendingIcon;","!function(e,t){\"object\"==typeof exports&&\"undefined\"!=typeof module?module.exports=t():\"function\"==typeof define&&define.amd?define(t):(e=\"undefined\"!=typeof globalThis?globalThis:e||self).dayjs_plugin_localizedFormat=t()}(this,(function(){\"use strict\";var e={LTS:\"h:mm:ss A\",LT:\"h:mm A\",L:\"MM/DD/YYYY\",LL:\"MMMM D, YYYY\",LLL:\"MMMM D, YYYY h:mm A\",LLLL:\"dddd, MMMM D, YYYY h:mm A\"};return function(t,o,n){var r=o.prototype,i=r.format;n.en.formats=e,r.format=function(t){void 0===t&&(t=\"YYYY-MM-DDTHH:mm:ssZ\");var o=this.$locale().formats,n=function(t,o){return t.replace(/(\\[[^\\]]+])|(LTS?|l{1,4}|L{1,4})/g,(function(t,n,r){var i=r&&r.toUpperCase();return n||o[r]||e[r]||o[i].replace(/(\\[[^\\]]+])|(MMMM|MM|DD|dddd)/g,(function(e,t,o){return t||o.slice(1)}))}))}(t,void 0===o?{}:o);return i.call(this,n)}}}));","import React, { useState } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport {\n  CancelButtonProps,\n  ConfirmButtonProps,\n  DeleteModal,\n  NestedTextProps,\n  useRootModalContext,\n} from '@app/common';\nimport { InstanceStatus } from '@app/utils';\nimport { KafkaRequest } from '@rhoas/kafka-management-sdk';\n\nexport const DeleteInstance: React.FunctionComponent = () => {\n  const { store, hideModal } = useRootModalContext();\n  const props = { ...store?.modalProps, hideModal };\n\n  return <DeleteInstanceModal {...props} />;\n};\n\nexport type DeleteInstanceModalProps = {\n  title: string;\n  confirmButtonProps: ConfirmButtonProps<KafkaRequest>;\n  cancelButtonProps: CancelButtonProps;\n  textProps: NestedTextProps;\n  instanceStatus: InstanceStatus;\n  selectedItemData: KafkaRequest;\n  onClose?: () => void;\n  hideModal: () => void;\n};\n\nexport const DeleteInstanceModal: React.FunctionComponent<DeleteInstanceModalProps> =\n  ({\n    title,\n    confirmButtonProps,\n    cancelButtonProps,\n    textProps,\n    instanceStatus,\n    selectedItemData,\n    onClose,\n    hideModal,\n  }) => {\n    const { t } = useTranslation();\n    const selectedInstanceName = selectedItemData?.name;\n\n    const [instanceNameInput, setInstanceNameInput] = useState<string>();\n\n    const handleInstanceName = (value: string) => {\n      setInstanceNameInput(value);\n    };\n\n    const isConfirmButtonDisabled = () => {\n      if (instanceStatus === InstanceStatus.READY) {\n        if (\n          instanceNameInput?.toLowerCase() ===\n          selectedInstanceName?.toLowerCase()\n        ) {\n          return false;\n        }\n        return true;\n      }\n      return false;\n    };\n\n    const onKeyPress = (event) => {\n      if (event.key === 'Enter' && !isConfirmButtonDisabled()) {\n        confirmButtonProps?.onClick &&\n          confirmButtonProps.onClick(selectedItemData);\n      }\n    };\n\n    const handleToggle = () => {\n      setInstanceNameInput('');\n      hideModal();\n      onClose && onClose();\n    };\n\n    return (\n      <DeleteModal\n        isModalOpen={true}\n        title={title}\n        confirmButtonProps={{\n          isDisabled: isConfirmButtonDisabled(),\n          'data-testid': 'modalDeleteKafka-buttonDelete',\n          ...confirmButtonProps,\n        }}\n        cancelButtonProps={cancelButtonProps}\n        handleModalToggle={handleToggle}\n        textProps={textProps}\n        selectedItemData={selectedItemData}\n        textInputProps={{\n          showTextInput: instanceStatus === InstanceStatus.READY,\n          label: t('instance_name_label', { name: selectedInstanceName }),\n          value: instanceNameInput,\n          onChange: handleInstanceName,\n          onKeyPress,\n          autoFocus: true,\n        }}\n      />\n    );\n  };\n\nexport default DeleteInstance;\n","import React, { useState } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { AlertVariant } from '@patternfly/react-core';\nimport { useAuth, useConfig, useAlert } from '@rhoas/app-services-ui-shared';\nimport { getDeleteInstanceModalConfig } from '@app/modules/OpenshiftStreams/components';\nimport { useRootModalContext } from '@app/common';\nimport { Configuration, DefaultApi } from '@rhoas/kafka-management-sdk';\nimport { DeleteInstanceModal } from './DeleteInstance';\nimport { isServiceApiError } from '@app/utils';\n\nconst DeleteInstanceConnected: React.FunctionComponent = () => {\n  const { addAlert } = useAlert() || {};\n  const { t } = useTranslation();\n  const auth = useAuth();\n  const { kas } = useConfig() || {};\n  const { apiBasePath: basePath } = kas || {};\n\n  const { store, hideModal } = useRootModalContext();\n  const {\n    selectedItemData: instanceDetail,\n    setIsOpenDeleteInstanceModal,\n    onDeleteInstance,\n  } = store?.modalProps || {};\n  const { status, name, id } = instanceDetail || {};\n  const [isLoading, setIsLoading] = useState<boolean>(false);\n\n  const { title, confirmActionLabel, description } =\n    getDeleteInstanceModalConfig(t, status, name);\n\n  const closeModal = () => {\n    setIsOpenDeleteInstanceModal && setIsOpenDeleteInstanceModal(false);\n  };\n\n  const deleteInstance = async () => {\n    const accessToken = await auth?.kas.getToken();\n    if (accessToken && id) {\n      try {\n        setIsLoading(true);\n        const apisService = new DefaultApi(\n          new Configuration({\n            accessToken,\n            basePath,\n          })\n        );\n        await apisService.deleteKafkaById(id, true).then(() => {\n          setIsLoading(false);\n        });\n        closeModal();\n        onDeleteInstance && onDeleteInstance();\n      } catch (error) {\n        setIsLoading(false);\n        handleServerError(error);\n      }\n    }\n  };\n\n  const handleServerError = (error: unknown) => {\n    let reason: string | undefined;\n    if (isServiceApiError(error)) {\n      reason = error.response?.data.reason;\n    }\n    addAlert &&\n      addAlert({\n        title: t('something_went_wrong'),\n        variant: AlertVariant.danger,\n        description: reason,\n      });\n  };\n\n  return (\n    <DeleteInstanceModal\n      {...store?.modalProps}\n      hideModal={hideModal}\n      title={title}\n      confirmButtonProps={{\n        onClick: deleteInstance,\n        label: confirmActionLabel,\n        isLoading,\n      }}\n      textProps={{\n        description,\n      }}\n      onClose={closeModal}\n      instanceStatus={status}\n    />\n  );\n};\n\nexport { DeleteInstanceConnected };\nexport default DeleteInstanceConnected;\n"],"names":["exports","name","height","width","svgPath","yOffset","xOffset","module","e","LTS","LT","L","LL","LLL","LLLL","t","o","n","r","prototype","i","format","en","formats","this","$locale","replace","toUpperCase","slice","call","DeleteInstance","store","hideModal","props","modalProps","DeleteInstanceModal","title","confirmButtonProps","cancelButtonProps","textProps","instanceStatus","selectedItemData","onClose","useTranslation","selectedInstanceName","useState","instanceNameInput","setInstanceNameInput","isConfirmButtonDisabled","toLowerCase","isModalOpen","isDisabled","handleModalToggle","textInputProps","showTextInput","label","value","onChange","onKeyPress","event","key","onClick","autoFocus","DeleteInstanceConnected","addAlert","useAlert","auth","useAuth","basePath","useConfig","instanceDetail","setIsOpenDeleteInstanceModal","onDeleteInstance","status","id","isLoading","setIsLoading","confirmActionLabel","description","closeModal","handleServerError","error","reason","response","data","variant","AlertVariant","kas","getToken","accessToken","DefaultApi","Configuration","deleteKafkaById","then"],"sourceRoot":""}