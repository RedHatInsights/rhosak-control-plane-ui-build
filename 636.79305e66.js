(self.webpackChunkkas_ui=self.webpackChunkkas_ui||[]).push([[636],{86435:(e,t,n)=>{"use strict";n.d(t,{I:()=>m});var a=n(70655),c=n(48121),r=n.n(c),i=n(76007),o=n(38936),s=n(58788),u=n(75381),l=n(45024),d=n(86150),v=n(26992),_=n(46748),g=n(5569),m=function(){var e=(0,o.useTranslation)().t,t=(0,_.useAlert)().addAlert,n=(0,l.QK)().showModal,m=(0,i.useLocation)(),p=new URLSearchParams(m.search),S=parseInt(p.get("page")||"",10)||1,E=parseInt(p.get("perPage")||"",10)||10,f=p.has("user-testing"),h=(0,_.useAuth)(),P=(0,_.useConfig)().kas.apiBasePath,A=(0,c.useState)(),y=(A[0],A[1]),C=(0,c.useState)(),T=C[0],k=C[1],I=(0,c.useState)(!1),R=I[0],b=I[1],w=(0,c.useState)("name asc"),N=w[0],V=w[1],U=(0,c.useState)("name"),x=U[0],D=U[1],L=(0,c.useState)([]),B=L[0],F=L[1],O=(0,c.useState)(!1),M=O[0],z=O[1],Z=function(){return(0,a.__awaiter)(void 0,void 0,void 0,(function(){var n;return(0,a.__generator)(this,(function(a){switch(a.label){case 0:return[4,null==h?void 0:h.kas.getToken()];case 1:if(!(n=a.sent()))return[3,5];a.label=2;case 2:return a.trys.push([2,4,,5]),[4,new d.SecurityApi(new d.Configuration({accessToken:n,basePath:P})).getServiceAccounts().then((function(e){var t=null==e?void 0:e.data,n=(null==t?void 0:t.items)||[],a=null==n?void 0:n.length;y(t);var c=(0,u.E7)(n,"name","asc");k(c),z(!a||a<1)}))];case 3:return a.sent(),[3,5];case 4:return function(n){var a,c,r,i,o;(0,u.G6)(n)&&(i=null===(a=n.response)||void 0===a?void 0:a.data.reason,o=null===(r=null===(c=n.response)||void 0===c?void 0:c.data)||void 0===r?void 0:r.code),o===u.SM.UNAUTHORIZED_USER?b(!0):t({variant:s.AlertVariant.danger,title:e("common.something_went_wrong"),description:i})}(a.sent()),[3,5];case 5:return[2]}}))}))};(0,c.useEffect)((function(){Z()}),[]);var j=function(e){n(l.Ny.RESET_CREDENTIALS,{serviceAccountToReset:e})},G=function(){n(l.Ny.CREATE_SERVICE_ACCOUNT,{fetchServiceAccounts:Z})},H=function(e){n(l.Ny.DELETE_SERVICE_ACCOUNT,{serviceAccountToDelete:e,fetchServiceAccounts:Z})};return R?r().createElement(s.PageSection,{variant:s.PageSectionVariants.default,padding:{default:"noPadding"},isFilled:!0},r().createElement(l.C0,{titleProps:{title:e("serviceAccount.unauthorized_access_to_service_accounts_title"),headingLevel:"h2"},emptyStateIconProps:{icon:g.ZP},emptyStateBodyProps:{body:e("serviceAccount.unauthorized_access_to_service_accounts_info")}})):r().createElement(r().Fragment,null,r().createElement(s.PageSection,{variant:s.PageSectionVariants.light},r().createElement(s.TextContent,null,r().createElement(s.Text,{component:"h1"}," ",e("serviceAccount.service_accounts")),r().createElement(s.Text,{component:"p"},e("serviceAccount.service_accounts_title_header_info")))),function(){var t;return void 0===T?r().createElement(s.PageSection,{variant:s.PageSectionVariants.light,padding:{default:"noPadding"}},r().createElement(l.yR,null)):M?r().createElement(s.PageSection,{padding:{default:"noPadding"},isFilled:!0},r().createElement(l.C0,{emptyStateProps:{variant:l.jU.NoItems},titleProps:{title:e("serviceAccount.you_do_not_have_any_service_accounts_yet")},emptyStateBodyProps:{body:e("serviceAccount.create_service_account_to_get_started")},buttonProps:(t={title:e("serviceAccount.create_service_account"),onClick:G},t["data-testid"]="emptyStateStreams-buttonCreateServiceAccount",t)})):r().createElement(s.PageSection,{className:"mk--main-page__page-section--table pf-m-padding-on-xl",variant:s.PageSectionVariants.default,padding:{default:"noPadding"}},r().createElement(s.Card,null,r().createElement(v.s,{page:S,perPage:E,total:1,expectedTotal:0,serviceAccountsDataLoaded:!0,serviceAccountItems:T,orderBy:N,setOrderBy:V,filterSelected:x,setFilterSelected:D,filteredValue:B,setFilteredValue:F,onResetCredentials:j,onDeleteServiceAccount:H,handleCreateModal:G,mainToggle:f})))}())}},44947:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>u});var a=n(48121),c=n.n(a),r=n(38936),i=n(86435),o=n(45024),s=n(78800);const u=function(){return c().createElement(r.I18nextProvider,{i18n:(0,s.Y)()},c().createElement(o.OU,null,c().createElement(i.I,null)))}}}]);
//# sourceMappingURL=636.79305e66.js.map