{"version":3,"file":"9546.dc7e159b.js","mappings":"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","sources":["webpack://kas-ui/./node_modules/@patternfly/react-icons/dist/js/icons/check-circle-icon.js","webpack://kas-ui/./node_modules/@patternfly/react-icons/dist/js/icons/filter-icon.js","webpack://kas-ui/./node_modules/@patternfly/react-icons/dist/js/icons/pending-icon.js","webpack://kas-ui/./src/app/contexts/federated.ts","webpack://kas-ui/./src/app/modules/InstanceDrawer/InstanceDrawerContent.tsx","webpack://kas-ui/./src/app/modules/InstanceDrawer/InstanceDrawer.tsx","webpack://kas-ui/./src/app/modules/InstanceDrawer/contexts/InstanceDrawerContext.tsx","webpack://kas-ui/./src/app/modules/OpenshiftStreams/OpenshiftStreamsFederated.tsx"],"sourcesContent":["\"use strict\"\nexports.__esModule = true;\nexports.CheckCircleIconConfig = {\n  name: 'CheckCircleIcon',\n  height: 512,\n  width: 512,\n  svgPath: 'M504 256c0 136.967-111.033 248-248 248S8 392.967 8 256 119.033 8 256 8s248 111.033 248 248zM227.314 387.314l184-184c6.248-6.248 6.248-16.379 0-22.627l-22.627-22.627c-6.248-6.249-16.379-6.249-22.628 0L216 308.118l-70.059-70.059c-6.248-6.248-16.379-6.248-22.628 0l-22.627 22.627c-6.248 6.248-6.248 16.379 0 22.627l104 104c6.249 6.249 16.379 6.249 22.628.001z',\n  yOffset: 0,\n  xOffset: 0,\n};\nexports.CheckCircleIcon = require('../createIcon').createIcon(exports.CheckCircleIconConfig);\nexports[\"default\"] = exports.CheckCircleIcon;","\"use strict\"\nexports.__esModule = true;\nexports.FilterIconConfig = {\n  name: 'FilterIcon',\n  height: 512,\n  width: 512,\n  svgPath: 'M487.976 0H24.028C2.71 0-8.047 25.866 7.058 40.971L192 225.941V432c0 7.831 3.821 15.17 10.237 19.662l80 55.98C298.02 518.69 320 507.493 320 487.98V225.941l184.947-184.97C520.021 25.896 509.338 0 487.976 0z',\n  yOffset: 0,\n  xOffset: 0,\n};\nexports.FilterIcon = require('../createIcon').createIcon(exports.FilterIconConfig);\nexports[\"default\"] = exports.FilterIcon;","\"use strict\"\nexports.__esModule = true;\nexports.PendingIconConfig = {\n  name: 'PendingIcon',\n  height: 1024,\n  width: 1024,\n  svgPath: 'M512.1,895.9 C300.3,895.9 128.1,723.8 128.1,511.9 C128.1,300.2 300.3,127.9 512.1,127.9 C723.8,127.9 896,300.2 896.1,511.9 C896.1,723.7 723.8,895.9 512.1,895.9 M512.1,0 C229.7,0 0,229.7 0,512 C0,794.3 229.7,1024 512.1,1024 C794.3,1024 1024,794.3 1024,512 C1024,229.7 794.3,0 512.1,0 M704,288 L704,272 C704,263.2 696.8,256 688,256 L336,256 C327.2,256 320,263.2 320,272 L320,288 C320,447 480,449 480,512 C480,575 320,575 320,736 L320,752 C320,760.8 327.2,768 336,768 L688,768 C696.8,768 704,760.8 704,752 L704,736 C704,576 544,577 544,512 C544,447 704,448 704,288 M603.9,704 L420.3,704 C417.3,704 418.2,695 419.4,686.8 C426.8,634.5 480.1,617.4 495.2,612.3 C512.3,606.6 512.3,606.6 528.9,612.3 C544,617.6 597.6,635.4 604.8,687 C605.9,695.2 606.9,704 603.9,704',\n  yOffset: 0,\n  xOffset: 0,\n};\nexports.PendingIcon = require('../createIcon').createIcon(exports.PendingIconConfig);\nexports[\"default\"] = exports.PendingIcon;","import { createContext, useContext } from \"react\";\nimport { Principal } from \"@rhoas/app-services-ui-shared\";\n\nexport type FederatedProps = {\n  preCreateInstance?: (isOpen: boolean) => Promise<boolean>;\n  shouldOpenCreateModal: () => Promise<boolean>;\n  getAllUserAccounts?: () => Principal[];\n};\n\nexport const FederatedContext = createContext<FederatedProps | undefined>(\n  undefined\n);\nexport const useFederated = (): FederatedProps | undefined =>\n  useContext(FederatedContext);\n","import { FunctionComponent, lazy, Suspense } from \"react\";\nimport { useTranslation } from \"react-i18next\";\nimport { addHours, parseISO } from \"date-fns\";\nimport { InstanceStatus } from \"@app/utils\";\nimport { MASLoading } from \"@app/common\";\nimport { Tab, Tabs, TabTitleText } from \"@patternfly/react-core\";\nimport { InstanceDrawerTab } from \"@app/modules/InstanceDrawer/tabs\";\nimport { KafkaDetailsTab } from \"@rhoas/app-services-ui-components\";\nimport { InstanceDrawerContextProps } from \"@app/modules/InstanceDrawer/contexts/InstanceDrawerContext\";\n\nexport const ResourcesTab = lazy(() => import(\"./ConnectionTab\"));\n\nexport type InstanceDrawerContentProps = {\n  instance: NonNullable<InstanceDrawerContextProps[\"drawerInstance\"]>;\n  activeTab: InstanceDrawerTab;\n  setActiveTab: (tab: InstanceDrawerTab) => void;\n  tokenEndPointUrl: string;\n};\n\nexport const InstanceDrawerContent: FunctionComponent<\n  InstanceDrawerContentProps\n> = ({ instance, activeTab, setActiveTab, tokenEndPointUrl }) => {\n  const { t } = useTranslation([\"kasTemporaryFixMe\"]);\n\n  const getExternalServer = () => {\n    const { bootstrap_server_host } = instance;\n    return bootstrap_server_host?.endsWith(\":443\")\n      ? bootstrap_server_host\n      : `${bootstrap_server_host}:443`;\n  };\n\n  const isKafkaPending =\n    instance.status === InstanceStatus.ACCEPTED ||\n    instance.status === InstanceStatus.PREPARING;\n\n  return (\n    <Suspense fallback={<MASLoading />}>\n      <Tabs\n        activeKey={activeTab}\n        onSelect={(_, tab) => setActiveTab(tab as InstanceDrawerTab)}\n      >\n        <Tab\n          eventKey={InstanceDrawerTab.DETAILS}\n          title={<TabTitleText>{t(\"details\")}</TabTitleText>}\n        >\n          <KafkaDetailsTab\n            id={instance.id}\n            owner={instance.owner}\n            createdAt={parseISO(instance.created_at)}\n            updatedAt={parseISO(instance.updated_at)}\n            expiryDate={addHours(parseISO(instance.created_at), 48)}\n            size={instance.size.display_name}\n            ingress={\n              (instance.size.ingress_throughput_per_sec.bytes || 0) / 1048576\n            }\n            egress={\n              (instance.size.egress_throughput_per_sec.bytes || 0) / 1048576\n            }\n            storage={Math.round(\n              (instance.size.max_data_retention_size.bytes || 0) / 1073741824\n            )}\n            maxPartitions={instance.size.max_partitions}\n            connections={instance.size.total_max_connections}\n            connectionRate={instance.size.max_connection_attempts_per_sec}\n            messageSize={(instance.size.max_message_size.bytes || 0) / 1048576}\n            region={t(instance.region)}\n            instanceType={\n              instance.instance_type === \"standard\" ? \"standard\" : \"eval\"\n            }\n            isLoadingSize={false}\n          />\n        </Tab>\n        <Tab\n          eventKey={InstanceDrawerTab.CONNECTION.toString()}\n          title={<TabTitleText>{t(\"connection\")}</TabTitleText>}\n          data-testid=\"drawerStreams-tabConnect\"\n        >\n          <ResourcesTab\n            externalServer={getExternalServer()}\n            isKafkaPending={isKafkaPending}\n            tokenEndPointUrl={tokenEndPointUrl}\n            instanceId={instance.id}\n          />\n        </Tab>\n      </Tabs>\n    </Suspense>\n  );\n};\n","import { FunctionComponent } from \"react\";\nimport { useTranslation } from \"react-i18next\";\nimport { InstanceDrawerContent } from \"@app/modules/InstanceDrawer/InstanceDrawerContent\";\n\nimport \"./InstanceDrawer.css\";\nimport { MASDrawer } from \"@app/common\";\nimport { InstanceDrawerTab } from \"@app/modules/InstanceDrawer/tabs\";\nimport { InstanceDrawerContextProps } from \"@app/modules/InstanceDrawer/contexts/InstanceDrawerContext\";\n\nexport type InstanceDrawerProps = {\n  \"data-ouia-app-id\": string;\n} & InstanceDrawerContextProps;\n\nexport const InstanceDrawer: FunctionComponent<InstanceDrawerProps> = ({\n  \"data-ouia-app-id\": dataOuiaAppId,\n  isDrawerOpen,\n  drawerInstance,\n  setDrawerActiveTab,\n  drawerActiveTab,\n  closeDrawer,\n  tokenEndPointUrl,\n  children,\n}) => {\n  const { t } = useTranslation([\"kasTemporaryFixMe\"]);\n\n  return (\n    <MASDrawer\n      isExpanded={isDrawerOpen}\n      isLoading={drawerInstance === undefined}\n      onClose={closeDrawer}\n      panelBodyContent={\n        drawerInstance && (\n          <InstanceDrawerContent\n            tokenEndPointUrl={tokenEndPointUrl}\n            activeTab={drawerActiveTab || InstanceDrawerTab.DETAILS}\n            instance={drawerInstance}\n            setActiveTab={setDrawerActiveTab}\n          />\n        )\n      }\n      drawerHeaderProps={{\n        text: { label: t(\"instance_name\") },\n        title: { value: drawerInstance?.name, headingLevel: \"h1\" },\n      }}\n      data-ouia-app-id={dataOuiaAppId}\n      notRequiredDrawerContentBackground={drawerInstance === undefined}\n    >\n      {children}\n    </MASDrawer>\n  );\n};\n","import { FunctionComponent, createContext, useContext } from \"react\";\nimport { InstanceDrawerTab } from \"@app/modules/InstanceDrawer/tabs\";\nimport { KafkaRequest } from \"@rhoas/kafka-management-sdk\";\nimport { SupportedKafkaSize } from \"@rhoas/kafka-management-sdk/dist/generated/model/supported-kafka-size\";\n\nexport type InstanceDrawerContextProps = {\n  isDrawerOpen: boolean;\n  drawerInstance:\n    | Required<KafkaRequest & { size: Required<SupportedKafkaSize> }>\n    | undefined;\n  setDrawerInstance: (id: string) => void;\n  drawerActiveTab: InstanceDrawerTab | undefined;\n  setDrawerActiveTab: (tab: InstanceDrawerTab) => void;\n  openDrawer: (tab?: InstanceDrawerTab) => void;\n  closeDrawer: () => void;\n  tokenEndPointUrl: string;\n};\n\nexport const InstanceDrawerContext = createContext<\n  InstanceDrawerContextProps | undefined\n>(undefined);\n\nexport const useInstanceDrawer = (): InstanceDrawerContextProps => {\n  const answer = useContext(InstanceDrawerContext);\n  if (answer === undefined) {\n    throw new Error(\"must be used inside a InstanceDrawerContext provider\");\n  }\n  return answer;\n};\n\nexport const InstanceDrawerContextProvider: FunctionComponent<\n  InstanceDrawerContextProps\n> = ({ children, ...props }) => {\n  return (\n    <InstanceDrawerContext.Provider value={props}>\n      {children}\n    </InstanceDrawerContext.Provider>\n  );\n};\n","import { FunctionComponent } from \"react\";\nimport { PaginationProvider } from \"@app/common\";\nimport { FederatedContext, FederatedProps } from \"@app/contexts\";\nimport { ModalProvider } from \"@rhoas/app-services-ui-components\";\nimport { KasModalLoader } from \"@app/modals\";\nimport { KasLayout } from \"@app/modules/OpenshiftStreams/components\";\nimport {\n  StreamsTableConnected,\n  StreamsTableProps,\n} from \"@app/modules/OpenshiftStreams/components/StreamsTableConnected\";\nimport { InstanceDrawer } from \"@app/modules/InstanceDrawer\";\nimport {\n  InstanceDrawerContextProps,\n  InstanceDrawerContextProvider,\n} from \"@app/modules/InstanceDrawer/contexts/InstanceDrawerContext\";\n// Version of OpenshiftStreams for federation\ntype OpenshiftStreamsFederatedProps = StreamsTableProps &\n  InstanceDrawerContextProps &\n  FederatedProps;\n\nconst OpenshiftStreamsFederated: FunctionComponent<\n  OpenshiftStreamsFederatedProps\n> = ({\n  preCreateInstance,\n  shouldOpenCreateModal,\n  getAllUserAccounts,\n  ...drawerProps\n}) => {\n  return (\n    <FederatedContext.Provider\n      value={{\n        preCreateInstance,\n        shouldOpenCreateModal,\n        getAllUserAccounts,\n      }}\n    >\n      <ModalProvider>\n        <PaginationProvider>\n          <InstanceDrawerContextProvider {...drawerProps}>\n            <InstanceDrawer\n              data-ouia-app-id=\"dataPlane-streams\"\n              {...drawerProps}\n            >\n              <KasLayout data-ouia-app-id={\"TODO\"}>\n                <StreamsTableConnected preCreateInstance={preCreateInstance} />\n              </KasLayout>\n            </InstanceDrawer>\n          </InstanceDrawerContextProvider>\n        </PaginationProvider>\n        <KasModalLoader />\n      </ModalProvider>\n    </FederatedContext.Provider>\n  );\n};\n\nexport default OpenshiftStreamsFederated;\n"],"names":["exports","name","height","width","svgPath","yOffset","xOffset","FederatedContext","createContext","undefined","useFederated","useContext","ResourcesTab","lazy","InstanceDrawerContent","instance","activeTab","setActiveTab","tokenEndPointUrl","t","useTranslation","isKafkaPending","status","Suspense","fallback","Tabs","activeKey","onSelect","_","tab","Tab","eventKey","title","TabTitleText","KafkaDetailsTab","id","owner","createdAt","parseISO","created_at","updatedAt","updated_at","expiryDate","addHours","size","display_name","ingress","ingress_throughput_per_sec","bytes","egress","egress_throughput_per_sec","storage","Math","round","max_data_retention_size","maxPartitions","max_partitions","connections","total_max_connections","connectionRate","max_connection_attempts_per_sec","messageSize","max_message_size","region","instanceType","instance_type","isLoadingSize","externalServer","bootstrap_server_host","endsWith","getExternalServer","instanceId","InstanceDrawer","dataOuiaAppId","isDrawerOpen","drawerInstance","setDrawerActiveTab","drawerActiveTab","closeDrawer","children","isExpanded","isLoading","onClose","panelBodyContent","drawerHeaderProps","text","label","value","headingLevel","notRequiredDrawerContentBackground","InstanceDrawerContext","useInstanceDrawer","answer","Error","InstanceDrawerContextProvider","props","Provider","preCreateInstance","shouldOpenCreateModal","getAllUserAccounts","drawerProps","ModalProvider","StreamsTableConnected"],"sourceRoot":""}