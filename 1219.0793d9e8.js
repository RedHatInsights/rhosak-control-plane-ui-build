/*! For license information please see 1219.0793d9e8.js.LICENSE.txt */
"use strict";(self.webpackChunkkas_ui=self.webpackChunkkas_ui||[]).push([[1219,5183,655,1230,5512,7066],{35183:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.createIcon=t.getSize=t.IconSize=void 0;const i=n(70655),a=i.__importStar(n(75418));var r;!function(e){e.sm="sm",e.md="md",e.lg="lg",e.xl="xl"}(r=t.IconSize||(t.IconSize={}));t.getSize=e=>{switch(e){case r.sm:return"1em";case r.md:return"1.5em";case r.lg:return"2em";case r.xl:return"3em";default:return"1em"}};let o=0;t.createIcon=function({name:e,xOffset:n=0,yOffset:s=0,width:c,height:l,svgPath:u}){var d;return d=class extends a.Component{constructor(){super(...arguments),this.id="icon-title-"+o++}render(){const e=this.props,{size:r,color:o,title:d,noVerticalAlign:h}=e,p=i.__rest(e,["size","color","title","noVerticalAlign"]),f=Boolean(d),m=t.getSize(r),g=-.125*Number.parseFloat(m),v=h?null:{verticalAlign:`${g}em`},y=[n,s,c,l].join(" ");return a.createElement("svg",Object.assign({style:v,fill:o,height:m,width:m,viewBox:y,"aria-labelledby":f?this.id:null,"aria-hidden":!f||null,role:"img"},p),f&&a.createElement("title",{id:this.id},d),a.createElement("path",{d:u}))}},d.displayName=e,d.defaultProps={color:"currentColor",size:r.sm,noVerticalAlign:!1},d}},8755:(e,t,n)=>{t._t={name:"FilterIcon",height:512,width:512,svgPath:"M487.976 0H24.028C2.71 0-8.047 25.866 7.058 40.971L192 225.941V432c0 7.831 3.821 15.17 10.237 19.662l80 55.98C298.02 518.69 320 507.493 320 487.98V225.941l184.947-184.97C520.021 25.896 509.338 0 487.976 0z",yOffset:0,xOffset:0},t.k1=n(35183).createIcon(t._t),t.ZP=t.k1},55795:(e,t,n)=>{t.sN={name:"OutlinedQuestionCircleIcon",height:512,width:512,svgPath:"M256 8C119.043 8 8 119.083 8 256c0 136.997 111.043 248 248 248s248-111.003 248-248C504 119.083 392.957 8 256 8zm0 448c-110.532 0-200-89.431-200-200 0-110.495 89.472-200 200-200 110.491 0 200 89.471 200 200 0 110.53-89.431 200-200 200zm107.244-255.2c0 67.052-72.421 68.084-72.421 92.863V300c0 6.627-5.373 12-12 12h-45.647c-6.627 0-12-5.373-12-12v-8.659c0-35.745 27.1-50.034 47.579-61.516 17.561-9.845 28.324-16.541 28.324-29.579 0-17.246-21.999-28.693-39.784-28.693-23.189 0-33.894 10.977-48.942 29.969-4.057 5.12-11.46 6.071-16.666 2.124l-27.824-21.098c-5.107-3.872-6.251-11.066-2.644-16.363C184.846 131.491 214.94 112 261.794 112c49.071 0 101.45 38.304 101.45 88.8zM298 368c0 23.159-18.841 42-42 42s-42-18.841-42-42 18.841-42 42-42 42 18.841 42 42z",yOffset:0,xOffset:0},t.iC=n(35183).createIcon(t.sN),t.ZP=t.iC},66095:(e,t,n)=>{t.Wz={name:"SyncIcon",height:512,width:512,svgPath:"M440.65 12.57l4 82.77A247.16 247.16 0 0 0 255.83 8C134.73 8 33.91 94.92 12.29 209.82A12 12 0 0 0 24.09 224h49.05a12 12 0 0 0 11.67-9.26 175.91 175.91 0 0 1 317-56.94l-101.46-4.86a12 12 0 0 0-12.57 12v47.41a12 12 0 0 0 12 12H500a12 12 0 0 0 12-12V12a12 12 0 0 0-12-12h-47.37a12 12 0 0 0-11.98 12.57zM255.83 432a175.61 175.61 0 0 1-146-77.8l101.8 4.87a12 12 0 0 0 12.57-12v-47.4a12 12 0 0 0-12-12H12a12 12 0 0 0-12 12V500a12 12 0 0 0 12 12h47.35a12 12 0 0 0 12-12.6l-4.15-82.57A247.17 247.17 0 0 0 255.83 504c121.11 0 221.93-86.92 243.55-201.82a12 12 0 0 0-11.8-14.18h-49.05a12 12 0 0 0-11.67 9.26A175.86 175.86 0 0 1 255.83 432z",yOffset:0,xOffset:0},t.bn=n(35183).createIcon(t.Wz),t.ZP=t.bn},9914:(e,t)=>{t.VQ={name:"--pf-chart-color-black-500",value:"#6a6e73",var:"var(--pf-chart-color-black-500)"},t.ZP=t.VQ},84076:(e,t)=>{t.iY={name:"--pf-chart-color-blue-300",value:"#06c",var:"var(--pf-chart-color-blue-300)"},t.ZP=t.iY},72021:(e,t)=>{t.R0={name:"--pf-chart-color-green-300",value:"#4cb140",var:"var(--pf-chart-color-green-300)"},t.ZP=t.R0},82874:(e,t)=>{t.g9={name:"--pf-chart-color-orange-300",value:"#ec7a08",var:"var(--pf-chart-color-orange-300)"},t.ZP=t.g9},41219:(e,t,n)=>{n.r(t),n.d(t,{AlertProvider:()=>l,AppServicesAlertToastGroup:()=>s,AppServicesDrawer:()=>u,AppServicesLoading:()=>d,AppServicesPagination:()=>g,AppServicesTable:()=>E,AppServicesToolbar:()=>T,DurationOptions:()=>L,Metrics:()=>Ne,MetricsI18n:()=>w,ModalProvider:()=>f});var i=n(75418),a=n.n(i),r=n(70655),o=n(84669);const s=({alerts:e,onCloseAlert:t})=>a().createElement(o.AlertGroup,{isToast:!0},e.map((e=>{var{id:n,variant:i,title:s,description:c,dataTestId:l}=e,u=(0,r.__rest)(e,["id","variant","title","description","dataTestId"]);return a().createElement(o.Alert,Object.assign({key:n,isLiveRegion:!0,variant:o.AlertVariant[i],variantLabel:"",title:s,actionClose:a().createElement(o.AlertActionCloseButton,{title:s,onClose:()=>t(n)}),"data-testid":l},u),c)})));var c=n(46332);const l=({children:e})=>{const[t,n]=(0,i.useState)([]),[r,o]=(0,i.useState)([]);(0,i.useEffect)((()=>{const e=r.map((e=>e.key)),n=t.filter((t=>!e.includes(null==t?void 0:t.id))).map((e=>{const{id:t=""}=e,n=setTimeout((()=>l(t)),8e3);return{key:e.id,timeOut:n}}));return o([...r,...n]),()=>r.forEach((e=>(null==e?void 0:e.timeOut)&&clearTimeout(e.timeOut)))}),[t]);const l=e=>{n((t=>[...t.filter((t=>t.id!==e))])),o((t=>[...t.filter((t=>t.key===e))]))};return a().createElement(c.AlertContext.Provider,{value:{addAlert:e=>{const i=(new Date).getTime().toString();n([...t,Object.assign(Object.assign({},e),{id:i})])}}},a().createElement(s,{alerts:t,onCloseAlert:l}),e)},u=({onClose:e,isLoading:t=!1,drawerPanelContentProps:n,drawerHeaderProps:i,isExpanded:s,children:c,panelBodyContent:l,onExpand:u,notRequiredDrawerContentBackground:h,"data-ouia-app-id":p,inlineAlertMessage:f})=>{const m=n||{},{widths:g}=m,v=(0,r.__rest)(m,["widths"]),{text:y,title:_}=i||{},b=a().createElement(o.DrawerPanelContent,Object.assign({widths:g||{default:"width_50"}},v),t?a().createElement(d,null):a().createElement(a().Fragment,null,a().createElement(o.DrawerHead,null,a().createElement(o.TextContent,null,(null==y?void 0:y.label)&&a().createElement(o.Text,{component:(null==y?void 0:y.component)||o.TextVariants.small,className:(null==y?void 0:y.className)||"kafka-ui-appServices-drawer__top-label"},null==y?void 0:y.label),(null==_?void 0:_.value)&&a().createElement(o.Title,{headingLevel:(null==_?void 0:_.headingLevel)||"h2",size:(null==_?void 0:_.size)||o.TitleSizes.xl,className:(null==_?void 0:_.className)||"kafka-ui-appServices-drawer__title"},null==_?void 0:_.value)),a().createElement(o.DrawerActions,null,a().createElement(o.DrawerCloseButton,{onClick:e}))),a().createElement(o.DrawerPanelBody,null,f,l)));return a().createElement(o.Drawer,{isExpanded:s,onExpand:u,"data-ouia-app-id":p},a().createElement(o.DrawerContent,{panelContent:b,className:h?"pf-m-no-background":""},a().createElement(o.DrawerContentBody,{className:"kafka-ui-appServices-drawer__drawer-content-body"},c)))},d=({bullseyeProps:e,spinnerProps:t})=>a().createElement(o.Bullseye,Object.assign({},e),a().createElement(o.Spinner,Object.assign({},t))),h=({variant:e,hideModal:t,title:n})=>i.createElement(o.Modal,{id:"fallback-modal",variant:e,isOpen:!0,"aria-label":"fallback modal",showClose:!0,"aria-describedby":"modal-message",onClose:t,title:n,children:i.createElement(d,{bullseyeProps:{className:"pf-u-p-xl"}})}),p=({activeModal:e,hideModal:t,modalRegistry:n})=>{if(void 0===e)return i.createElement(i.Fragment,null);const a=n.current[e.modalType],r=a.lazyComponent;return i.createElement(i.Suspense,{fallback:i.createElement(h,{hideModal:t,variant:a.variant,title:a.title})},i.createElement(r,Object.assign({hideModal:t,title:a.title,variant:a.variant},e.modalProps)))},f=({children:e})=>{const[t,n]=(0,i.useState)(),a=(0,i.useRef)({}),r={registerModals:e=>{a.current=Object.assign(Object.assign({},a),e)},hideModal:()=>{n(void 0)},showModal:(e,t)=>{n({modalType:e,modalProps:t})}};return i.createElement(i.Fragment,null,i.createElement(p,{activeModal:t,hideModal:r.hideModal,modalRegistry:a}),i.createElement(c.ModalContext.Provider,{value:r},e))};var m=n(98068);const g=e=>{var{page:t,perPage:n=10,itemCount:s,variant:c=o.PaginationVariant.top,isCompact:l,titles:u}=e,d=(0,r.__rest)(e,["page","perPage","itemCount","variant","isCompact","titles"]);const h=(0,m.useHistory)(),p=(0,m.useLocation)(),f=new URLSearchParams(p.search),g=(0,i.useCallback)(((e,t)=>{f.set(e,t.toString())}),[f]),v=(0,i.useCallback)(((e,t)=>{g("page",t.toString()),h.push({search:f.toString()})}),[g,h,f]),y=(0,i.useCallback)(((e,t)=>{g("page","1"),g("perPage",t.toString()),h.push({search:f.toString()})}),[g,h,f]);return a().createElement(o.Pagination,Object.assign({itemCount:s,perPage:n,page:t,onSetPage:v,variant:c,onPerPageSelect:y,isCompact:l},d,{titles:u}))};var v=n(27577),y=n(52530);const _=(0,i.createContext)({activeRow:"",onRowClick:()=>"",loggedInUser:""}),b=_.Provider,S=e=>{const{activeRow:t,onRowClick:n,rowDataTestId:o}=(0,i.useContext)(_),s=e||{},{trRef:c,className:l,rowProps:u,row:d}=s,h=(0,r.__rest)(s,["trRef","className","rowProps","row"]),{rowIndex:p}=u||{rowIndex:1},{isExpanded:f,originalData:m}=d||{};return a().createElement("tr",Object.assign({"data-testid":o,tabIndex:0,ref:c,className:(0,y.css)(l,"pf-c-table-row__item",t&&t===(null==m?void 0:m.rowId)&&"pf-m-selected pf-m-selectable"),hidden:void 0!==f&&!f,onClick:e=>n&&n(e,p,d)},h))},E=({tableProps:e,tableHeaderProps:t,tableBodyProps:n,children:i,activeRow:o,onRowClick:s,rowDataTestId:c,loggedInUser:l})=>{const{cells:u,rows:d,actionResolver:h,onSort:p,sortBy:f,"aria-label":m,variant:g,className:_,shouldDefaultCustomRowWrapper:E=!1}=e,T=(0,r.__rest)(e,["cells","rows","actionResolver","onSort","sortBy","aria-label","variant","className","shouldDefaultCustomRowWrapper"]);return a().createElement(b,{value:{activeRow:o,onRowClick:s,rowDataTestId:c,loggedInUser:l}},a().createElement(v.Table,Object.assign({className:(0,y.css)(E&&"appServices--table-view__table",_),cells:u,variant:g,rows:d,"aria-label":m,actionResolver:h,onSort:p,sortBy:f,rowWrapper:E?e=>a().createElement(S,Object.assign({},e)):void 0},T),a().createElement(v.TableHeader,Object.assign({},t)),a().createElement(v.TableBody,Object.assign({},n)),i))},T=({toolbarProps:e,toggleGroupProps:t,toolbarItems:n,toggleGroupItems:i})=>{const{id:s,clearAllFilters:c,collapseListedFiltersBreakpoint:l="md",inset:u}=e,d=(0,r.__rest)(e,["id","clearAllFilters","collapseListedFiltersBreakpoint","inset"]);return a().createElement(a().Fragment,null,a().createElement(o.Toolbar,Object.assign({id:s,clearAllFilters:c,inset:u,collapseListedFiltersBreakpoint:l},d),a().createElement(o.ToolbarContent,null,t&&a().createElement(o.ToolbarToggleGroup,Object.assign({},t),i),null==n?void 0:n.map(((e,t)=>{const{key:n="appServices",variant:i,className:s,id:c,alignment:l,item:u}=e,d=(0,r.__rest)(e,["key","variant","className","id","alignment","item"]);return a().createElement(o.ToolbarItem,Object.assign({key:`${n}-${t}`,variant:i,className:s,id:c,alignment:l},d),u)})))))},w=JSON.parse('{"metrics":{"used_disk_space":"Used disk space","used_disk_space_popover_header":"Used disk space chart","used_disk_space_help_text":"Used disk space is the amount of disk space used by the Kafka broker in the instance. This metric enables you to assess available disk space relative to the limit. To reduce used disk space, you can adjust topic retention time or other topic properties as needed.","client_connections":"Client connections","client_connections_helper_text":"Client connections are the total connections across all clients over time. Clients can make multiple connections to multiple brokers in the Kafka instance. This metric enables you to review client activity in the instance and to assess available connections relative to the limit.","connection_attempt_rate":"Connection attempt rate","connection_attempt_rate_help_text":"Connection attempt rate is the number of attempted client connections per second for the Kafka instance over time. This metric enables you to review client activity spikes in the instance and to assess available connections per second relative to the limit.","connection_attempt_rate_yaxis":"Connections/second","log_size_per_partition":"Log size per partition","log_size_per_partition_help_text":"Topic partition size is the log size for each partition in a selected topic. This metric enables you to assess the amount of data used in one or more topic partitions. To reduce the topic partition size, you can decrease the retention time or the retention size, or modify the cleanup policy as needed. You can also increase the number of partitions for the topic.","incoming_bytes_per_topic":"Incoming bytes per topic","outgoing_bytes_per_topic":"Outgoing bytes per topic","total_bytes":"Total bytes","kafka_instance_metrics":"Kafka instance metrics","topic_partition_size":"Topic partition size","topic_metrics":"Topic metrics","total_bytes_popover_header":"Bytes incoming and outgoing chart","topic_metrics_help_text":"Bytes incoming and outgoing are the total bytes for all topics or total bytes for a selected topic in the Kafka instance. This metric enables you to assess data transfer in and out of your Kafka instance. To modify incoming and outgoing bytes, you can adjust topic message size or other topic properties as needed.","topic_partition_size_popover_header":"Topic partition size chart","topic_partition_size_help_text":"Topic partition size is the log size for each partition in a selected topic. This metric enables you to assess the amount of data used in one or more topic partitions. To reduce the topic partition size, you can decrease the retention time or the retention size, or modify the cleanup policy as needed. You can also increase the number of partitions for the topic.","topic_incoming_message_rate":"Incoming message rate","topic_incoming_message_rate_y_axis":"Messages/seconds","topic_incoming_message_rate_popover_header":"Incoming messages chart","topic_incoming_message_rate_help_text":"Incoming message rate is the number of messages per second received by one or more topics in the Kafka instance over time. This metric enables you to verify that messages are produced to topics and that producers are functioning properly. To modify the incoming messages per topic, you can adjust the corresponding producer as needed.","empty_state_no_data_body":"Weâ€™re setting up your monitoring instance. Your metrics will appear shortly.","empty_state_no_data_title":"No metrics data","empty_state_no_topic_data_body":"Adjust your filters and try again.","empty_state_no_topic_data_title":"No topic data","empty_state_no_topics_body":"Data will appear shortly after you start using topics.","empty_state_no_topics_title":"No topic data","empty_state_no_topics_create_topic":"Create topic","empty_state_no_filter_body":"In the filter dropdown select a topic to see log size per topic partition.","empty_state_no_filter_title":"Filter by Topic"}}');var C=n(55795);const k=({title:e,description:t})=>a().createElement(o.Popover,{"aria-label":"Basic popover",headerContent:a().createElement("div",null,e),bodyContent:a().createElement("div",null,t)},a().createElement(C.ZP,null)),x=()=>a().createElement(o.EmptyState,{variant:o.EmptyStateVariant.xs},a().createElement(o.EmptyStateBody,null,a().createElement(d,null)));var D=n(70251),A=n(31521);const P=()=>{const{t:e}=(0,A.useTranslation)();return a().createElement(o.EmptyState,{variant:o.EmptyStateVariant.xs},a().createElement(o.EmptyStateIcon,{icon:D.TachometerAltIcon}),a().createElement(o.Title,{headingLevel:"h3",size:"lg"},e("metrics.empty_state_no_data_title")),a().createElement(o.EmptyStateBody,null,e("metrics.empty_state_no_data_body")))},O=()=>{const{t:e}=(0,A.useTranslation)();return a().createElement(o.EmptyState,{variant:o.EmptyStateVariant.xs},a().createElement(o.EmptyStateIcon,{icon:D.SearchIcon}),a().createElement(o.Title,{headingLevel:"h3",size:"lg"},e("metrics.empty_state_no_topic_data_title")),a().createElement(o.EmptyStateBody,null,e("metrics.empty_state_no_topic_data_body")))},I=({onCreateTopic:e})=>{const{t}=(0,A.useTranslation)();return a().createElement(o.EmptyState,{variant:o.EmptyStateVariant.xs},a().createElement(o.EmptyStateIcon,{icon:D.WrenchIcon}),a().createElement(o.Title,{headingLevel:"h3",size:"lg"},t("metrics.empty_state_no_topics_title")),a().createElement(o.EmptyStateBody,null,t("metrics.empty_state_no_topics_body")),a().createElement(o.Button,{variant:"primary",onClick:e},t("metrics.empty_state_no_topics_create_topic")))},M=()=>{const{t:e}=(0,A.useTranslation)();return a().createElement(o.EmptyState,{variant:o.EmptyStateVariant.xs},a().createElement(o.EmptyStateIcon,{icon:D.FilterIcon}),a().createElement(o.Title,{headingLevel:"h3",size:"lg"},e("metrics.empty_state_no_filter_title")),a().createElement(o.EmptyStateBody,null,e("metrics.empty_state_no_filter_body")))};var L;!function(e){e[e.Last5minutes=5]="Last5minutes",e[e.Last15minutes=15]="Last15minutes",e[e.Last30minutes=30]="Last30minutes",e[e.Last1hour=60]="Last1hour",e[e.Last3hours=180]="Last3hours",e[e.Last6hours=360]="Last6hours",e[e.Last12hours=720]="Last12hours",e[e.Last24hours=1440]="Last24hours",e[e.Last2days=2880]="Last2days",e[e.Last7days=10080]="Last7days"}(L||(L={}));const N={[L.Last5minutes]:"Last 5 minutes",[L.Last15minutes]:"Last 15 minutes",[L.Last30minutes]:"Last 30 minutes",[L.Last1hour]:"Last 1 hour",[L.Last3hours]:"Last 3 hours",[L.Last6hours]:"Last 6 hours",[L.Last12hours]:"Last 12 hours",[L.Last24hours]:"Last 24 hours",[L.Last2days]:"Last 2 days",[L.Last7days]:"Last 7 days"},j=({duration:e,keyText:t,disableToolbar:n,onDurationChange:r})=>{const[s,c]=(0,i.useState)(!1);return a().createElement(o.ToolbarItem,null,a().createElement(o.Select,{variant:o.SelectVariant.single,"aria-label":"Select Input",onToggle:e=>{c(e)},onSelect:(e,t)=>{const n=Object.entries(N).find((([e,n])=>n===t));n&&r(parseInt(n[0],10)),c(!1)},selections:N[e],isOpen:s,isDisabled:n,placeholderText:"Last 6 hours"},(e=>[a().createElement(o.SelectGroup,{label:"Relative time ranges",key:`${e}-group`},Object.values(N).map(((t,n)=>a().createElement(o.SelectOption,{key:`${e}-${n}`,value:t}))))])(t)))};var R=n(8755);const F={default:"100px",sm:"80px",md:"150px",lg:"200px",xl:"250px","2xl":"300px"},V=({selectedTopic:e,topicList:t=[],disableToolbar:n,onSetSelectedTopic:r})=>{const{t:s}=(0,A.useTranslation)(),[c,l]=(0,i.useState)(!1),u=s("All topics"),d=e=>[a().createElement(o.SelectOption,{key:"topic-filter-0",value:u}),a().createElement(o.SelectGroup,{label:"Filter by topic",key:"topic-filter-group"},e.map(((e,t)=>a().createElement(o.SelectOption,{key:`topic-filter-${t+1}`,value:e}))))],h=n||0===t.length;return a().createElement(o.ToolbarItem,{widths:F},a().createElement(o.Select,{variant:o.SelectVariant.single,onToggle:e=>{l(e)},onSelect:(e,t)=>{r("All topics"!==t?t:void 0)},selections:e||u,isOpen:c,placeholderText:a().createElement(a().Fragment,null,a().createElement(R.ZP,null)," All topics"),"aria-label":s("Select a topic"),onFilter:(e,n)=>{const i=t.filter((e=>-1!=e.indexOf(n)))||[];return d(i)},isGrouped:!0,hasInlineFilter:!0,isDisabled:h,style:{width:"100%"}},d(t)))};var B=n(62482),z=n(84076),Z=n(72021),U=n(84103),G=n.n(U),$=n(30734);const H={[L.Last5minutes]:{interval:60,ticks:5,showDate:!1},[L.Last15minutes]:{interval:180,ticks:5,showDate:!1},[L.Last30minutes]:{interval:300,ticks:6,showDate:!1},[L.Last1hour]:{interval:600,ticks:6,showDate:!1},[L.Last3hours]:{interval:1800,ticks:6,showDate:!1},[L.Last6hours]:{interval:3600,ticks:6,showDate:!1},[L.Last12hours]:{interval:7200,ticks:6,showDate:!1},[L.Last24hours]:{interval:14400,ticks:6,showDate:!0},[L.Last2days]:{interval:28800,ticks:6,showDate:!0},[L.Last7days]:{interval:86400,ticks:7,showDate:!0}};function W(e){return G()(e,{units:"iec"}).toString()}const K=e=>H[e].showDate,Y=(e,{showDate:t}={showDate:!1})=>{const[n,i]=e.toISOString().split("T");return t?i.slice(0,5)+"\n"+n:i.slice(0,5)};function X(e,t){const n=[...e];n.sort();const i=parseInt(n[n.length-1]);return new Array(Math.max(H[t].ticks,n.length)).fill(i).map(((e,n)=>(0,$.Z)(new Date(e),{seconds:H[t].interval*n}).getTime()))}const J=[Z.ZP.value,z.ZP.value],q=({partitions:e,duration:t})=>{const{t:n}=(0,A.useTranslation)(),r=(0,i.useRef)(null),[o,s]=(0,i.useState)(),c=()=>r.current&&s(r.current.clientWidth),l=o&&o>650?6:3;(0,i.useEffect)((()=>{c(),window.addEventListener("resize",c)}),[o]);const{chartData:u,legendData:d,tickValues:h}=function(e,t){const n=[],i=[];Object.entries(e).map((([e,t],a)=>{const r=J[a];n.push({name:e});const o=[];Object.entries(t).map((([t,n])=>{o.push({name:e,x:parseInt(t,10),y:n})})),i.push({color:r,area:o})}));const a=X(Array.from(new Set(Object.values(e).flatMap((e=>Object.keys(e))))),t);return{legendData:n,chartData:i,tickValues:a}}(e,t);return a().createElement("div",{ref:r},a().createElement(B.Chart,{ariaTitle:n("metrics.log_size_per_partition"),containerComponent:a().createElement(B.ChartVoronoiContainer,{labels:({datum:e})=>`${e.name}: ${W(e.y)}`,constrainToVisibleArea:!0}),legendPosition:"bottom-left",legendComponent:a().createElement(B.ChartLegend,{data:d,itemsPerRow:l}),height:350,padding:{bottom:110,left:120,right:40,top:40},themeColor:B.ChartThemeColor.multiUnordered,width:o,legendAllowWrap:!0},a().createElement(B.ChartAxis,{label:"\nTime",tickValues:h,tickFormat:e=>Y(new Date(e),{showDate:K(t)})}),a().createElement(B.ChartAxis,{label:"\n\n\n\n\nBytes",dependentAxis:!0,tickFormat:W}),a().createElement(B.ChartGroup,null,u.map(((e,t)=>a().createElement(B.ChartArea,{key:`chart-area-${t}`,data:e.area,interpolation:"monotoneX"}))))))};const Q=({diskSpaceMetrics:e,topicMetrics:t})=>a().createElement(o.PageSection,null,a().createElement(o.Grid,{hasGutter:!0},a().createElement(o.GridItem,{lg:6},e),a().createElement(o.GridItem,{lg:6},t)));var ee=n(66095);const te=({title:e,selectedTopic:t,topicList:n,duration:i,isDisabled:r,isRefreshing:s,onSetTimeDuration:c,onRefresh:l,onSetSelectedTopic:u})=>a().createElement(a().Fragment,null,a().createElement(o.CardHeader,null,a().createElement(o.CardTitle,{component:"h2"},e),a().createElement(o.CardActions,null,a().createElement(o.Toolbar,null,a().createElement(o.ToolbarContent,null,a().createElement(V,{selectedTopic:t,onSetSelectedTopic:u,topicList:n,disableToolbar:r}),a().createElement(j,{duration:i,onDurationChange:c,disableToolbar:r,keyText:"topic-metrics-time-filter"}),a().createElement(o.ToolbarItem,null,a().createElement(o.Button,{isLoading:s,variant:"plain","aria-label":"sync",onClick:l},!s&&a().createElement(ee.ZP,null))))))),a().createElement(o.Divider,null)),ne=()=>a().createElement(o.CardBody,null,a().createElement(o.Bullseye,null,a().createElement(o.Spinner,{isSVG:!0})));var ie=n(9914);const ae=({metrics:e,duration:t,chartName:n,xLabel:r,yLabel:o,usageLimit:s,formatValue:c=(e=>`${e}`)})=>{const l=(0,i.useRef)(null),{t:u}=(0,A.useTranslation)(),[d,h]=(0,i.useState)(),p=()=>l.current&&h(l.current.clientWidth),f=d&&d>650?6:3;(0,i.useEffect)((()=>{p(),window.addEventListener("resize",p)}),[d]);const{chartData:m,legendData:g,tickValues:v}=function(e,t,n,i,a){const r=[a?{name:i,symbol:{fill:ie.ZP.value,type:"threshold"}}:void 0,{name:n,symbol:{fill:z.ZP.value}}].filter((e=>!!e)),o=z.ZP.value,s=ie.ZP.value,c=[],l=[],u=[];Object.entries(e).map((([e,t])=>{l.push({name:n,x:parseInt(e,10),y:t})})),c.push({areaColor:o,softLimitColor:s,area:l,softLimit:u});const d=X(Object.keys(e),t);a&&d.forEach((e=>u.push({name:i,x:e,y:a})));return{legendData:r,chartData:c,tickValues:d}}(e,t,n,u("Limit"),s);return a().createElement("div",{ref:l},a().createElement(B.Chart,{ariaTitle:u("metrics.used_disk_space"),containerComponent:a().createElement(B.ChartVoronoiContainer,{labels:({datum:e})=>`${e.name}: ${c(e.y)}`,constrainToVisibleArea:!0}),legendPosition:"bottom-left",legendComponent:a().createElement(B.ChartLegend,{orientation:"horizontal",data:g,itemsPerRow:f}),height:350,padding:{bottom:110,left:120,right:40,top:40},themeColor:B.ChartThemeColor.multiUnordered,width:d,legendAllowWrap:!0},a().createElement(B.ChartAxis,{label:"\n"+(r||u("metrics.axis-label-time")),tickValues:v,tickFormat:e=>Y(new Date(e),{showDate:K(t)})}),a().createElement(B.ChartAxis,{label:"\n\n\n\n\n"+(o||n),dependentAxis:!0,tickFormat:c}),a().createElement(B.ChartGroup,null,m.map(((e,t)=>a().createElement(B.ChartArea,{key:`chart-area-${t}`,data:e.area,interpolation:"monotoneX",style:{data:{}}})))),a().createElement(B.ChartThreshold,{key:"chart-softlimit",data:m[0].softLimit,style:{data:{stroke:m[0].softLimitColor}}})))};const re=({topics:e,incomingTopicsData:t,outgoingTopicsData:n,incomingMessageRate:i,selectedTopic:r,duration:s,partitions:c,backendUnavailable:l,metricsDataUnavailable:u,isLoading:d,isRefreshing:h,onCreateTopic:p,onRefresh:f,onSelectedTopic:m,onDurationChange:g})=>{const{t:v}=(0,A.useTranslation)(),y=0===e.length;return a().createElement(o.Card,null,a().createElement(te,{title:v("metrics.topic_metrics"),duration:s,onSetTimeDuration:g,isDisabled:l||y,isRefreshing:h,selectedTopic:r,onSetSelectedTopic:m,onRefresh:f,topicList:e}),(()=>{switch(!0){case d&&void 0===r:return a().createElement(o.CardBody,null,a().createElement(o.Bullseye,null,a().createElement(o.Spinner,{isSVG:!0})));case d:return a().createElement(a().Fragment,null,a().createElement(oe,null),a().createElement(ne,null),a().createElement(o.Divider,null),a().createElement(ce,null),a().createElement(o.Divider,null),a().createElement(se,null),a().createElement(ne,null));case l:return a().createElement(o.CardBody,null,a().createElement(P,null));case u:return a().createElement(o.CardBody,null,a().createElement(O,null));case y:return a().createElement(o.CardBody,null,a().createElement(I,{onCreateTopic:p}));case void 0!==r:return a().createElement(a().Fragment,null,a().createElement(oe,null),a().createElement(o.CardBody,null,a().createElement(ue,{incomingTopicsData:t,outgoingTopicsData:n,selectedTopic:r,duration:s})),a().createElement(o.Divider,null),a().createElement(ce,null),a().createElement(o.CardBody,null,a().createElement(ae,{chartName:v("metrics.topic_incoming_message_rate"),yLabel:v("metrics.topic_incoming_message_rate_y_axis"),metrics:i,duration:s})),a().createElement(o.Divider,null),a().createElement(se,null),a().createElement(o.CardBody,null,a().createElement(q,{partitions:c,duration:s})));default:return a().createElement(a().Fragment,null,a().createElement(oe,null),a().createElement(o.CardBody,null,a().createElement(ue,{incomingTopicsData:t,outgoingTopicsData:n,selectedTopic:r,duration:s})),a().createElement(o.Divider,null),a().createElement(ce,null),a().createElement(o.CardBody,null,a().createElement(ae,{chartName:v("metrics.topic_incoming_message_rate"),yLabel:v("metrics.topic_incoming_message_rate_y_axis"),metrics:i,duration:s})),a().createElement(o.Divider,null),a().createElement(se,null),a().createElement(o.CardBody,null,a().createElement(M,null)))}})())},oe=()=>{const{t:e}=(0,A.useTranslation)();return a().createElement(o.CardTitle,{component:"h3"},e("metrics.total_bytes")," ",a().createElement(k,{title:e("metrics.total_bytes_popover_header"),description:e("metrics.topic_metrics_help_text")}))},se=()=>{const{t:e}=(0,A.useTranslation)();return a().createElement(o.CardTitle,{component:"h3"},e("metrics.topic_partition_size")," ",a().createElement(k,{title:e("metrics.topic_partition_size_popover_header"),description:e("metrics.topic_partition_size_help_text")}))},ce=()=>{const{t:e}=(0,A.useTranslation)();return a().createElement(o.CardTitle,{component:"h3"},e("metrics.topic_incoming_message_rate")," ",a().createElement(k,{title:e("metrics.topic_incoming_message_rate_popover_header"),description:e("metrics.topic_incoming_message_rate_help_text")}))};var le=n(82874);const ue=({incomingTopicsData:e,outgoingTopicsData:t,selectedTopic:n,duration:r})=>{const{t:o}=(0,A.useTranslation)(),s=(0,i.useRef)(null),[c,l]=(0,i.useState)(),u=()=>s.current&&l(s.current.clientWidth),d=c&&c>650?6:3;(0,i.useEffect)((()=>{u(),window.addEventListener("resize",u)}),[c]);const{chartData:h,legendData:p,tickValues:f}=function(e,t,n,i,a){const r=[],o=[],s=de(e,i);if(s){const e=z.ZP.value;o.push({color:e,line:s}),r.push({name:i,symbol:{fill:e}})}const c=de(t,a);if(c){const e=le.ZP.value;o.push({color:e,line:c}),r.push({name:a,symbol:{fill:e}})}const l=X(Array.from(new Set([...Object.keys(e),...Object.keys(t)])),n);return{legendData:r,chartData:o,tickValues:l}}(e,t,r,o("{{topic}} incoming bytes",{topic:n||o("Total")}),o("{{topic}} outgoing bytes",{topic:n||o("Total")}));return a().createElement("div",{ref:s},a().createElement(B.Chart,{ariaTitle:o("metrics.total_bytes"),containerComponent:a().createElement(B.ChartVoronoiContainer,{labels:({datum:e})=>`${e.name}: ${W(e.y)}`,constrainToVisibleArea:!0}),legendAllowWrap:!0,legendPosition:"bottom-left",legendComponent:a().createElement(B.ChartLegend,{data:p,itemsPerRow:d}),height:300,padding:{bottom:110,left:120,right:40,top:40},themeColor:B.ChartThemeColor.multiUnordered,width:c},a().createElement(B.ChartAxis,{label:"\nTime",tickValues:f,tickCount:H[r].ticks,tickFormat:e=>Y(new Date(e),{showDate:K(r)})}),a().createElement(B.ChartAxis,{label:"\n\n\n\n\nBytes",dependentAxis:!0,tickFormat:W}),a().createElement(B.ChartGroup,null,h.map(((e,t)=>a().createElement(B.ChartLine,{key:`chart-line-${t}`,data:e.line,style:{data:{stroke:e.color}}}))))))};function de(e,t){const n=[];return Object.entries(e).map((([e,i])=>{n.push({name:t,x:parseInt(e,10),y:i})})),n}const he=({title:e,isDisabled:t,isRefreshing:n,duration:i,onSetTimeDuration:r,onRefresh:s})=>a().createElement(a().Fragment,null,a().createElement(o.CardHeader,null,a().createElement(o.CardTitle,{component:"h2"},e),a().createElement(o.CardActions,null,a().createElement(o.Toolbar,null,a().createElement(o.ToolbarContent,null,a().createElement(j,{duration:i,onDurationChange:r,keyText:"kafka-metrics-time-filter",disableToolbar:t}),a().createElement(o.ToolbarItem,null,a().createElement(o.Button,{isLoading:n,variant:"plain","aria-label":"sync",onClick:s},!n&&a().createElement(ee.ZP,null))))))),a().createElement(o.Divider,null)),pe=({usedDiskMetrics:e,clientConnectionsMetrics:t,connectionAttemptRateMetrics:n,duration:i,metricsDataUnavailable:r,isLoading:s,isRefreshing:c,onRefresh:l,onDurationChange:u})=>{const{t:d}=(0,A.useTranslation)();return a().createElement(o.Card,null,a().createElement(he,{title:d("metrics.kafka_instance_metrics"),duration:i,onSetTimeDuration:u,isDisabled:r,isRefreshing:c,onRefresh:l}),(()=>{switch(!0){case s:return a().createElement(a().Fragment,null,a().createElement(fe,{title:"used_disk_space",helperText:"used_disk_space_help_text"}),a().createElement(ne,null));case r:return a().createElement(o.CardBody,null,a().createElement(P,null));default:return a().createElement(a().Fragment,null,a().createElement(fe,{title:"used_disk_space",helperText:"used_disk_space_help_text"}),a().createElement(o.CardBody,null,a().createElement(ae,{chartName:d("metrics.used_disk_space"),metrics:e,duration:i,formatValue:W,usageLimit:1e3*Math.pow(1024,3)})),a().createElement(o.Divider,null),a().createElement(fe,{title:"client_connections",helperText:"client_connections_helper_text"}),a().createElement(o.CardBody,null,a().createElement(ae,{chartName:d("metrics.client_connections"),metrics:t,duration:i,usageLimit:100})),a().createElement(o.Divider,null),a().createElement(fe,{title:"connection_attempt_rate",helperText:"connection_attempt_rate_help_text"}),a().createElement(o.CardBody,null,a().createElement(ae,{chartName:d("metrics.connection_attempt_rate"),yLabel:d("metrics.connection_attempt_rate_yaxis"),metrics:n,duration:i,usageLimit:100})))}})())},fe=({title:e,helperText:t})=>{const{t:n}=(0,A.useTranslation)();return a().createElement(o.CardTitle,{component:"h3"},n(`metrics.${e}`)," ",a().createElement(k,{title:n(`metrics.${e}`),description:n(`metrics.${t}`)}))};var me=n(38801),ge=n(66310);const ve=(0,ge.createModel)({duration:60,usedDiskSpaceMetrics:{},clientConnectionsMetrics:{},connectionAttemptRateMetrics:{},fetchFailures:0},{events:{fetch:()=>({}),fetchSuccess:e=>Object.assign({},e),fetchFail:()=>({}),refresh:()=>({}),selectTopic:e=>({selectedTopic:e}),selectDuration:e=>({duration:e})}}),ye=ve.assign(((e,t)=>{const{usedDiskSpaceMetrics:n,clientConnectionsMetrics:i,connectionAttemptRateMetrics:a}=t;return{usedDiskSpaceMetrics:n,clientConnectionsMetrics:i,connectionAttemptRateMetrics:a}}),"fetchSuccess"),_e=ve.assign({fetchFailures:e=>e.fetchFailures+1},"fetchFail"),be=ve.assign({fetchFailures:()=>0},"refresh"),Se=ve.assign({duration:(e,t)=>t.duration},"selectDuration"),Ee=ve.createMachine({id:"diskSpace",context:ve.initialContext,initial:"callApi",states:{callApi:{tags:"loading",initial:"loading",states:{loading:{invoke:{src:"api"},on:{fetchSuccess:{actions:ye,target:"#diskSpace.verifyData"},fetchFail:{actions:_e,target:"failure"}}},failure:{after:{1e3:[{cond:"canRetryFetching",target:"loading"},{target:"#diskSpace.criticalFail"}]}}}},criticalFail:{tags:"failed",on:{refresh:{actions:be,target:"callApi"}}},verifyData:{always:[{cond:"hasMetrics",target:"withMetrics"},{target:"noData"}]},noData:{tags:"no-data",on:{refresh:{actions:be,target:"callApi"},selectDuration:{actions:Se,target:"refreshing"}}},withMetrics:{on:{refresh:{target:"refreshing"},selectDuration:{actions:Se,target:"refreshing"}}},refreshing:{tags:"refreshing",invoke:{src:"api"},on:{fetchSuccess:{actions:ye,target:"verifyData"},fetchFail:{target:"verifyData"}}}}},{guards:{canRetryFetching:e=>e.fetchFailures<3,hasMetrics:e=>Object.keys(e.usedDiskSpaceMetrics).length>0}}),Te=(0,ge.createModel)({selectedTopic:void 0,duration:60,kafkaTopics:[],metricsTopics:[],bytesOutgoing:{},bytesIncoming:{},bytesPerPartition:{},incomingMessageRate:{},fetchFailures:0},{events:{fetch:()=>({}),fetchSuccess:e=>Object.assign({},e),fetchFail:()=>({}),refresh:()=>({}),selectTopic:e=>({selectedTopic:e}),selectDuration:e=>({duration:e})}}),we=Te.assign(((e,t)=>{const{kafkaTopics:n,metricsTopics:i,bytesPerPartition:a,bytesIncoming:r,bytesOutgoing:o,incomingMessageRate:s}=t;return{kafkaTopics:n,metricsTopics:i,bytesPerPartition:a,bytesIncoming:r,bytesOutgoing:o,incomingMessageRate:s}}),"fetchSuccess"),Ce=Te.assign({fetchFailures:e=>e.fetchFailures+1},"fetchFail"),ke=Te.assign({fetchFailures:()=>0},"refresh"),xe=Te.assign({selectedTopic:(e,t)=>t.selectedTopic},"selectTopic"),De=Te.assign({duration:(e,t)=>t.duration},"selectDuration"),Ae=Te.createMachine({id:"topics",context:Te.initialContext,initial:"callApi",states:{callApi:{tags:"loading",initial:"loading",states:{loading:{invoke:{src:"api"},on:{fetchSuccess:{actions:we,target:"#topics.verifyData"},fetchFail:{actions:Ce,target:"failure"}}},failure:{after:{1e3:[{cond:"canRetryFetching",target:"loading"},{target:"#topics.criticalFail"}]}}}},criticalFail:{tags:"failed",on:{refresh:{actions:ke,target:"callApi"}}},verifyData:{always:[{cond:"hasMetrics",target:"withTopics"},{target:"noData"}]},noData:{tags:"no-data",initial:"idle",states:{idle:{},refreshing:{tags:"refreshing",invoke:{src:"api"},on:{fetchSuccess:{actions:we,target:"#topics.verifyData"},fetchFail:{target:"#topics.noData"}}}},on:{refresh:{target:"#topics.noData.refreshing"},selectTopic:{actions:xe,target:"#topics.noData.refreshing"},selectDuration:{actions:De,target:"#topics.noData.refreshing"}}},withTopics:{initial:"idle",states:{idle:{},refreshing:{tags:"refreshing",invoke:{src:"api"},on:{fetchSuccess:{actions:we,target:"#topics.verifyData"},fetchFail:{target:"#topics.withTopics"}}}},on:{refresh:{target:"#topics.withTopics.refreshing"},selectTopic:{actions:xe,target:"#topics.withTopics.refreshing"},selectDuration:{actions:De,target:"#topics.withTopics.refreshing"}}}}},{guards:{canRetryFetching:e=>e.fetchFailures<3,hasMetrics:e=>{const t=e.kafkaTopics.length>0||e.metricsTopics.length>0,n=Object.keys(e.bytesIncoming).length>0||Object.keys(e.bytesOutgoing).length>0;return t&&n}}}),Pe=(0,i.createContext)(null),Oe=({children:e,getKafkaInstanceMetrics:t})=>{const n=function({getKafkaInstanceMetrics:e}){return(0,me.useInterpret)(Ee.withConfig({services:{api:t=>n=>{e({duration:t.duration,interval:H[t.duration].interval}).then((e=>n(ve.events.fetchSuccess(e)))).catch((e=>{console.error("Failed fetching data",e),n(ve.events.fetchFail())}))}}}),{devTools:!0})}({getKafkaInstanceMetrics:t});return a().createElement(Pe.Provider,{value:{service:n}},e)};function Ie(){const{service:e}=(0,i.useContext)(Pe),t=(0,i.useCallback)((e=>Object.assign(Object.assign({},e.context),{isRefreshing:e.hasTag("refreshing"),isLoading:e.hasTag("loading"),isFailed:e.hasTag("failed"),isDataUnavailable:e.hasTag("no-data")})),[]),{usedDiskSpaceMetrics:n,clientConnectionsMetrics:a,connectionAttemptRateMetrics:r,duration:o,isLoading:s,isRefreshing:c,isDataUnavailable:l,isFailed:u}=(0,me.useSelector)(e,t),d=(0,i.useCallback)((t=>e.send(ve.events.selectDuration(t))),[e]);return{usedDiskSpaceMetrics:n,clientConnectionsMetrics:a,connectionAttemptRateMetrics:r,isLoading:s,isRefreshing:c,isFailed:u,isDataUnavailable:l,duration:o,onDurationChange:d,onRefresh:(0,i.useCallback)((()=>e.send(ve.events.refresh())),[e])}}const Me=(0,i.createContext)(null),Le=({children:e,getTopicsMetrics:t})=>{const n=function({getTopicsMetrics:e}){return(0,me.useInterpret)(Ae.withConfig({services:{api:t=>n=>{e({selectedTopic:t.selectedTopic,duration:t.duration,interval:H[t.duration].interval}).then((e=>n(Te.events.fetchSuccess(e)))).catch((e=>{console.error("Failed fetching data",e),n(Te.events.fetchFail())}))}}}),{devTools:!0})}({getTopicsMetrics:t});return a().createElement(Me.Provider,{value:{service:n}},e)};const Ne=({getKafkaInstanceMetrics:e,getTopicsMetrics:t,onCreateTopic:n})=>a().createElement(Le,{getTopicsMetrics:t},a().createElement(Oe,{getKafkaInstanceMetrics:e},a().createElement(je,{onCreateTopic:n}))),je=({onCreateTopic:e})=>{const{isLoading:t,isFailed:n}=Ie();switch(!0){case t:return a().createElement(x,null);case n:return a().createElement(P,null)}return a().createElement(Q,{diskSpaceMetrics:a().createElement(Re,null),topicMetrics:a().createElement(Fe,{onCreateTopic:e})})},Re=()=>{const{isLoading:e,isRefreshing:t,isDataUnavailable:n,isFailed:i,duration:r,usedDiskSpaceMetrics:o,clientConnectionsMetrics:s,connectionAttemptRateMetrics:c,onDurationChange:l,onRefresh:u}=Ie();return a().createElement(pe,{usedDiskMetrics:o,clientConnectionsMetrics:s,connectionAttemptRateMetrics:c,duration:r,metricsDataUnavailable:n||i,isLoading:e,isRefreshing:t,onRefresh:u,onDurationChange:l})},Fe=({onCreateTopic:e})=>{const{isLoading:t,isRefreshing:n,isFailed:r,isDataUnavailable:o,selectedTopic:s,duration:c,topics:l,bytesIncoming:u,bytesOutgoing:d,bytesPerPartition:h,incomingMessageRate:p,onDurationChange:f,onTopicChange:m,onRefresh:g}=function(){const{service:e}=(0,i.useContext)(Me),t=(0,i.useCallback)((e=>Object.assign(Object.assign({},e.context),{isRefreshing:e.hasTag("refreshing"),isLoading:e.hasTag("loading"),isFailed:e.hasTag("failed"),isDataUnavailable:e.hasTag("no-data")})),[]),{selectedTopic:n,duration:a,kafkaTopics:r,metricsTopics:o,bytesIncoming:s,bytesOutgoing:c,bytesPerPartition:l,incomingMessageRate:u,isLoading:d,isRefreshing:h,isDataUnavailable:p,isFailed:f}=(0,me.useSelector)(e,t),m=(0,i.useCallback)((t=>e.send(Te.events.selectTopic(t))),[e]),g=(0,i.useCallback)((t=>e.send(Te.events.selectDuration(t))),[e]),v=(0,i.useCallback)((()=>e.send(Te.events.refresh())),[e]);return{isLoading:d,isRefreshing:h,isFailed:f,isDataUnavailable:p,topics:(0,i.useMemo)((()=>{const e=Array.from(new Set([...r,...o]));return e.sort(((e,t)=>e.localeCompare(t))),e}),[r,o]),selectedTopic:n,duration:a,bytesIncoming:s,bytesOutgoing:c,bytesPerPartition:l,incomingMessageRate:u,onTopicChange:m,onDurationChange:g,onRefresh:v}}();return a().createElement(re,{backendUnavailable:r,metricsDataUnavailable:o,topics:l,incomingTopicsData:u,outgoingTopicsData:d,partitions:h,incomingMessageRate:p,duration:c,isLoading:t,isRefreshing:n,selectedTopic:s,onRefresh:g,onSelectedTopic:m,onDurationChange:f,onCreateTopic:e})}},13882:(e,t,n)=>{function i(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}n.d(t,{Z:()=>i})},83946:(e,t,n)=>{function i(e){if(null===e||!0===e||!1===e)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}n.d(t,{Z:()=>i})},77349:(e,t,n)=>{n.d(t,{Z:()=>o});var i=n(83946),a=n(19013),r=n(13882);function o(e,t){(0,r.Z)(2,arguments);var n=(0,a.Z)(e),o=(0,i.Z)(t);return isNaN(o)?new Date(NaN):o?(n.setDate(n.getDate()+o),n):n}},11640:(e,t,n)=>{n.d(t,{Z:()=>o});var i=n(83946),a=n(19013),r=n(13882);function o(e,t){(0,r.Z)(2,arguments);var n=(0,a.Z)(e),o=(0,i.Z)(t);if(isNaN(o))return new Date(NaN);if(!o)return n;var s=n.getDate(),c=new Date(n.getTime());c.setMonth(n.getMonth()+o+1,0);var l=c.getDate();return s>=l?c:(n.setFullYear(c.getFullYear(),c.getMonth(),s),n)}},30734:(e,t,n)=>{n.d(t,{Z:()=>s});var i=n(7069),a=n(54559),r=n(13882),o=n(83946);function s(e,t){if((0,r.Z)(2,arguments),!t||"object"!=typeof t)return new Date(NaN);var n=t.years?(0,o.Z)(t.years):0,s=t.months?(0,o.Z)(t.months):0,c=t.weeks?(0,o.Z)(t.weeks):0,l=t.days?(0,o.Z)(t.days):0,u=t.hours?(0,o.Z)(t.hours):0,d=t.minutes?(0,o.Z)(t.minutes):0,h=t.seconds?(0,o.Z)(t.seconds):0,p=(0,a.Z)(e,s+12*n),f=(0,i.Z)(p,l+7*c),m=d+60*u,g=h+60*m,v=1e3*g,y=new Date(f.getTime()-v);return y}},7069:(e,t,n)=>{n.d(t,{Z:()=>o});var i=n(83946),a=n(77349),r=n(13882);function o(e,t){(0,r.Z)(2,arguments);var n=(0,i.Z)(t);return(0,a.Z)(e,-n)}},54559:(e,t,n)=>{n.d(t,{Z:()=>o});var i=n(83946),a=n(11640),r=n(13882);function o(e,t){(0,r.Z)(2,arguments);var n=(0,i.Z)(t);return(0,a.Z)(e,-n)}},19013:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(13882);function a(e){(0,i.Z)(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||"object"==typeof e&&"[object Date]"===t?new Date(e.getTime()):"number"==typeof e||"[object Number]"===t?new Date(e):("string"!=typeof e&&"[object String]"!==t||"undefined"==typeof console||(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://git.io/fjule"),console.warn((new Error).stack)),new Date(NaN))}},70655:(e,t,n)=>{n.r(t),n.d(t,{__extends:()=>a,__assign:()=>r,__rest:()=>o,__decorate:()=>s,__param:()=>c,__metadata:()=>l,__awaiter:()=>u,__generator:()=>d,__createBinding:()=>h,__exportStar:()=>p,__values:()=>f,__read:()=>m,__spread:()=>g,__spreadArrays:()=>v,__spreadArray:()=>y,__await:()=>_,__asyncGenerator:()=>b,__asyncDelegator:()=>S,__asyncValues:()=>E,__makeTemplateObject:()=>T,__importStar:()=>C,__importDefault:()=>k,__classPrivateFieldGet:()=>x,__classPrivateFieldSet:()=>D});var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},i(e,t)};function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var r=function(){return r=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},r.apply(this,arguments)};function o(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(i=Object.getOwnPropertySymbols(e);a<i.length;a++)t.indexOf(i[a])<0&&Object.prototype.propertyIsEnumerable.call(e,i[a])&&(n[i[a]]=e[i[a]])}return n}function s(e,t,n,i){var a,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(o=(r<3?a(o):r>3?a(t,n,o):a(t,n))||o);return r>3&&o&&Object.defineProperty(t,n,o),o}function c(e,t){return function(n,i){t(n,i,e)}}function l(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function u(e,t,n,i){return new(n||(n=Promise))((function(a,r){function o(e){try{c(i.next(e))}catch(e){r(e)}}function s(e){try{c(i.throw(e))}catch(e){r(e)}}function c(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}c((i=i.apply(e,t||[])).next())}))}function d(e,t){var n,i,a,r,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(r){return function(s){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,i&&(a=2&r[0]?i.return:r[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,r[1])).done)return a;switch(i=0,a&&(r=[2&r[0],a.value]),r[0]){case 0:case 1:a=r;break;case 4:return o.label++,{value:r[1],done:!1};case 5:o.label++,i=r[1],r=[0];continue;case 7:r=o.ops.pop(),o.trys.pop();continue;default:if(!(a=o.trys,(a=a.length>0&&a[a.length-1])||6!==r[0]&&2!==r[0])){o=0;continue}if(3===r[0]&&(!a||r[1]>a[0]&&r[1]<a[3])){o.label=r[1];break}if(6===r[0]&&o.label<a[1]){o.label=a[1],a=r;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(r);break}a[2]&&o.ops.pop(),o.trys.pop();continue}r=t.call(e,o)}catch(e){r=[6,e],i=0}finally{n=a=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,s])}}}var h=Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]};function p(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||h(t,e,n)}function f(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],i=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function m(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var i,a,r=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(e){a={error:e}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return o}function g(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(m(arguments[t]));return e}function v(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var i=Array(e),a=0;for(t=0;t<n;t++)for(var r=arguments[t],o=0,s=r.length;o<s;o++,a++)i[a]=r[o];return i}function y(e,t,n){if(n||2===arguments.length)for(var i,a=0,r=t.length;a<r;a++)!i&&a in t||(i||(i=Array.prototype.slice.call(t,0,a)),i[a]=t[a]);return e.concat(i||Array.prototype.slice.call(t))}function _(e){return this instanceof _?(this.v=e,this):new _(e)}function b(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,a=n.apply(e,t||[]),r=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(e){a[e]&&(i[e]=function(t){return new Promise((function(n,i){r.push([e,t,n,i])>1||s(e,t)}))})}function s(e,t){try{(n=a[e](t)).value instanceof _?Promise.resolve(n.value.v).then(c,l):u(r[0][2],n)}catch(e){u(r[0][3],e)}var n}function c(e){s("next",e)}function l(e){s("throw",e)}function u(e,t){e(t),r.shift(),r.length&&s(r[0][0],r[0][1])}}function S(e){var t,n;return t={},i("next"),i("throw",(function(e){throw e})),i("return"),t[Symbol.iterator]=function(){return this},t;function i(i,a){t[i]=e[i]?function(t){return(n=!n)?{value:_(e[i](t)),done:"return"===i}:a?a(t):t}:a}}function E(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=f(e),t={},i("next"),i("throw"),i("return"),t[Symbol.asyncIterator]=function(){return this},t);function i(n){t[n]=e[n]&&function(t){return new Promise((function(i,a){(function(e,t,n,i){Promise.resolve(i).then((function(t){e({value:t,done:n})}),t)})(i,a,(t=e[n](t)).done,t.value)}))}}}function T(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var w=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t};function C(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&h(t,e,n);return w(t,e),t}function k(e){return e&&e.__esModule?e:{default:e}}function x(e,t,n,i){if("a"===n&&!i)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?i:"a"===n?i.call(e):i?i.value:t.get(e)}function D(e,t,n,i,a){if("m"===i)throw new TypeError("Private method is not writable");if("a"===i&&!a)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!a:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===i?a.call(e,n):a?a.value=n:t.set(e,n),n}},35294:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});var i=n(77944);t.Machine=function(e,t,n){return void 0===n&&(n=e.context),new i.StateNode(e,t,n)},t.createMachine=function(e,t){return new i.StateNode(e,t)}},17556:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});var i=n(80552),a=n(39448),r=n(29660),o=n(50509),s=n(52119),c=n(41428);var l=function(){function e(e){var t,n=this;this.actions=[],this.activities=a.EMPTY_ACTIVITY_MAP,this.meta={},this.events=[],this.value=e.value,this.context=e.context,this._event=e._event,this._sessionid=e._sessionid,this.event=this._event.data,this.historyValue=e.historyValue,this.history=e.history,this.actions=e.actions||[],this.activities=e.activities||a.EMPTY_ACTIVITY_MAP,this.meta=s.getMeta(e.configuration),this.events=e.events||[],this.matches=this.matches.bind(this),this.toStrings=this.toStrings.bind(this),this.configuration=e.configuration,this.transitions=e.transitions,this.children=e.children,this.done=!!e.done,this.tags=null!==(t=Array.isArray(e.tags)?new Set(e.tags):e.tags)&&void 0!==t?t:new Set,this.machine=e.machine,Object.defineProperty(this,"nextEvents",{get:function(){return s.nextEvents(n.configuration)}})}return e.from=function(t,n){return t instanceof e?t.context!==n?new e({value:t.value,context:n,_event:t._event,_sessionid:null,historyValue:t.historyValue,history:t.history,actions:[],activities:t.activities,meta:{},events:[],configuration:[],transitions:[],children:{}}):t:new e({value:t,context:n,_event:c.initEvent,_sessionid:null,historyValue:void 0,history:void 0,actions:[],activities:void 0,meta:void 0,events:[],configuration:[],transitions:[],children:{}})},e.create=function(t){return new e(t)},e.inert=function(t,n){if(t instanceof e){if(!t.actions.length)return t;var i=c.initEvent;return new e({value:t.value,context:n,_event:i,_sessionid:null,historyValue:t.historyValue,history:t.history,activities:t.activities,configuration:t.configuration,transitions:[],children:{}})}return e.from(t,n)},e.prototype.toStrings=function(e,t){var n=this;if(void 0===e&&(e=this.value),void 0===t&&(t="."),o.isString(e))return[e];var a=o.keys(e);return a.concat.apply(a,i.__spreadArray([],i.__read(a.map((function(i){return n.toStrings(e[i],t).map((function(e){return i+t+e}))}))),!1))},e.prototype.toJSON=function(){var e=this,t=(e.configuration,e.transitions,e.tags),n=(e.machine,i.__rest(e,["configuration","transitions","tags","machine"]));return i.__assign(i.__assign({},n),{tags:Array.from(t)})},e.prototype.matches=function(e){return o.matchesState(e,this.value)},e.prototype.hasTag=function(e){return this.tags.has(e)},e.prototype.can=function(e){var t;return r.IS_PRODUCTION&&o.warn(!!this.machine,"state.can(...) used outside of a machine-created State object; this will always return false."),!!(null===(t=this.machine)||void 0===t?void 0:t.transition(this,e).changed)},e}();t.State=l,t.bindActionToState=function(e,t){var n=e.exec;return i.__assign(i.__assign({},e),{exec:void 0!==n?function(){return n(t.context,t.event,{action:e,state:t,_event:t._event})}:void 0})},t.isState=function(e){return!o.isString(e)&&("value"in e&&"history"in e)},t.stateValuesEqual=function e(t,n){if(t===n)return!0;if(void 0===t||void 0===n)return!1;if(o.isString(t)||o.isString(n))return t===n;var i=o.keys(t),a=o.keys(n);return i.length===a.length&&i.every((function(i){return e(t[i],n[i])}))}},77944:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});var i=n(80552),a=n(39448),r=n(29660),o=n(50509),s=n(27108),c=n(52119),l=n(73487),u=n(41428),d=n(17556),h=n(70880),p=n(30290),f="",m="*",g={},v=function(e){return"#"===e[0]},y=function(){function e(t,n,s){var l,d=this;void 0===s&&(s="context"in t?t.context:void 0),this.config=t,this._context=s,this.order=-1,this.__xstatenode=!0,this.__cache={events:void 0,relativeValue:new Map,initialStateValue:void 0,initialState:void 0,on:void 0,transitions:void 0,candidates:{},delayedTransitions:void 0},this.idMap={},this.tags=[],this.options=Object.assign({actions:{},guards:{},services:{},activities:{},delays:{}},n),this.parent=this.options._parent,this.key=this.config.key||this.options._key||this.config.id||"(machine)",this.machine=this.parent?this.parent.machine:this,this.path=this.parent?this.parent.path.concat(this.key):[],this.delimiter=this.config.delimiter||(this.parent?this.parent.delimiter:a.STATE_DELIMITER),this.id=this.config.id||i.__spreadArray([this.machine.key],i.__read(this.path),!1).join(this.delimiter),this.version=this.parent?this.parent.version:this.config.version,this.type=this.config.type||(this.config.parallel?"parallel":this.config.states&&o.keys(this.config.states).length?"compound":this.config.history?"history":"atomic"),this.schema=this.parent?this.machine.schema:null!==(l=this.config.schema)&&void 0!==l?l:{},this.description=this.config.description,r.IS_PRODUCTION||o.warn(!("parallel"in this.config),'The "parallel" property is deprecated and will be removed in version 4.1. '.concat(this.config.parallel?"Replace with `type: 'parallel'`":"Use `type: '".concat(this.type,"'`")," in the config for state node '").concat(this.id,"' instead.")),this.initial=this.config.initial,this.states=this.config.states?o.mapValues(this.config.states,(function(t,n){var a,r=new e(t,{_parent:d,_key:n});return Object.assign(d.idMap,i.__assign(((a={})[r.id]=r,a),r.idMap)),r})):g;var h=0;!function e(t){var n,a;t.order=h++;try{for(var r=i.__values(c.getChildren(t)),o=r.next();!o.done;o=r.next()){e(o.value)}}catch(e){n={error:e}}finally{try{o&&!o.done&&(a=r.return)&&a.call(r)}finally{if(n)throw n.error}}}(this),this.history=!0===this.config.history?"shallow":this.config.history||!1,this._transient=!!this.config.always||!!this.config.on&&(Array.isArray(this.config.on)?this.config.on.some((function(e){return e.event===f})):f in this.config.on),this.strict=!!this.config.strict,this.onEntry=o.toArray(this.config.entry||this.config.onEntry).map((function(e){return u.toActionObject(e)})),this.onExit=o.toArray(this.config.exit||this.config.onExit).map((function(e){return u.toActionObject(e)})),this.meta=this.config.meta,this.doneData="final"===this.type?this.config.data:void 0,this.invoke=o.toArray(this.config.invoke).map((function(e,t){var n,a;if(o.isMachine(e))return d.machine.options.services=i.__assign(((n={})[e.id]=e,n),d.machine.options.services),p.toInvokeDefinition({src:e.id,id:e.id});if(o.isString(e.src))return p.toInvokeDefinition(i.__assign(i.__assign({},e),{id:e.id||e.src,src:e.src}));if(o.isMachine(e.src)||o.isFunction(e.src)){var r="".concat(d.id,":invocation[").concat(t,"]");return d.machine.options.services=i.__assign(((a={})[r]=e.src,a),d.machine.options.services),p.toInvokeDefinition(i.__assign(i.__assign({id:r},e),{src:r}))}var s=e.src;return p.toInvokeDefinition(i.__assign(i.__assign({id:s.type},e),{src:s}))})),this.activities=o.toArray(this.config.activities).concat(this.invoke).map((function(e){return u.toActivityDefinition(e)})),this.transition=this.transition.bind(this),this.tags=o.toArray(this.config.tags)}return e.prototype._init=function(){this.__cache.transitions||c.getAllStateNodes(this).forEach((function(e){return e.on}))},e.prototype.withConfig=function(t,n){var a=this.options,r=a.actions,o=a.activities,s=a.guards,c=a.services,l=a.delays;return new e(this.config,{actions:i.__assign(i.__assign({},r),t.actions),activities:i.__assign(i.__assign({},o),t.activities),guards:i.__assign(i.__assign({},s),t.guards),services:i.__assign(i.__assign({},c),t.services),delays:i.__assign(i.__assign({},l),t.delays)},null!=n?n:this.context)},e.prototype.withContext=function(t){return new e(this.config,this.options,t)},Object.defineProperty(e.prototype,"context",{get:function(){return o.isFunction(this._context)?this._context():this._context},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"definition",{get:function(){return{id:this.id,key:this.key,version:this.version,context:this.context,type:this.type,initial:this.initial,history:this.history,states:o.mapValues(this.states,(function(e){return e.definition})),on:this.on,transitions:this.transitions,entry:this.onEntry,exit:this.onExit,activities:this.activities||[],meta:this.meta,order:this.order||-1,data:this.doneData,invoke:this.invoke,description:this.description,tags:this.tags}},enumerable:!1,configurable:!0}),e.prototype.toJSON=function(){return this.definition},Object.defineProperty(e.prototype,"on",{get:function(){if(this.__cache.on)return this.__cache.on;var e=this.transitions;return this.__cache.on=e.reduce((function(e,t){return e[t.eventType]=e[t.eventType]||[],e[t.eventType].push(t),e}),{})},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"after",{get:function(){return this.__cache.delayedTransitions||(this.__cache.delayedTransitions=this.getDelayedTransitions(),this.__cache.delayedTransitions)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"transitions",{get:function(){return this.__cache.transitions||(this.__cache.transitions=this.formatTransitions(),this.__cache.transitions)},enumerable:!1,configurable:!0}),e.prototype.getCandidates=function(e){if(this.__cache.candidates[e])return this.__cache.candidates[e];var t=e===f,n=this.transitions.filter((function(n){var i=n.eventType===e;return t?i:i||n.eventType===m}));return this.__cache.candidates[e]=n,n},e.prototype.getDelayedTransitions=function(){var e=this,t=this.config.after;if(!t)return[];var n=function(t,n){var i=o.isFunction(t)?"".concat(e.id,":delay[").concat(n,"]"):t,a=u.after(i,e.id);return e.onEntry.push(u.send(a,{delay:t})),e.onExit.push(u.cancel(a)),a};return(o.isArray(t)?t.map((function(e,t){var a=n(e.delay,t);return i.__assign(i.__assign({},e),{event:a})})):o.flatten(o.keys(t).map((function(e,a){var r=t[e],s=o.isString(r)?{target:r}:r,c=isNaN(+e)?e:+e,l=n(c,a);return o.toArray(s).map((function(e){return i.__assign(i.__assign({},e),{event:l,delay:c})}))})))).map((function(t){var n=t.delay;return i.__assign(i.__assign({},e.formatTransition(t)),{delay:n})}))},e.prototype.getStateNodes=function(e){var t,n=this;if(!e)return[];var i=e instanceof d.State?e.value:o.toStateValue(e,this.delimiter);if(o.isString(i)){var a=this.getStateNode(i).initial;return void 0!==a?this.getStateNodes(((t={})[i]=a,t)):[this,this.states[i]]}var r=o.keys(i),s=r.map((function(e){return n.getStateNode(e)}));return s.push(this),s.concat(r.reduce((function(e,t){var a=n.getStateNode(t).getStateNodes(i[t]);return e.concat(a)}),[]))},e.prototype.handles=function(e){var t=o.getEventType(e);return this.events.includes(t)},e.prototype.resolveState=function(e){var t=Array.from(c.getConfiguration([],this.getStateNodes(e.value)));return new d.State(i.__assign(i.__assign({},e),{value:this.resolve(e.value),configuration:t,done:c.isInFinalState(t,this),tags:c.getTagsFromConfiguration(t)}))},e.prototype.transitionLeafNode=function(e,t,n){var i=this.getStateNode(e).next(t,n);return i&&i.transitions.length?i:this.next(t,n)},e.prototype.transitionCompoundNode=function(e,t,n){var i=o.keys(e),a=this.getStateNode(i[0])._transition(e[i[0]],t,n);return a&&a.transitions.length?a:this.next(t,n)},e.prototype.transitionParallelNode=function(e,t,n){var a,r,s={};try{for(var c=i.__values(o.keys(e)),l=c.next();!l.done;l=c.next()){var u=l.value,d=e[u];if(d){var h=this.getStateNode(u)._transition(d,t,n);h&&(s[u]=h)}}}catch(e){a={error:e}}finally{try{l&&!l.done&&(r=c.return)&&r.call(c)}finally{if(a)throw a.error}}var p=o.keys(s).map((function(e){return s[e]})),f=o.flatten(p.map((function(e){return e.transitions})));if(!p.some((function(e){return e.transitions.length>0})))return this.next(t,n);var m=o.flatten(p.map((function(e){return e.entrySet}))),g=o.flatten(o.keys(s).map((function(e){return s[e].configuration})));return{transitions:f,entrySet:m,exitSet:o.flatten(p.map((function(e){return e.exitSet}))),configuration:g,source:t,actions:o.flatten(o.keys(s).map((function(e){return s[e].actions})))}},e.prototype._transition=function(e,t,n){return o.isString(e)?this.transitionLeafNode(e,t,n):1===o.keys(e).length?this.transitionCompoundNode(e,t,n):this.transitionParallelNode(e,t,n)},e.prototype.next=function(e,t){var n,a,r,s=this,c=t.name,l=[],u=[];try{for(var d=i.__values(this.getCandidates(c)),h=d.next();!h.done;h=d.next()){var p=h.value,f=p.cond,m=p.in,g=e.context,y=!m||(o.isString(m)&&v(m)?e.matches(o.toStateValue(this.getStateNodeById(m).path,this.delimiter)):o.matchesState(o.toStateValue(m,this.delimiter),o.path(this.path.slice(0,-2))(e.value))),_=!1;try{_=!f||o.evaluateGuard(this.machine,f,g,t,e)}catch(e){throw new Error("Unable to evaluate guard '".concat(f.name||f.type,"' in transition for event '").concat(c,"' in state node '").concat(this.id,"':\n").concat(e.message))}if(_&&y){void 0!==p.target&&(u=p.target),l.push.apply(l,i.__spreadArray([],i.__read(p.actions),!1)),r=p;break}}}catch(e){n={error:e}}finally{try{h&&!h.done&&(a=d.return)&&a.call(d)}finally{if(n)throw n.error}}if(r){if(!u.length)return{transitions:[r],entrySet:[],exitSet:[],configuration:e.value?[this]:[],source:e,actions:l};var b=o.flatten(u.map((function(t){return s.getRelativeStateNodes(t,e.historyValue)}))),S=!!r.internal;return{transitions:[r],entrySet:S?[]:o.flatten(b.map((function(e){return s.nodesFromChild(e)}))),exitSet:S?[]:[this],configuration:b,source:e,actions:l}}},e.prototype.nodesFromChild=function(e){if(e.escapes(this))return[];for(var t=[],n=e;n&&n!==this;)t.push(n),n=n.parent;return t.push(this),t},e.prototype.escapes=function(e){if(this===e)return!1;for(var t=this.parent;t;){if(t===e)return!1;t=t.parent}return!0},e.prototype.getActions=function(e,t,n,a){var r,s,l,d,h=c.getConfiguration([],a?this.getStateNodes(a.value):[this]),p=e.configuration.length?c.getConfiguration(h,e.configuration):h;try{for(var f=i.__values(p),m=f.next();!m.done;m=f.next()){var g=m.value;c.has(h,g)||e.entrySet.push(g)}}catch(e){r={error:e}}finally{try{m&&!m.done&&(s=f.return)&&s.call(f)}finally{if(r)throw r.error}}try{for(var v=i.__values(h),y=v.next();!y.done;y=v.next()){g=y.value;c.has(p,g)&&!c.has(e.exitSet,g.parent)||e.exitSet.push(g)}}catch(e){l={error:e}}finally{try{y&&!y.done&&(d=v.return)&&d.call(v)}finally{if(l)throw l.error}}e.source||(e.exitSet=[],e.entrySet.push(this));var _=o.flatten(e.entrySet.map((function(i){var a=[];if("final"!==i.type)return a;var r=i.parent;if(!r.parent)return a;a.push(u.done(i.id,i.doneData),u.done(r.id,i.doneData?o.mapContext(i.doneData,t,n):void 0));var s=r.parent;return"parallel"===s.type&&c.getChildren(s).every((function(t){return c.isInFinalState(e.configuration,t)}))&&a.push(u.done(s.id)),a})));e.exitSet.sort((function(e,t){return t.order-e.order})),e.entrySet.sort((function(e,t){return e.order-t.order}));var b=new Set(e.entrySet),S=new Set(e.exitSet),E=i.__read([o.flatten(Array.from(b).map((function(e){return i.__spreadArray(i.__spreadArray([],i.__read(e.activities.map((function(e){return u.start(e)}))),!1),i.__read(e.onEntry),!1)}))).concat(_.map(u.raise)),o.flatten(Array.from(S).map((function(e){return i.__spreadArray(i.__spreadArray([],i.__read(e.onExit),!1),i.__read(e.activities.map((function(e){return u.stop(e)}))),!1)})))],2),T=E[0],w=E[1];return u.toActionObjects(w.concat(e.actions).concat(T),this.machine.options.actions)},e.prototype.transition=function(e,t,n){void 0===e&&(e=this.initialState);var a,s=o.toSCXMLEvent(t);if(e instanceof d.State)a=void 0===n?e:this.resolveState(d.State.from(e,n));else{var l=o.isString(e)?this.resolve(o.pathToStateValue(this.getResolvedPath(e))):this.resolve(e),u=null!=n?n:this.machine.context;a=this.resolveState(d.State.from(l,u))}if(!r.IS_PRODUCTION&&s.name===m)throw new Error("An event cannot have the wildcard type ('".concat(m,"')"));if(this.strict&&!this.events.includes(s.name)&&!o.isBuiltInEvent(s.name))throw new Error("Machine '".concat(this.id,"' does not accept event '").concat(s.name,"'"));var h=this._transition(a.value,a,s)||{transitions:[],configuration:[],entrySet:[],exitSet:[],source:a,actions:[]},p=c.getConfiguration([],this.getStateNodes(a.value)),f=h.configuration.length?c.getConfiguration(p,h.configuration):p;return h.configuration=i.__spreadArray([],i.__read(f),!1),this.resolveTransition(h,a,s)},e.prototype.resolveRaisedTransition=function(e,t,n){var a,r=e.actions;return(e=this.transition(e,t))._event=n,e.event=n.data,(a=e.actions).unshift.apply(a,i.__spreadArray([],i.__read(r),!1)),e},e.prototype.resolveTransition=function(e,t,n,a){var r,p,m=this;void 0===n&&(n=u.initEvent),void 0===a&&(a=this.machine.context);var g=e.configuration,v=!t||e.transitions.length>0,y=v?c.getValue(this.machine,g):void 0,_=t?t.historyValue?t.historyValue:e.source?this.machine.historyValue(t.value):void 0:void 0,b=t?t.context:a,S=this.getActions(e,b,n,t),E=t?i.__assign({},t.activities):{};try{for(var T=i.__values(S),w=T.next();!w.done;w=T.next()){var C=w.value;C.type===l.start?E[C.activity.id||C.activity.type]=C:C.type===l.stop&&(E[C.activity.id||C.activity.type]=!1)}}catch(e){r={error:e}}finally{try{w&&!w.done&&(p=T.return)&&p.call(T)}finally{if(r)throw r.error}}var k=i.__read(u.resolveActions(this,t,b,n,S,this.machine.config.preserveActionOrder),2),x=k[0],D=k[1],A=i.__read(o.partition(x,(function(e){return e.type===l.raise||e.type===l.send&&e.to===s.SpecialTargets.Internal})),2),P=A[0],O=A[1],I=x.filter((function(e){var t;return e.type===l.start&&(null===(t=e.activity)||void 0===t?void 0:t.type)===l.invoke})),M=I.reduce((function(e,t){return e[t.activity.id]=h.createInvocableActor(t.activity,m.machine,D,n),e}),t?i.__assign({},t.children):{}),L=y?e.configuration:t?t.configuration:[],N=c.isInFinalState(L,this),j=new d.State({value:y||t.value,context:D,_event:n,_sessionid:t?t._sessionid:null,historyValue:y?_?o.updateHistoryValue(_,y):void 0:t?t.historyValue:void 0,history:!y||e.source?t:void 0,actions:y?O:[],activities:y?E:t?t.activities:{},events:[],configuration:L,transitions:e.transitions,children:M,done:N,tags:null==t?void 0:t.tags,machine:this}),R=b!==D;j.changed=n.name===l.update||R;var F=j.history;F&&delete F.history;var V=!N&&(this._transient||g.some((function(e){return e._transient})));if(!(v||V&&n.name!==f))return j;var B=j;if(!N)for(V&&(B=this.resolveRaisedTransition(B,{type:l.nullEvent},n));P.length;){var z=P.shift();B=this.resolveRaisedTransition(B,z._event,n)}var Z=B.changed||(F?!!B.actions.length||R||typeof F.value!=typeof B.value||!d.stateValuesEqual(B.value,F.value):void 0);return B.changed=Z,B.history=F,B.tags=c.getTagsFromConfiguration(B.configuration),B},e.prototype.getStateNode=function(e){if(v(e))return this.machine.getStateNodeById(e);if(!this.states)throw new Error("Unable to retrieve child state '".concat(e,"' from '").concat(this.id,"'; no child states exist."));var t=this.states[e];if(!t)throw new Error("Child state '".concat(e,"' does not exist on '").concat(this.id,"'"));return t},e.prototype.getStateNodeById=function(e){var t=v(e)?e.slice("#".length):e;if(t===this.id)return this;var n=this.machine.idMap[t];if(!n)throw new Error("Child state node '#".concat(t,"' does not exist on machine '").concat(this.id,"'"));return n},e.prototype.getStateNodeByPath=function(e){if("string"==typeof e&&v(e))try{return this.getStateNodeById(e.slice(1))}catch(e){}for(var t=o.toStatePath(e,this.delimiter).slice(),n=this;t.length;){var i=t.shift();if(!i.length)break;n=n.getStateNode(i)}return n},e.prototype.resolve=function(e){var t,n=this;if(!e)return this.initialStateValue||g;switch(this.type){case"parallel":return o.mapValues(this.initialStateValue,(function(t,i){return t?n.getStateNode(i).resolve(e[i]||t):g}));case"compound":if(o.isString(e)){var i=this.getStateNode(e);return"parallel"===i.type||"compound"===i.type?((t={})[e]=i.initialStateValue,t):e}return o.keys(e).length?o.mapValues(e,(function(e,t){return e?n.getStateNode(t).resolve(e):g})):this.initialStateValue||{};default:return e||g}},e.prototype.getResolvedPath=function(e){if(v(e)){var t=this.machine.idMap[e.slice("#".length)];if(!t)throw new Error("Unable to find state node '".concat(e,"'"));return t.path}return o.toStatePath(e,this.delimiter)},Object.defineProperty(e.prototype,"initialStateValue",{get:function(){var e,t;if(this.__cache.initialStateValue)return this.__cache.initialStateValue;if("parallel"===this.type)t=o.mapFilterValues(this.states,(function(e){return e.initialStateValue||g}),(function(e){return!("history"===e.type)}));else if(void 0!==this.initial){if(!this.states[this.initial])throw new Error("Initial state '".concat(this.initial,"' not found on '").concat(this.key,"'"));t=c.isLeafNode(this.states[this.initial])?this.initial:((e={})[this.initial]=this.states[this.initial].initialStateValue,e)}else t={};return this.__cache.initialStateValue=t,this.__cache.initialStateValue},enumerable:!1,configurable:!0}),e.prototype.getInitialState=function(e,t){var n=this.getStateNodes(e);return this.resolveTransition({configuration:n,entrySet:n,exitSet:[],transitions:[],source:void 0,actions:[]},void 0,void 0,t)},Object.defineProperty(e.prototype,"initialState",{get:function(){this._init();var e=this.initialStateValue;if(!e)throw new Error("Cannot retrieve initial state from simple state '".concat(this.id,"'."));return this.getInitialState(e)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"target",{get:function(){var e;if("history"===this.type){var t=this.config;e=o.isString(t.target)&&v(t.target)?o.pathToStateValue(this.machine.getStateNodeById(t.target).path.slice(this.path.length-1)):t.target}return e},enumerable:!1,configurable:!0}),e.prototype.getRelativeStateNodes=function(e,t,n){return void 0===n&&(n=!0),n?"history"===e.type?e.resolveHistory(t):e.initialStateNodes:[e]},Object.defineProperty(e.prototype,"initialStateNodes",{get:function(){var e=this;if(c.isLeafNode(this))return[this];if("compound"===this.type&&!this.initial)return r.IS_PRODUCTION||o.warn(!1,"Compound state node '".concat(this.id,"' has no initial state.")),[this];var t=o.toStatePaths(this.initialStateValue);return o.flatten(t.map((function(t){return e.getFromRelativePath(t)})))},enumerable:!1,configurable:!0}),e.prototype.getFromRelativePath=function(e){if(!e.length)return[this];var t=i.__read(e),n=t[0],a=t.slice(1);if(!this.states)throw new Error("Cannot retrieve subPath '".concat(n,"' from node with no states"));var r=this.getStateNode(n);if("history"===r.type)return r.resolveHistory();if(!this.states[n])throw new Error("Child state '".concat(n,"' does not exist on '").concat(this.id,"'"));return this.states[n].getFromRelativePath(a)},e.prototype.historyValue=function(e){if(o.keys(this.states).length)return{current:e||this.initialStateValue,states:o.mapFilterValues(this.states,(function(t,n){if(!e)return t.historyValue();var i=o.isString(e)?void 0:e[n];return t.historyValue(i||t.initialStateValue)}),(function(e){return!e.history}))}},e.prototype.resolveHistory=function(e){var t=this;if("history"!==this.type)return[this];var n=this.parent;if(!e){var i=this.target;return i?o.flatten(o.toStatePaths(i).map((function(e){return n.getFromRelativePath(e)}))):n.initialStateNodes}var a=o.nestedPath(n.path,"states")(e).current;return o.isString(a)?[n.getStateNode(a)]:o.flatten(o.toStatePaths(a).map((function(e){return"deep"===t.history?n.getFromRelativePath(e):[n.states[e[0]]]})))},Object.defineProperty(e.prototype,"stateIds",{get:function(){var e=this,t=o.flatten(o.keys(this.states).map((function(t){return e.states[t].stateIds})));return[this.id].concat(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"events",{get:function(){var e,t,n,a;if(this.__cache.events)return this.__cache.events;var r=this.states,s=new Set(this.ownEvents);if(r)try{for(var c=i.__values(o.keys(r)),l=c.next();!l.done;l=c.next()){var u=r[l.value];if(u.states)try{for(var d=(n=void 0,i.__values(u.events)),h=d.next();!h.done;h=d.next()){var p=h.value;s.add("".concat(p))}}catch(e){n={error:e}}finally{try{h&&!h.done&&(a=d.return)&&a.call(d)}finally{if(n)throw n.error}}}}catch(t){e={error:t}}finally{try{l&&!l.done&&(t=c.return)&&t.call(c)}finally{if(e)throw e.error}}return this.__cache.events=Array.from(s)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ownEvents",{get:function(){var e=new Set(this.transitions.filter((function(e){return!(!e.target&&!e.actions.length&&e.internal)})).map((function(e){return e.eventType})));return Array.from(e)},enumerable:!1,configurable:!0}),e.prototype.resolveTarget=function(e){var t=this;if(void 0!==e)return e.map((function(e){if(!o.isString(e))return e;var n=e[0]===t.delimiter;if(n&&!t.parent)return t.getStateNodeByPath(e.slice(1));var i=n?t.key+e:e;if(!t.parent)return t.getStateNodeByPath(i);try{return t.parent.getStateNodeByPath(i)}catch(e){throw new Error("Invalid transition definition for state node '".concat(t.id,"':\n").concat(e.message))}}))},e.prototype.formatTransition=function(e){var t=this,n=o.normalizeTarget(e.target),a="internal"in e?e.internal:!n||n.some((function(e){return o.isString(e)&&e[0]===t.delimiter})),r=this.machine.options.guards,s=this.resolveTarget(n),c=i.__assign(i.__assign({},e),{actions:u.toActionObjects(o.toArray(e.actions)),cond:o.toGuard(e.cond,r),target:s,source:this,internal:a,eventType:e.event,toJSON:function(){return i.__assign(i.__assign({},c),{target:c.target?c.target.map((function(e){return"#".concat(e.id)})):void 0,source:"#".concat(t.id)})}});return c},e.prototype.formatTransitions=function(){var e,t,n,a=this;if(this.config.on)if(Array.isArray(this.config.on))n=this.config.on;else{var s=this.config.on,c=m,l=s[c],d=void 0===l?[]:l,h=i.__rest(s,["*"]);n=o.flatten(o.keys(h).map((function(e){r.IS_PRODUCTION||e!==f||o.warn(!1,"Empty string transition configs (e.g., `{ on: { '': ... }}`) for transient transitions are deprecated. Specify the transition in the `{ always: ... }` property instead. "+'Please check the `on` configuration for "#'.concat(a.id,'".'));var t,n,i,s,c=o.toTransitionConfigArray(e,h[e]);return r.IS_PRODUCTION||(t=a,n=e,i=c.slice(0,-1).some((function(e){return!("cond"in e)&&!("in"in e)&&(o.isString(e.target)||o.isMachine(e.target))})),s=n===f?"the transient event":"event '".concat(n,"'"),o.warn(!i,"One or more transitions for ".concat(s," on state '").concat(t.id,"' are unreachable. ")+"Make sure that the default transition is the last one defined.")),c})).concat(o.toTransitionConfigArray(m,d)))}else n=[];var p=this.config.always?o.toTransitionConfigArray("",this.config.always):[],g=this.config.onDone?o.toTransitionConfigArray(String(u.done(this.id)),this.config.onDone):[];r.IS_PRODUCTION||o.warn(!(this.config.onDone&&!this.parent),'Root nodes cannot have an ".onDone" transition. Please check the config of "'.concat(this.id,'".'));var v=o.flatten(this.invoke.map((function(e){var t=[];return e.onDone&&t.push.apply(t,i.__spreadArray([],i.__read(o.toTransitionConfigArray(String(u.doneInvoke(e.id)),e.onDone)),!1)),e.onError&&t.push.apply(t,i.__spreadArray([],i.__read(o.toTransitionConfigArray(String(u.error(e.id)),e.onError)),!1)),t}))),y=this.after,_=o.flatten(i.__spreadArray(i.__spreadArray(i.__spreadArray(i.__spreadArray([],i.__read(g),!1),i.__read(v),!1),i.__read(n),!1),i.__read(p),!1).map((function(e){return o.toArray(e).map((function(e){return a.formatTransition(e)}))})));try{for(var b=i.__values(y),S=b.next();!S.done;S=b.next()){var E=S.value;_.push(E)}}catch(t){e={error:t}}finally{try{S&&!S.done&&(t=b.return)&&t.call(b)}finally{if(e)throw e.error}}return _},e}();t.StateNode=y},41428:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});var i=n(80552),a=n(29660),r=n(50509),o=n(27108),s=n(73487),c=r.toSCXMLEvent({type:s.init});function l(e,t){return t&&t[e]||void 0}function u(e,t){var n;if(r.isString(e)||"number"==typeof e){var a=l(e,t);n=r.isFunction(a)?{type:e,exec:a}:a||{type:e,exec:void 0}}else if(r.isFunction(e))n={type:e.name||e.toString(),exec:e};else{a=l(e.type,t);if(r.isFunction(a))n=i.__assign(i.__assign({},e),{exec:a});else if(a){var o=a.type||e.type;n=i.__assign(i.__assign(i.__assign({},a),e),{type:o})}else n=e}return n}var d=function(e,t){return e?(r.isArray(e)?e:[e]).map((function(e){return u(e,t)})):[]};function h(e){var t=u(e);return i.__assign(i.__assign({id:r.isString(e)?e:t.id},t),{type:t.type})}function p(e){return{type:s.raise,_event:r.toSCXMLEvent(e.event)}}function f(e,t){return{to:t?t.to:void 0,type:s.send,event:r.isFunction(e)?e:r.toEventObject(e),delay:t?t.delay:void 0,id:t&&void 0!==t.id?t.id:r.isFunction(e)?e.name:r.getEventType(e)}}function m(e,t,n,a){var o,s={_event:n},c=r.toSCXMLEvent(r.isFunction(e.event)?e.event(t,n.data,s):e.event);if(r.isString(e.delay)){var l=a&&a[e.delay];o=r.isFunction(l)?l(t,n.data,s):l}else o=r.isFunction(e.delay)?e.delay(t,n.data,s):e.delay;var u=r.isFunction(e.to)?e.to(t,n.data,s):e.to;return i.__assign(i.__assign({},e),{to:u,_event:c,event:c.data,delay:o})}function g(e,t){return f(e,i.__assign(i.__assign({},t),{to:o.SpecialTargets.Parent}))}var v=function(e,t){return{context:e,event:t}};var y=function(e,t,n){return i.__assign(i.__assign({},e),{value:r.isString(e.expr)?e.expr:e.expr(t,n.data,{_event:n})})};function _(e,t,n){var i=r.isFunction(e.activity)?e.activity(t,n.data):e.activity,a="string"==typeof i?{id:i}:i;return{type:o.ActionTypes.Stop,activity:a}}t.after=function(e,t){var n=t?"#".concat(t):"";return"".concat(o.ActionTypes.After,"(").concat(e,")").concat(n)},t.assign=function(e){return{type:s.assign,assignment:e}},t.cancel=function(e){return{type:s.cancel,sendId:e}},t.choose=function(e){return{type:o.ActionTypes.Choose,conds:e}},t.done=function(e,t){var n="".concat(o.ActionTypes.DoneState,".").concat(e),i={type:n,data:t,toString:function(){return n}};return i},t.doneInvoke=function(e,t){var n="".concat(o.ActionTypes.DoneInvoke,".").concat(e),i={type:n,data:t,toString:function(){return n}};return i},t.error=function(e,t){var n="".concat(o.ActionTypes.ErrorPlatform,".").concat(e),i={type:n,data:t,toString:function(){return n}};return i},t.escalate=function(e,t){return g((function(t,n,i){return{type:s.error,data:r.isFunction(e)?e(t,n,i):e}}),i.__assign(i.__assign({},t),{to:o.SpecialTargets.Parent}))},t.forwardTo=function(e,t){return f((function(e,t){return t}),i.__assign(i.__assign({},t),{to:e}))},t.getActionFunction=l,t.initEvent=c,t.log=function(e,t){return void 0===e&&(e=v),{type:s.log,label:t,expr:e}},t.pure=function(e){return{type:o.ActionTypes.Pure,get:e}},t.raise=function(e){return r.isString(e)?{type:s.raise,event:e}:f(e,{to:o.SpecialTargets.Internal})},t.resolveActions=function e(t,n,o,c,l,h){void 0===h&&(h=!1);var f=i.__read(h?[[],l]:r.partition(l,(function(e){return e.type===s.assign})),2),g=f[0],v=f[1],b=g.length?r.updateContext(o,c,g,n):o,S=h?[o]:void 0,E=r.flatten(v.map((function(o){var l;switch(o.type){case s.raise:return p(o);case s.send:var f=m(o,b,c,t.options.delays);return a.IS_PRODUCTION||r.warn(!r.isString(o.delay)||"number"==typeof f.delay,"No delay reference for delay expression '".concat(o.delay,"' was found on machine '").concat(t.id,"'")),f;case s.log:return y(o,b,c);case s.choose:if(!(T=null===(l=o.conds.find((function(e){var i=r.toGuard(e.cond,t.options.guards);return!i||r.evaluateGuard(t,i,b,c,n)})))||void 0===l?void 0:l.actions))return[];var g=i.__read(e(t,n,b,c,d(r.toArray(T),t.options.actions),h),2),v=g[0],E=g[1];return b=E,null==S||S.push(b),v;case s.pure:var T;if(!(T=o.get(b,c.data)))return[];var w=i.__read(e(t,n,b,c,d(r.toArray(T),t.options.actions),h),2),C=w[0],k=w[1];return b=k,null==S||S.push(b),C;case s.stop:return _(o,b,c);case s.assign:b=r.updateContext(b,c,[o],n),null==S||S.push(b);break;default:var x=u(o,t.options.actions),D=x.exec;if(D&&S){var A=S.length-1;x=i.__assign(i.__assign({},x),{exec:function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];D.apply(void 0,i.__spreadArray([S[A]],i.__read(t),!1))}})}return x}})).filter((function(e){return!!e})));return[E,b]},t.resolveLog=y,t.resolveRaise=p,t.resolveSend=m,t.resolveStop=_,t.respond=function(e,t){return f(e,i.__assign(i.__assign({},t),{to:function(e,t,n){return n._event.origin}}))},t.send=f,t.sendParent=g,t.sendUpdate=function(){return g(s.update)},t.start=function(e){var t=h(e);return{type:o.ActionTypes.Start,activity:t,exec:void 0}},t.stop=function(e){var t=r.isFunction(e)?e:h(e);return{type:o.ActionTypes.Stop,activity:t,exec:void 0}},t.toActionObject=u,t.toActionObjects=d,t.toActivityDefinition=h},30290:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});var i=n(80552);n(29660),n(50509),n(27108);var a=n(73487);function r(e){if("string"==typeof e){var t={type:e,toString:function(){return e}};return t}return e}t.toInvokeDefinition=function(e){return i.__assign(i.__assign({type:a.invoke},e),{toJSON:function(){e.onDone,e.onError;var t=i.__rest(e,["onDone","onError"]);return i.__assign(i.__assign({},t),{type:a.invoke,src:r(e.src)})}})},t.toInvokeSource=r},66310:function(e,t,n){var i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},i.apply(this,arguments)},a=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var i,a,r=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(e){a={error:e}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return o},r=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var i,a=0,r=t.length;a<r;a++)!i&&a in t||(i||(i=Array.prototype.slice.call(t,0,a)),i[a]=t[a]);return e.concat(i||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.createModel=void 0;var o=n(41428),s=n(35294),c=n(50509);t.createModel=function(e,t){var n=null==t?void 0:t.events,l=null==t?void 0:t.actions,u={initialContext:e,assign:o.assign,events:n?(0,c.mapValues)(n,(function(e,t){return function(){for(var n=[],o=0;o<arguments.length;o++)n[o]=arguments[o];return i(i({},e.apply(void 0,r([],a(n),!1))),{type:t})}})):void 0,actions:l?(0,c.mapValues)(l,(function(e,t){return function(){for(var n=[],o=0;o<arguments.length;o++)n[o]=arguments[o];return i(i({},e.apply(void 0,r([],a(n),!1))),{type:t})}})):void 0,reset:function(){return(0,o.assign)(e)},createMachine:function(t,n){return(0,s.createMachine)("context"in t?t:i(i({},t),{context:e}),n)}};return u}},52119:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});var i=n(80552),a=n(50509),r=function(e){return"atomic"===e.type||"final"===e.type};function o(e){return a.keys(e.states).map((function(t){return e.states[t]}))}function s(e,t){var n,a,r,s,c,u,d,h,p=l(new Set(e)),f=new Set(t);try{for(var m=i.__values(f),g=m.next();!g.done;g=m.next())for(var v=(k=g.value).parent;v&&!f.has(v);)f.add(v),v=v.parent}catch(e){n={error:e}}finally{try{g&&!g.done&&(a=m.return)&&a.call(m)}finally{if(n)throw n.error}}var y=l(f);try{for(var _=i.__values(f),b=_.next();!b.done;b=_.next()){if("compound"!==(k=b.value).type||y.get(k)&&y.get(k).length){if("parallel"===k.type)try{for(var S=(c=void 0,i.__values(o(k))),E=S.next();!E.done;E=S.next()){var T=E.value;"history"!==T.type&&(f.has(T)||(f.add(T),p.get(T)?p.get(T).forEach((function(e){return f.add(e)})):T.initialStateNodes.forEach((function(e){return f.add(e)}))))}}catch(e){c={error:e}}finally{try{E&&!E.done&&(u=S.return)&&u.call(S)}finally{if(c)throw c.error}}}else p.get(k)?p.get(k).forEach((function(e){return f.add(e)})):k.initialStateNodes.forEach((function(e){return f.add(e)}))}}catch(e){r={error:e}}finally{try{b&&!b.done&&(s=_.return)&&s.call(_)}finally{if(r)throw r.error}}try{for(var w=i.__values(f),C=w.next();!C.done;C=w.next()){var k;for(v=(k=C.value).parent;v&&!f.has(v);)f.add(v),v=v.parent}}catch(e){d={error:e}}finally{try{C&&!C.done&&(h=w.return)&&h.call(w)}finally{if(d)throw d.error}}return f}function c(e,t){var n=t.get(e);if(!n)return{};if("compound"===e.type){var i=n[0];if(!i)return{};if(r(i))return i.key}var a={};return n.forEach((function(e){a[e.key]=c(e,t)})),a}function l(e){var t,n,a=new Map;try{for(var r=i.__values(e),o=r.next();!o.done;o=r.next()){var s=o.value;a.has(s)||a.set(s,[]),s.parent&&(a.has(s.parent)||a.set(s.parent,[]),a.get(s.parent).push(s))}}catch(e){t={error:e}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}return a}function u(e,t){return Array.isArray(e)?e.some((function(e){return e===t})):e instanceof Set&&e.has(t)}t.getAdjList=l,t.getAllStateNodes=function e(t){var n=[t];return r(t)?n:n.concat(a.flatten(o(t).map(e)))},t.getChildren=o,t.getConfiguration=s,t.getMeta=function(e){return void 0===e&&(e=[]),e.reduce((function(e,t){return void 0!==t.meta&&(e[t.id]=t.meta),e}),{})},t.getTagsFromConfiguration=function(e){return new Set(a.flatten(e.map((function(e){return e.tags}))))},t.getValue=function(e,t){return c(e,l(s([e],t)))},t.has=u,t.isInFinalState=function e(t,n){return"compound"===n.type?o(n).some((function(e){return"final"===e.type&&u(t,e)})):"parallel"===n.type&&o(n).every((function(n){return e(t,n)}))},t.isLeafNode=r,t.nextEvents=function(e){return i.__spreadArray([],i.__read(new Set(a.flatten(i.__spreadArray([],i.__read(e.map((function(e){return e.ownEvents}))),!1)))),!1)}}}]);
