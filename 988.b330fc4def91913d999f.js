(self.webpackChunkmk_ui_frontend=self.webpackChunkmk_ui_frontend||[]).push([[988],{3043:(e,t,n)=>{"use strict";n.d(t,{L:()=>K});var a,r=n(70655),i=n(15691),o=n.n(i),c=n(5977),l=n(17751),s=n(91995),u=n(55459),d=function(e){var t=e.createStreamsInstance,n=e.setCreateStreamsInstance,a=(0,l.useTranslation)().t;return o().createElement(o().Fragment,null,o().createElement(s.EmptyState,null,o().createElement(s.EmptyStateIcon,{icon:u.PlusCircleIcon}),o().createElement(s.Title,{headingLevel:"h4",size:"lg"},a("you_do_not_have_any_streams_instances_yet")),o().createElement(s.EmptyStateBody,null,a("create_a_streams_instance_to_get_started")),o().createElement(s.Button,{variant:"primary",onClick:function(){n(!t)}},a("create_a_streams_instance"))))},m=n(42953),p=n(8575),f=n(69104),v=n.n(f),h="https://api.openshift.com".replace(/\/+$/,""),g=function(e,t,n){void 0===t&&(t=h),void 0===n&&(n=v()),this.basePath=t,this.axios=n,e&&(this.configuration=e,this.basePath=e.basePath||this.basePath)},E=function(e){function t(t,n){var a=e.call(this,n)||this;return a.field=t,a.name="RequiredError",a}return(0,r.ZT)(t,e),t}(Error),_=function(e){var t=this;return{createKafka:function(n,a,i){return void 0===i&&(i={}),(0,r.mG)(t,void 0,Promise,(function(){var t,o,c,l,s,u,d,m;return(0,r.Jh)(this,(function(f){if(null==n)throw new E("async","Required parameter async was null or undefined when calling createKafka.");if(null==a)throw new E("kafkaRequestPayload","Required parameter kafkaRequestPayload was null or undefined when calling createKafka.");return"/api/managed-services-api/v1/kafkas",t=p.Qc("/api/managed-services-api/v1/kafkas",!0),e&&(o=e.baseOptions),c=(0,r.pi)((0,r.pi)({method:"POST"},o),i),l={},s={},e&&e.accessToken&&(u="function"==typeof e.accessToken?e.accessToken():e.accessToken,l.Authorization="Bearer "+u),void 0!==n&&(s.async=n),l["Content-Type"]="application/json",t.query=(0,r.pi)((0,r.pi)((0,r.pi)({},t.query),s),i.query),delete t.search,d=o&&o.headers?o.headers:{},c.headers=(0,r.pi)((0,r.pi)((0,r.pi)({},l),d),i.headers),m="string"!=typeof a||"application/json"===c.headers["Content-Type"],c.data=m?JSON.stringify(void 0!==a?a:{}):a||"",[2,{url:p.WU(t),options:c}]}))}))},createServiceAccount:function(n,a){return void 0===a&&(a={}),(0,r.mG)(t,void 0,Promise,(function(){var t,i,o,c,l,s,u,d;return(0,r.Jh)(this,(function(m){if(null==n)throw new E("serviceAccountRequest","Required parameter serviceAccountRequest was null or undefined when calling createServiceAccount.");return"/api/managed-services-api/v1/serviceaccounts",t=p.Qc("/api/managed-services-api/v1/serviceaccounts",!0),e&&(i=e.baseOptions),o=(0,r.pi)((0,r.pi)({method:"POST"},i),a),c={},l={},e&&e.accessToken&&(s="function"==typeof e.accessToken?e.accessToken():e.accessToken,c.Authorization="Bearer "+s),c["Content-Type"]="application/json",t.query=(0,r.pi)((0,r.pi)((0,r.pi)({},t.query),l),a.query),delete t.search,u=i&&i.headers?i.headers:{},o.headers=(0,r.pi)((0,r.pi)((0,r.pi)({},c),u),a.headers),d="string"!=typeof n||"application/json"===o.headers["Content-Type"],o.data=d?JSON.stringify(void 0!==n?n:{}):n||"",[2,{url:p.WU(t),options:o}]}))}))},deleteKafkaById:function(n,a){return void 0===a&&(a={}),(0,r.mG)(t,void 0,Promise,(function(){var t,i,o,c,l,s,u,d;return(0,r.Jh)(this,(function(m){if(null==n)throw new E("id","Required parameter id was null or undefined when calling deleteKafkaById.");return t="/api/managed-services-api/v1/kafkas/{id}".replace("{id}",encodeURIComponent(String(n))),i=p.Qc(t,!0),e&&(o=e.baseOptions),c=(0,r.pi)((0,r.pi)({method:"DELETE"},o),a),l={},s={},e&&e.accessToken&&(u="function"==typeof e.accessToken?e.accessToken():e.accessToken,l.Authorization="Bearer "+u),i.query=(0,r.pi)((0,r.pi)((0,r.pi)({},i.query),s),a.query),delete i.search,d=o&&o.headers?o.headers:{},c.headers=(0,r.pi)((0,r.pi)((0,r.pi)({},l),d),a.headers),[2,{url:p.WU(i),options:c}]}))}))},deleteServiceAccount:function(n,a){return void 0===a&&(a={}),(0,r.mG)(t,void 0,Promise,(function(){var t,i,o,c,l,s,u,d;return(0,r.Jh)(this,(function(m){if(null==n)throw new E("id","Required parameter id was null or undefined when calling deleteServiceAccount.");return t="/api/managed-services-api/v1/serviceaccounts/{id}".replace("{id}",encodeURIComponent(String(n))),i=p.Qc(t,!0),e&&(o=e.baseOptions),c=(0,r.pi)((0,r.pi)({method:"DELETE"},o),a),l={},s={},e&&e.accessToken&&(u="function"==typeof e.accessToken?e.accessToken():e.accessToken,l.Authorization="Bearer "+u),i.query=(0,r.pi)((0,r.pi)((0,r.pi)({},i.query),s),a.query),delete i.search,d=o&&o.headers?o.headers:{},c.headers=(0,r.pi)((0,r.pi)((0,r.pi)({},l),d),a.headers),[2,{url:p.WU(i),options:c}]}))}))},getKafkaById:function(n,a){return void 0===a&&(a={}),(0,r.mG)(t,void 0,Promise,(function(){var t,i,o,c,l,s,u,d;return(0,r.Jh)(this,(function(m){if(null==n)throw new E("id","Required parameter id was null or undefined when calling getKafkaById.");return t="/api/managed-services-api/v1/kafkas/{id}".replace("{id}",encodeURIComponent(String(n))),i=p.Qc(t,!0),e&&(o=e.baseOptions),c=(0,r.pi)((0,r.pi)({method:"GET"},o),a),l={},s={},e&&e.accessToken&&(u="function"==typeof e.accessToken?e.accessToken():e.accessToken,l.Authorization="Bearer "+u),i.query=(0,r.pi)((0,r.pi)((0,r.pi)({},i.query),s),a.query),delete i.search,d=o&&o.headers?o.headers:{},c.headers=(0,r.pi)((0,r.pi)((0,r.pi)({},l),d),a.headers),[2,{url:p.WU(i),options:c}]}))}))},listCloudProviderRegions:function(n,a,i,o){return void 0===o&&(o={}),(0,r.mG)(t,void 0,Promise,(function(){var t,c,l,s,u,d,m,f;return(0,r.Jh)(this,(function(v){if(null==n)throw new E("id","Required parameter id was null or undefined when calling listCloudProviderRegions.");return t="/api/managed-services-api/v1/cloud_providers/{id}/regions".replace("{id}",encodeURIComponent(String(n))),c=p.Qc(t,!0),e&&(l=e.baseOptions),s=(0,r.pi)((0,r.pi)({method:"GET"},l),o),u={},d={},e&&e.accessToken&&(m="function"==typeof e.accessToken?e.accessToken():e.accessToken,u.Authorization="Bearer "+m),void 0!==a&&(d.page=a),void 0!==i&&(d.size=i),c.query=(0,r.pi)((0,r.pi)((0,r.pi)({},c.query),d),o.query),delete c.search,f=l&&l.headers?l.headers:{},s.headers=(0,r.pi)((0,r.pi)((0,r.pi)({},u),f),o.headers),[2,{url:p.WU(c),options:s}]}))}))},listCloudProviders:function(n,a,i){return void 0===i&&(i={}),(0,r.mG)(t,void 0,Promise,(function(){var t,o,c,l,s,u,d;return(0,r.Jh)(this,(function(m){return"/api/managed-services-api/v1/cloud_providers",t=p.Qc("/api/managed-services-api/v1/cloud_providers",!0),e&&(o=e.baseOptions),c=(0,r.pi)((0,r.pi)({method:"GET"},o),i),l={},s={},e&&e.accessToken&&(u="function"==typeof e.accessToken?e.accessToken():e.accessToken,l.Authorization="Bearer "+u),void 0!==n&&(s.page=n),void 0!==a&&(s.size=a),t.query=(0,r.pi)((0,r.pi)((0,r.pi)({},t.query),s),i.query),delete t.search,d=o&&o.headers?o.headers:{},c.headers=(0,r.pi)((0,r.pi)((0,r.pi)({},l),d),i.headers),[2,{url:p.WU(t),options:c}]}))}))},listKafkas:function(n,a,i){return void 0===i&&(i={}),(0,r.mG)(t,void 0,Promise,(function(){var t,o,c,l,s,u,d;return(0,r.Jh)(this,(function(m){return"/api/managed-services-api/v1/kafkas",t=p.Qc("/api/managed-services-api/v1/kafkas",!0),e&&(o=e.baseOptions),c=(0,r.pi)((0,r.pi)({method:"GET"},o),i),l={},s={},e&&e.accessToken&&(u="function"==typeof e.accessToken?e.accessToken():e.accessToken,l.Authorization="Bearer "+u),void 0!==n&&(s.page=n),void 0!==a&&(s.size=a),t.query=(0,r.pi)((0,r.pi)((0,r.pi)({},t.query),s),i.query),delete t.search,d=o&&o.headers?o.headers:{},c.headers=(0,r.pi)((0,r.pi)((0,r.pi)({},l),d),i.headers),[2,{url:p.WU(t),options:c}]}))}))},listServiceAccounts:function(n){return void 0===n&&(n={}),(0,r.mG)(t,void 0,Promise,(function(){var t,a,i,o,c,l,s;return(0,r.Jh)(this,(function(u){return"/api/managed-services-api/v1/serviceaccounts",t=p.Qc("/api/managed-services-api/v1/serviceaccounts",!0),e&&(a=e.baseOptions),i=(0,r.pi)((0,r.pi)({method:"GET"},a),n),o={},c={},e&&e.accessToken&&(l="function"==typeof e.accessToken?e.accessToken():e.accessToken,o.Authorization="Bearer "+l),t.query=(0,r.pi)((0,r.pi)((0,r.pi)({},t.query),c),n.query),delete t.search,s=a&&a.headers?a.headers:{},i.headers=(0,r.pi)((0,r.pi)((0,r.pi)({},o),s),n.headers),[2,{url:p.WU(t),options:i}]}))}))},resetServiceAccountCreds:function(n,a){return void 0===a&&(a={}),(0,r.mG)(t,void 0,Promise,(function(){var t,i,o,c,l,s,u,d;return(0,r.Jh)(this,(function(m){if(null==n)throw new E("id","Required parameter id was null or undefined when calling resetServiceAccountCreds.");return t="/api/managed-services-api/v1/serviceaccounts/{id}/reset-credentials".replace("{id}",encodeURIComponent(String(n))),i=p.Qc(t,!0),e&&(o=e.baseOptions),c=(0,r.pi)((0,r.pi)({method:"POST"},o),a),l={},s={},e&&e.accessToken&&(u="function"==typeof e.accessToken?e.accessToken():e.accessToken,l.Authorization="Bearer "+u),i.query=(0,r.pi)((0,r.pi)((0,r.pi)({},i.query),s),a.query),delete i.search,d=o&&o.headers?o.headers:{},c.headers=(0,r.pi)((0,r.pi)((0,r.pi)({},l),d),a.headers),[2,{url:p.WU(i),options:c}]}))}))}}},b=function(e){return{createKafka:function(t,n,a){return(0,r.mG)(this,void 0,Promise,(function(){var i;return(0,r.Jh)(this,(function(o){switch(o.label){case 0:return[4,_(e).createKafka(t,n,a)];case 1:return i=o.sent(),[2,function(e,t){void 0===e&&(e=v()),void 0===t&&(t=h);var n=(0,r.pi)((0,r.pi)({},i.options),{url:t+i.url});return e.request(n)}]}}))}))},createServiceAccount:function(t,n){return(0,r.mG)(this,void 0,Promise,(function(){var a;return(0,r.Jh)(this,(function(i){switch(i.label){case 0:return[4,_(e).createServiceAccount(t,n)];case 1:return a=i.sent(),[2,function(e,t){void 0===e&&(e=v()),void 0===t&&(t=h);var n=(0,r.pi)((0,r.pi)({},a.options),{url:t+a.url});return e.request(n)}]}}))}))},deleteKafkaById:function(t,n){return(0,r.mG)(this,void 0,Promise,(function(){var a;return(0,r.Jh)(this,(function(i){switch(i.label){case 0:return[4,_(e).deleteKafkaById(t,n)];case 1:return a=i.sent(),[2,function(e,t){void 0===e&&(e=v()),void 0===t&&(t=h);var n=(0,r.pi)((0,r.pi)({},a.options),{url:t+a.url});return e.request(n)}]}}))}))},deleteServiceAccount:function(t,n){return(0,r.mG)(this,void 0,Promise,(function(){var a;return(0,r.Jh)(this,(function(i){switch(i.label){case 0:return[4,_(e).deleteServiceAccount(t,n)];case 1:return a=i.sent(),[2,function(e,t){void 0===e&&(e=v()),void 0===t&&(t=h);var n=(0,r.pi)((0,r.pi)({},a.options),{url:t+a.url});return e.request(n)}]}}))}))},getKafkaById:function(t,n){return(0,r.mG)(this,void 0,Promise,(function(){var a;return(0,r.Jh)(this,(function(i){switch(i.label){case 0:return[4,_(e).getKafkaById(t,n)];case 1:return a=i.sent(),[2,function(e,t){void 0===e&&(e=v()),void 0===t&&(t=h);var n=(0,r.pi)((0,r.pi)({},a.options),{url:t+a.url});return e.request(n)}]}}))}))},listCloudProviderRegions:function(t,n,a,i){return(0,r.mG)(this,void 0,Promise,(function(){var o;return(0,r.Jh)(this,(function(c){switch(c.label){case 0:return[4,_(e).listCloudProviderRegions(t,n,a,i)];case 1:return o=c.sent(),[2,function(e,t){void 0===e&&(e=v()),void 0===t&&(t=h);var n=(0,r.pi)((0,r.pi)({},o.options),{url:t+o.url});return e.request(n)}]}}))}))},listCloudProviders:function(t,n,a){return(0,r.mG)(this,void 0,Promise,(function(){var i;return(0,r.Jh)(this,(function(o){switch(o.label){case 0:return[4,_(e).listCloudProviders(t,n,a)];case 1:return i=o.sent(),[2,function(e,t){void 0===e&&(e=v()),void 0===t&&(t=h);var n=(0,r.pi)((0,r.pi)({},i.options),{url:t+i.url});return e.request(n)}]}}))}))},listKafkas:function(t,n,a){return(0,r.mG)(this,void 0,Promise,(function(){var i;return(0,r.Jh)(this,(function(o){switch(o.label){case 0:return[4,_(e).listKafkas(t,n,a)];case 1:return i=o.sent(),[2,function(e,t){void 0===e&&(e=v()),void 0===t&&(t=h);var n=(0,r.pi)((0,r.pi)({},i.options),{url:t+i.url});return e.request(n)}]}}))}))},listServiceAccounts:function(t){return(0,r.mG)(this,void 0,Promise,(function(){var n;return(0,r.Jh)(this,(function(a){switch(a.label){case 0:return[4,_(e).listServiceAccounts(t)];case 1:return n=a.sent(),[2,function(e,t){void 0===e&&(e=v()),void 0===t&&(t=h);var a=(0,r.pi)((0,r.pi)({},n.options),{url:t+n.url});return e.request(a)}]}}))}))},resetServiceAccountCreds:function(t,n){return(0,r.mG)(this,void 0,Promise,(function(){var a;return(0,r.Jh)(this,(function(i){switch(i.label){case 0:return[4,_(e).resetServiceAccountCreds(t,n)];case 1:return a=i.sent(),[2,function(e,t){void 0===e&&(e=v()),void 0===t&&(t=h);var n=(0,r.pi)((0,r.pi)({},a.options),{url:t+a.url});return e.request(n)}]}}))}))}}},T=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,r.ZT)(t,e),t.prototype.createKafka=function(e,t,n){var a=this;return b(this.configuration).createKafka(e,t,n).then((function(e){return e(a.axios,a.basePath)}))},t.prototype.createServiceAccount=function(e,t){var n=this;return b(this.configuration).createServiceAccount(e,t).then((function(e){return e(n.axios,n.basePath)}))},t.prototype.deleteKafkaById=function(e,t){var n=this;return b(this.configuration).deleteKafkaById(e,t).then((function(e){return e(n.axios,n.basePath)}))},t.prototype.deleteServiceAccount=function(e,t){var n=this;return b(this.configuration).deleteServiceAccount(e,t).then((function(e){return e(n.axios,n.basePath)}))},t.prototype.getKafkaById=function(e,t){var n=this;return b(this.configuration).getKafkaById(e,t).then((function(e){return e(n.axios,n.basePath)}))},t.prototype.listCloudProviderRegions=function(e,t,n,a){var r=this;return b(this.configuration).listCloudProviderRegions(e,t,n,a).then((function(e){return e(r.axios,r.basePath)}))},t.prototype.listCloudProviders=function(e,t,n){var a=this;return b(this.configuration).listCloudProviders(e,t,n).then((function(e){return e(a.axios,a.basePath)}))},t.prototype.listKafkas=function(e,t,n){var a=this;return b(this.configuration).listKafkas(e,t,n).then((function(e){return e(a.axios,a.basePath)}))},t.prototype.listServiceAccounts=function(e){var t=this;return b(this.configuration).listServiceAccounts(e).then((function(e){return e(t.axios,t.basePath)}))},t.prototype.resetServiceAccountCreds=function(e,t){var n=this;return b(this.configuration).resetServiceAccountCreds(e,t).then((function(e){return e(n.axios,n.basePath)}))},t}(g);!function(e){e.COMPLETED="complete",e.ACCEPTED="accepted",e.PROVISIONING="provisioning",e.FAILED="failed"}(a||(a={}));var S=function(e){var t=e.status,n=(0,l.useTranslation)().t;return o().createElement(s.Flex,null,o().createElement(s.FlexItem,{spacer:{default:"spacerSm"}},function(){switch(null==t?void 0:t.toLowerCase()){case a.COMPLETED:return o().createElement(u.CheckCircleIcon,{className:"check-circle-icon-color"});case a.FAILED:return o().createElement(u.ExclamationCircleIcon,{className:"exclamation-circle-icon-color"});case a.PROVISIONING:return o().createElement(s.Spinner,{size:u.IconSize.md});case a.ACCEPTED:default:return o().createElement(u.PendingIcon,null)}}()),o().createElement(s.FlexItem,null,function(){switch(null==t?void 0:t.toLowerCase()){case a.COMPLETED:return n("ready");case a.FAILED:return n("failed");case a.PROVISIONING:return n("creation_in_progress");case a.ACCEPTED:default:return n("creation_pending")}}()))},k=function(e){var t=e.confirmActionLabel,n=e.cancelActionLabel,r=e.title,c=e.onConfirm,u=e.isModalOpen,d=e.setIsModalOpen,m=e.description,p=e.variant,f=void 0===p?s.ModalVariant.small:p,v=e.titleIconVariant,h=void 0===v?"warning":v,g=e.instanceStatus,E=e.selectedInstance,_=(0,l.useTranslation)().t,b=(0,i.useState)(),T=b[0],S=b[1],k=null==E?void 0:E.name,C=function(){d(!u)};return o().createElement(s.Modal,{id:"dialog-prompt-modal",variant:f,isOpen:u,"aria-label":_("delete_instance_modal"),title:r,titleIconVariant:h,showClose:!0,onClose:C,actions:[o().createElement(s.Button,{key:"confirm-button",variant:s.ButtonVariant.danger,onClick:function(){c(E)},isDisabled:g===a.COMPLETED&&(null==T?void 0:T.toLocaleLowerCase())!==(null==k?void 0:k.toLowerCase())},t||_("delete_instance")),o().createElement(s.Button,{key:"cancel",variant:"link",onClick:C},n||_("cancel"))]},o().createElement(s.Text,{className:"text-content",dangerouslySetInnerHTML:{__html:m||""}}),g===a.COMPLETED&&o().createElement(o().Fragment,null,o().createElement("label",{htmlFor:"instance-name",dangerouslySetInnerHTML:{__html:_("instance_name_label",{name:k})}}),o().createElement(s.TextInput,{id:"instance-name",type:"text",value:T,onChange:function(e){S(e)}})))},C=function(e){var t=e.page,n=e.perPage,a=e.itemCount,r=e.variant,l=e.isCompact,u=e.paginationTitle,d=(0,c.k6)(),m=(0,c.TH)(),p=new URLSearchParams(m.search),f=(0,i.useCallback)((function(e,t){p.set(e,t.toString())}),[p]),v=(0,i.useCallback)((function(e,t){f("page",t.toString()),d.push({search:p.toString()})}),[f,d,p]),h=(0,i.useCallback)((function(e,t){f("page","1"),f("perPage",t.toString()),d.push({search:p.toString()})}),[f,d,p]);return a&&a>0?o().createElement(s.Pagination,{itemCount:a,perPage:n,page:t,onSetPage:v,variant:r||"top",onPerPageSelect:h,isCompact:l,titles:{paginationTitle:u}}):null},y=n(94956),w=function(e){var t=e.createStreamsInstance,n=e.setCreateStreamsInstance,a=e.filterSelected,c=e.namesSelected,d=e.setNamesSelected,m=e.mainToggle,p=e.total,f=e.page,v=e.perPage,h=(0,i.useState)(!1),g=h[0],E=h[1],_=(0,i.useState)(),b=_[0],T=_[1],S=(0,l.useTranslation)().t,k=o().createElement(o().Fragment,null,o().createElement(s.ToolbarGroup,{variant:"filter-group"},o().createElement(s.ToolbarFilter,{chips:c,deleteChip:function(e,t){if("name"===e.toString().toLowerCase()){var n=c.findIndex((function(e){return e===t.toString().toLowerCase()}));if(n>=0){var a=Object.assign([],c);a.splice(n,1),d(a)}}},deleteChipGroup:function(e){"name"===e.toString().toLowerCase()&&d([])},categoryName:S("name")},o().createElement(s.Select,{variant:s.SelectVariant.single,"aria-label":"Select filter",onToggle:function(){E(!g)},selections:a&&S(a.toLowerCase()),isOpen:g},[{value:"Name",disabled:!1}].map((function(e,t){return o().createElement(s.SelectOption,{isDisabled:e.disabled,key:t,value:S(e.value.toLowerCase())})}))),o().createElement(s.InputGroup,{className:"filter-text-input"},o().createElement(s.TextInput,{name:"filter text input",id:"filterText",type:"search","aria-label":"Search filter input",placeholder:function(){if(a){var e=(null==a?void 0:a.toLowerCase())+"_lower";return S("filter_by_"+e)}return""}(),onChange:function(e){T(e)},value:b}),o().createElement(s.Button,{variant:s.ButtonVariant.control,onClick:function(){b&&""!==b.trim()&&(c.findIndex((function(e){return e===b.trim().toLowerCase()}))<0&&(d((0,r.pr)(c,[b.trim()])),T("")))},"aria-label":"Search instances"},o().createElement(u.SearchIcon,null))))));return o().createElement(s.Toolbar,{id:"instance-toolbar",collapseListedFiltersBreakpoint:"md",clearAllFilters:function(){d([])},inset:{lg:"insetLg"}},o().createElement(s.ToolbarContent,null,m&&o().createElement(s.ToolbarToggleGroup,{toggleIcon:o().createElement(u.FilterIcon,null),breakpoint:"md"},k),o().createElement(s.ToolbarItem,null,o().createElement(s.Button,{variant:"primary",onClick:function(){return n(!t)}},S("create_streams_instance"))),o().createElement(s.ToolbarItem,{variant:"pagination",alignment:{default:"alignRight"}},o().createElement(C,{widgetId:"pagination-options-menu-top",itemCount:p,page:f,perPage:v,isCompact:!0,paginationTitle:S("minimal_pagination")}))))},x=n(42603),I=n(9995),P=function(e){var t;return void 0!==(null===(t=e.response)||void 0===t?void 0:t.data.code)},N=n(15530),A=function(e){var t,n,u=e.mainToggle,d=e.kafkaInstanceItems,p=e.onViewInstance,f=e.onViewConnection,v=e.onConnectToInstance,h=e.refresh,g=e.createStreamsInstance,E=e.setCreateStreamsInstance,_=e.page,b=e.perPage,A=e.total,L=e.kafkaDataLoaded,F=e.expectedTotal,q=(0,i.useContext)(x.V).getToken,G=(0,i.useContext)(I.G).basePath,R=(0,l.useTranslation)().t,O=(0,i.useContext)(N.S),V=(0,i.useState)(!1),B=V[0],D=V[1],z=(0,i.useState)({}),K=z[0],J=z[1],M=[R("name"),R("cloud_provider"),R("region"),R("owner"),R("status")],U=(0,i.useState)("Name"),W=U[0],j=U[1],H=(0,i.useState)([]),Q=H[0],Z=H[1],$=(0,i.useState)([]),X=$[0],Y=$[1],ee=new URLSearchParams(location.search),te=(0,c.k6)(),ne=(0,y.Z7)().addAlert,ae=(0,i.useCallback)((function(e,t){ee.set(e,t.toString())}),[ee]),re=(null===(t=null==O?void 0:O.keycloak)||void 0===t?void 0:t.tokenParsed)&&(null===(n=null==O?void 0:O.keycloak)||void 0===n?void 0:n.tokenParsed.username);(0,i.useEffect)((function(){_>1&&0===d.length&&(ae("page",(_-1).toString()),ae("perPage",b.toString()),te.push({search:ee.toString()}));var e=JSON.parse(JSON.stringify(X));if(X&&X.length>0){var t=Object.assign([],d).filter((function(e){return e.status===a.COMPLETED||e.status===a.FAILED}));e.forEach((function(e){var n,r,i=t.filter((function(t){return e.id===t.id}));i&&i.length>0&&(i[0].status===a.COMPLETED?ne(R("kafka_successfully_created"),s.AlertVariant.success,o().createElement("span",{dangerouslySetInnerHTML:{__html:R("kafka_success_message",{name:null===(n=i[0])||void 0===n?void 0:n.name})}})):i[0].status===a.FAILED&&ne(R("kafka_not_created"),s.AlertVariant.danger,o().createElement("span",{dangerouslySetInnerHTML:{__html:R("kafka_failed_message",{name:null===(r=i[0])||void 0===r?void 0:r.name})}})))}))}var n=Object.assign([],null==d?void 0:d.filter((function(e){return e.status===a.PROVISIONING||e.status===a.ACCEPTED})));Y(n)}),[_,b,d]);var ie=function(e){var t=e.status;J(e),t===a.FAILED?oe(e):D(!B)},oe=function(e){return(0,r.mG)(void 0,void 0,void 0,(function(){var t,n,a,i,o,c;return(0,r.Jh)(this,(function(r){switch(r.label){case 0:if(void 0===(t=(null==K?void 0:K.id)||(null==e?void 0:e.id)))throw new Error("kafka instance id is not set");return[4,q()];case 1:n=r.sent(),a=new T({accessToken:n,basePath:G}),r.label=2;case 2:return r.trys.push([2,4,,5]),[4,a.deleteKafkaById(t).then((function(){D(!1),ne(R("kafka_successfully_deleted"),s.AlertVariant.success),h("delete")}))];case 3:return r.sent(),[3,5];case 4:return i=r.sent(),D(!1),o=void 0,P(i)&&(o=null===(c=i.response)||void 0===c?void 0:c.data.reason),ne(R("something_went_wrong"),s.AlertVariant.danger,o),[3,5];case 5:return[2]}}))}))},ce=function(e,t,n){var r={title:"",confirmActionLabel:"",description:""};return t===a.COMPLETED?(r.title=e("delete_instance")+"?",r.confirmActionLabel=e("delete_instance"),r.description=e("delete_instance_status_complete",{instanceName:n})):t!==a.ACCEPTED&&t!==a.PROVISIONING||(r.title=e("delete_instance")+"?",r.confirmActionLabel=e("delete_instance"),r.description=e("delete_instance_status_accepted_or_provisioning",{instanceName:n})),r}(R,null==K?void 0:K.status,null==K?void 0:K.name),le=ce.title,se=ce.confirmActionLabel,ue=ce.description;return o().createElement(o().Fragment,null,o().createElement(w,{mainToggle:u,createStreamsInstance:g,setCreateStreamsInstance:E,filterSelected:W,namesSelected:Q,setFilterSelected:j,setNamesSelected:Z,total:A,page:_,perPage:b}),o().createElement(m.Table,{cells:M,rows:function(){var e=[],t=function(){var e=b;if(F&&F>0){var t=F%b!=0?Math.floor(F/b)+1:Math.floor(F/b);_===t&&(e=F>b?F%b==0?b:F%b:F)}return 0!==e?e:b}();if(!L){for(var n=[],a=0;a<M.length;a++)n.push({title:o().createElement(s.Skeleton,null)});for(a=0;a<t;a++)e.push({cells:n});return e}return d.forEach((function(t){var n=t.name,a=t.cloud_provider,r=t.region,i=t.status,c=t.owner,l=R(a),u=R(r);e.push({cells:[{title:o().createElement(s.Button,{variant:"link",isInline:!0,onClick:function(){return v(t)}},n)},l,u,c,{title:o().createElement(S,{status:i})}],originalData:t})})),e}(),"aria-label":R("cluster_instance_list"),actionResolver:function(e,t){return function(e,t){if(!L)return[];var n=e.originalData,a=n.owner===re;return u?[{title:R("view_details"),id:"view-instance",onClick:function(){return p(n)}},{title:R("connect_to_instance"),id:"connect-instance",onClick:function(){return f(n)}},{title:R("delete_instance"),id:"delete-instance",onClick:function(){return a&&t(n)},tooltip:!a,tooltipProps:{position:"left",content:R("no_permission_to_delete_kafka")},isDisabled:!a,style:{pointerEvents:"auto",cursor:"default"}}]:[{title:R("view_details"),id:"view-instance",onClick:function(){return p(n)}},{title:R("delete_instance"),id:"delete-instance",onClick:function(){return a&&t(n)},tooltip:!a,tooltipProps:{position:"left",content:R("no_permission_to_delete_kafka")},isDisabled:!a,style:{pointerEvents:"auto",cursor:"default"}}]}(e,ie)}},o().createElement(m.TableHeader,null),o().createElement(m.TableBody,null)),o().createElement(C,{widgetId:"pagination-options-menu-bottom",itemCount:A,variant:s.PaginationVariant.bottom,page:_,perPage:b,paginationTitle:R("full_pagination")}),B&&o().createElement(k,{title:le,selectedInstance:K,isModalOpen:B,instanceStatus:null==K?void 0:K.status,setIsModalOpen:D,onConfirm:oe,description:ue,confirmActionLabel:se}))},L=function(){this.cloud_provider="",this.multi_az=!1,this.region="",this.name=""},F={kind:"Empty provider",id:"please_select",display_name:"Please Select",enabled:!0},q=function(e){var t=e.createStreamsInstance,n=e.setCreateStreamsInstance,a=e.cloudProviders,c=e.refresh,d=(0,l.useTranslation)().t,m=new L;m.name="",m.cloud_provider="",m.region="",m.multi_az=!0;var p=(0,i.useState)(m),f=p[0],v=p[1],h=(0,i.useState)({fieldState:"default"}),g=h[0],E=h[1],_=(0,i.useState)({fieldState:"default"}),b=_[0],S=_[1],k=(0,i.useState)([]),C=k[0],w=k[1],N=(0,i.useState)(!0),A=N[0],q=N[1],G=(0,i.useContext)(x.V).getToken,R=(0,i.useContext)(I.G).basePath,O=(0,y.Z7)().addAlert,V=function(e){return(0,r.mG)(void 0,void 0,void 0,(function(){var t,n,a,i,o;return(0,r.Jh)(this,(function(c){switch(c.label){case 0:return[4,G()];case 1:if(t=c.sent(),n=e.id,void 0===t||""===t||!n)return[3,5];c.label=2;case 2:return c.trys.push([2,4,,5]),[4,new T({accessToken:t,basePath:R}).listCloudProviderRegions(n).then((function(t){var n=t.data,a=[F].concat(n.items);w(null!=n.items?a:[]);var i=n.items.filter((function(e){return e.enabled}));if(1===i.length&&i[0].id&&e.name){var o=i[0].id;v((function(e){return(0,r.pi)((0,r.pi)({},e),{region:o})}))}}))];case 3:return c.sent(),[3,5];case 4:return a=c.sent(),i=void 0,P(a)&&(i=null===(o=a.response)||void 0===o?void 0:o.data.reason),O(d("something_went_wrong"),s.AlertVariant.danger,i),[3,5];case 5:return[2]}}))}))};(0,i.useEffect)((function(){var e=a.filter((function(e){return e.enabled}));e.length>0&&e[0].name&&(v((0,r.pi)((0,r.pi)({},f),{cloud_provider:e[0].name})),V(e[0]))}),[a]);var B=function(){n(!t)},D=function(e){switch(null==e?void 0:e.toLowerCase()){case"aws":return o().createElement(u.AwsIcon,{size:"lg",color:"black",className:"cloud-region-icon"});default:return}},z=function(e){v((0,r.pi)((0,r.pi)({},f),{multi_az:"multi"===e}))};return o().createElement(o().Fragment,null,o().createElement(s.Modal,{variant:s.ModalVariant.medium,title:d("create_a_streams_instance"),isOpen:t,onClose:B,actions:[o().createElement(s.Button,{key:"create",variant:"primary",onClick:function(){return(0,r.mG)(void 0,void 0,void 0,(function(){var e,t,n,a,i;return(0,r.Jh)(this,(function(r){switch(r.label){case 0:return e=!0,void 0===f.name||""===f.name.trim()?(e=!1,E({fieldState:"error",message:d("this_is_a_required_field")})):/^[a-z]([-a-z0-9]*[a-z0-9])?$/.test(f.name.trim())||(e=!1,E({fieldState:"error",message:d("create_instance_name_invalid_helper_text")})),void 0!==f.region&&""!==f.region.trim()||(e=!1,S({fieldState:"error",message:d("this_is_a_required_field")})),[4,G()];case 1:if(t=r.sent(),!e)return[3,6];r.label=2;case 2:return r.trys.push([2,4,,5]),[4,new T({accessToken:t,basePath:R}).createKafka(!0,f).then((function(e){B(),c("create")}))];case 3:return r.sent(),[3,5];case 4:return n=r.sent(),a=void 0,P(n)&&(a=null===(i=n.response)||void 0===i?void 0:i.data.reason),O(d("something_went_wrong"),s.AlertVariant.danger,a),[3,5];case 5:return[3,7];case 6:q(!1),r.label=7;case 7:return[2]}}))}))},isDisabled:!A},d("create_instance")),o().createElement(s.Button,{key:"cancel",variant:"link",onClick:B},d("cancel"))]},o().createElement(s.Form,null,!A&&o().createElement(s.FormAlert,null,o().createElement(s.Alert,{variant:"danger",title:d("create_instance_invalid_alert"),"aria-live":"polite",isInline:!0})),o().createElement(s.FormGroup,{label:d("instance_name"),helperText:d("create_instance_name_helper_text"),helperTextInvalid:g.message,helperTextInvalidIcon:""!=g.message&&o().createElement(u.ExclamationCircleIcon,null),isRequired:!0,validated:g.fieldState,fieldId:"form-instance-name"},o().createElement(s.TextInput,{isRequired:!0,validated:g.fieldState,type:"text",id:"form-instance-name",name:"instance-name",value:null==f?void 0:f.name,onChange:function(e){var t=!0;void 0===e||""===e.trim()?t=!0:e&&!/^[a-z]([-a-z0-9]*[a-z0-9])?$/.test(e.trim())&&(t=!1),v((0,r.pi)((0,r.pi)({},f),{name:e||""})),t?("error"===g.fieldState&&"error"!==b.fieldState&&q(!0),"error"===g.fieldState&&E({fieldState:"default",message:""})):E({fieldState:"error",message:d("create_instance_name_invalid_helper_text")})}})),o().createElement(s.FormGroup,{label:d("cloud_provider"),fieldId:"form-cloud-provider-name"},a.map((function(e){return e.enabled&&o().createElement(s.Tile,{key:"tile-"+e.name,title:e.display_name?d(e.display_name):"",icon:D(null==e?void 0:e.name),isSelected:f.cloud_provider===e.name,onClick:function(){return(t=e).name&&v((0,r.pi)((0,r.pi)({},f),{cloud_provider:t.name})),void V(t);var t}})}))),o().createElement(s.FormGroup,{label:d("cloud_region"),helperTextInvalid:b.message,helperTextInvalidIcon:o().createElement(u.ExclamationCircleIcon,null),validated:b.fieldState,fieldId:"form-cloud-region-option"},o().createElement(s.FormSelect,{validated:b.fieldState,value:f.region,onChange:function(e){var t=e;"please_select"===e&&(t=""),"error"===b.fieldState&&"error"!==g.fieldState&&q(!0),"error"===b.fieldState&&S({fieldState:"default",message:""}),v((0,r.pi)((0,r.pi)({},f),{region:t}))},id:"cloud-region-select",name:"cloud-region","aria-label":d("cloud_region")},C.map((function(e,t){return e.enabled&&o().createElement(s.FormSelectOption,{key:t,value:e.id,label:e.id?d(e.id):e.display_name||""})})))),o().createElement(s.FormGroup,{label:d("availabilty_zones"),fieldId:"availability-zones"},o().createElement(s.ToggleGroup,{"aria-label":d("availability_zone_selection")},o().createElement("div",{className:"pf-c-toggle-group__item"},o().createElement("button",{className:"pf-c-toggle-group__button "+(!1===f.multi_az&&"pf-m-selected"),type:"button",id:"single",disabled:!0,onClick:function(){z("single")}},o().createElement("span",{className:"pf-c-toggle-group__text"}," ",d("single")))),o().createElement("div",{className:"pf-c-toggle-group__item"},o().createElement("button",{className:"pf-c-toggle-group__button "+(!0===f.multi_az&&"pf-m-selected"),type:"button",onClick:function(){z("multi")},id:"multi"},o().createElement("span",{className:"pf-c-toggle-group__text"}," ",d("multi"))))))),o().createElement("br",null),o().createElement("br",null)))},G=function(e){var t,n=e.instanceName,a=void 0===n?"":n,c=e.mainToggle,d=(0,l.useTranslation)().t,m=(0,i.useContext)(x.V).getToken,p=(0,i.useContext)(I.G).basePath,f=(0,i.useState)(!1),v=f[0],h=f[1],g=(0,i.useState)(!1),E=g[0],_=g[1],b=(0,i.useState)(1),S=b[0],k=b[1],C=(0,i.useState)(),y=C[0],w=C[1],N=(0,i.useState)(!1),A=N[0],L=N[1],F=(0,i.useState)(!1),q=F[0],G=F[1],R=(0,i.useState)(!1),O=R[0],V=R[1],B=(0,i.useState)(!1),D=B[0],z=B[1],K=(0,i.useState)(!1),J=K[0],M=K[1],U=(0,i.useState)("name"),W=U[0],j=U[1],H=(0,i.useState)(),Q=H[0],Z=H[1],$=(0,i.useState)(!1),X=$[0],Y=$[1],ee=(0,i.useState)("name"),te=ee[0],ne=ee[1],ae=(0,i.useState)(),re=ae[0],ie=ae[1],oe=(0,i.useState)(!1),ce=oe[0],le=oe[1],se=(0,i.useState)(!1),ue=se[0],de=se[1],me=(0,i.useState)(!1),pe=me[0],fe=me[1],ve=(0,i.useState)("name"),he=ve[0],ge=ve[1],Ee=(0,i.useState)(),_e=Ee[0],be=Ee[1],Te=(0,i.useState)(!1),Se=Te[0],ke=Te[1],Ce=(0,i.useState)(),ye=(Ce[0],Ce[1]),we=(0,i.useState)(!1),xe=we[0],Ie=we[1],Pe=(0,i.useState)(""),Ne=Pe[0],Ae=Pe[1],Le=function(e,t){k(e.id)},Fe=function(e,t){L(!1),G(!1),V(!1),z(!1);var n=t.target,a="radio"===n.type?n.checked:n.value,r=n.name;"radio1-1"===r?L(a):"radio2-1"===r?G(a):"radio3-1"===r?V(a):"radio4-1"===r&&z(a)},qe=function(e,t){le(!1),de(!1),fe(!1);var n=t.target,a="radio"===n.type?n.checked:n.value,r=n.name;"radio1-4"===r?le(a):"radio2-4"===r?de(a):"radio3-4"===r&&fe(a)},Ge=o().createElement("div",{className:"generate-cred-wizard-content"},o().createElement(s.TextContent,{className:"pf-u-mb-lg"},o().createElement(s.Text,{component:s.TextVariants.h2},d("basic_info")),o().createElement(s.Text,{component:s.TextVariants.small},d("generate_credential_step1_title_description"))),o().createElement(s.Form,null,o().createElement(s.FormGroup,{label:d("credential_name_form_label"),fieldId:"simple-form-name",isRequired:!0},o().createElement(s.TextInput,{isRequired:!0,type:"text",id:"simple-form-name",name:"simple-form-name","aria-describedby":"simple-form-name-helper",value:y,onChange:function(e){w(e)},placeholder:d("credential_name_form_input_placeholder")})),o().createElement(s.FormGroup,{label:d("credential_aplication_reason_form_label"),className:"form-group-radio",fieldId:"radio-access-type",isRequired:!0},o().createElement(s.Radio,{isChecked:A,name:"radio1-1",onChange:Fe,label:d("produce_only"),id:"radio-controlled-1",value:"produce"}),o().createElement(s.Radio,{isChecked:q,name:"radio2-1",onChange:Fe,label:d("consume_only"),id:"radio-controlled-2",value:"consume"}),o().createElement(s.Radio,{isChecked:O,name:"radio3-1",onChange:Fe,label:d("produce_and_consume"),id:"radio-controlled-3",value:"produceconsume"}),o().createElement(s.Radio,{isChecked:D,name:"radio4-1",onChange:Fe,label:d("produce_consume_and_create_topics"),id:"radio-controlled-4",value:"produceconsumecreate"})))),Re=o().createElement("div",{className:"generate-cred-wizard-content"},o().createElement(s.TextContent,{className:"pf-u-mb-lg"},o().createElement(s.Text,{component:s.TextVariants.h2},d("generate_credential_step2_title_description"))),o().createElement(s.Form,null,o().createElement(s.Switch,{id:"simple-switch",label:d("all_topics"),labelOff:d("all_topics"),isChecked:J,onChange:function(e){M(e)}}),J?o().createElement(o().Fragment,null):o().createElement(s.FormGroup,{label:d("specific_topics"),fieldId:"input-access-topics",isRequired:!0},o().createElement(s.Split,{hasGutter:!0,className:"pf-u-align-items-center"},o().createElement(s.SplitItem,null,d("topics_with_the")),o().createElement(s.SplitItem,null,o().createElement(s.FormSelect,{id:"select-access-topics",value:W,onChange:function(e){j(e)}},o().createElement(s.FormSelectOption,{value:"name",label:d("lower_name")}),o().createElement(s.FormSelectOption,{value:"prefix",label:d("lower_prefix")}))),o().createElement(s.SplitItem,{isFilled:!0},o().createElement(s.TextInput,{isRequired:!0,type:"text",id:"input-access-topics",name:"input-access-topics","aria-describedby":"simple-form-name-helper",value:Q,onChange:function(e){Z(e)},placeholder:d("enter_your_topic")+" "+W}))),o().createElement(s.Popover,{position:"bottom",bodyContent:o().createElement("div",null,d("credential_rule_popover_data"))},o().createElement(s.Button,{variant:"link",icon:o().createElement(u.PlusCircleIcon,null),isInline:!0,className:"pf-u-mt-md"},"Add another rule"))))),Oe=o().createElement("div",{className:"generate-cred-wizard-content"},o().createElement(s.TextContent,{className:"pf-u-mb-lg"},o().createElement(s.Text,{component:s.TextVariants.h2},d("generate_credential_step3_title_description"))),o().createElement(s.Form,null,o().createElement(s.Switch,{id:"simple-switch",label:d("all_consumer_groups"),labelOff:d("all_consumer_groups"),isChecked:X,onChange:function(e){Y(e)}}),X?o().createElement(o().Fragment,null):o().createElement(s.FormGroup,{label:d("specific_consumer_groups"),fieldId:"input-access-consumers",isRequired:!0},o().createElement(s.Split,{hasGutter:!0,className:"pf-u-align-items-center"},o().createElement(s.SplitItem,null,d("groups_with_the")),o().createElement(s.SplitItem,null,o().createElement(s.FormSelect,{id:"select-access-consumers",value:te,onChange:function(e){ne(e)}},o().createElement(s.FormSelectOption,{value:"name",label:d("lower_name")}),o().createElement(s.FormSelectOption,{value:"prefix",label:d("lower_prefix")}))),o().createElement(s.SplitItem,{isFilled:!0},o().createElement(s.TextInput,{isRequired:!0,type:"text",id:"input-access-consumers",name:"input-access-consumers",value:re,onChange:function(e){ie(e)},placeholder:d("enter_your_consumer_group")+" "+te})))))),Ve=o().createElement("div",{className:"generate-cred-wizard-content"},o().createElement(s.TextContent,{className:"pf-u-mb-lg"},o().createElement(s.Text,{component:s.TextVariants.h2,id:"step4-title"},d("generate_credential_step4_title_description"))),o().createElement(s.Form,null,o().createElement("section",{"aria-labelledby":"step4-title",className:"form-group-radio"},o().createElement("div",{className:"pf-c-form__group-control"},o().createElement(s.Radio,{isChecked:ce,name:"radio1-4",onChange:qe,label:d("no_transaction_ids"),id:"radio-controlled-1-4",value:"no"}),o().createElement(s.Radio,{isChecked:ue,name:"radio2-4",onChange:qe,label:d("all_transaction_ids"),id:"radio-controlled-2-4",value:"all",className:"pf-u-mb-sm"}),o().createElement(s.Split,{hasGutter:!0,className:"pf-u-align-items-center"},o().createElement(s.SplitItem,null,o().createElement(s.Radio,{isChecked:pe,name:"radio3-4",onChange:qe,label:d("transaction_ids_with_the"),id:"radio-controlled-3-4",value:"filter"})),o().createElement(s.SplitItem,null,o().createElement(s.FormSelect,{id:"select-access-transactions",value:he,onChange:function(e){ge(e)}},o().createElement(s.FormSelectOption,{value:"name",label:d("lower_name")}),o().createElement(s.FormSelectOption,{value:"prefix",label:d("lower_prefix")}))),o().createElement(s.SplitItem,{isFilled:!0},o().createElement(s.TextInput,{isRequired:!0,type:"text",id:"input-access-transactions",name:"input-access-transactions",value:_e,onChange:function(e){be(e)},placeholder:d("enter_your_transaction_id")+" "+he}))))))),Be=o().createElement(o().Fragment,null,c&&o().createElement(s.Alert,{variant:"danger",isInline:!0,title:"These credentials were not actually generated from this flow as it is part of the mock UI. For now, please turn off the mock UI to generate credentials."}),o().createElement(s.EmptyState,{variant:s.EmptyStateVariant.large},o().createElement(s.EmptyStateIcon,{icon:u.KeyIcon}),o().createElement(s.Title,{headingLevel:"h4",size:"lg"},d("credential_successfully_generated")),o().createElement(s.EmptyStateBody,null,d("clientid_empty_state_body")),o().createElement(s.InputGroup,{className:"pf-u-mt-lg"},o().createElement(s.InputGroupText,{className:"no-wrap"},d("client_id")),o().createElement(s.ClipboardCopy,{isReadOnly:!0,className:"pf-u-w-100"},"srvc-acct-962bc96e-4339-4aee-9505-040d5069c6a5")),o().createElement(s.InputGroup,{className:"pf-u-mt-md"},o().createElement(s.InputGroupText,{className:"no-wrap"},"Client secret"),o().createElement(s.ClipboardCopy,{isReadOnly:!0,className:"pf-u-w-100"},"441cdf77-083c-41d1-9050-c27a3b4247ac")),o().createElement(s.Bullseye,{className:"pf-u-mt-lg"},o().createElement(s.Checkbox,{label:d("client_id_confirmation_checkbox_label"),isChecked:Se,onChange:function(e){ke(e)},id:"check-1",name:"check1"})),o().createElement(s.Button,{variant:"primary",isDisabled:!Se,onClick:function(){_(!1),h(!v),ye(void 0),ke(!1),k(1)}},d("close")))),De=d("generate_credential");return o().createElement(o().Fragment,null,o().createElement(s.FlexItem,{className:"pf-m-align-right"},o().createElement(s.Button,{variant:"secondary",onClick:function(){c?(_(!0),Ie(!1)):(Ie(!0),Ae(""),ye(void 0),(0,r.mG)(void 0,void 0,void 0,(function(){var e,t,n,i,o,c;return(0,r.Jh)(this,(function(r){switch(r.label){case 0:return[4,m()];case 1:e=r.sent(),t={name:a},n=new T({accessToken:e,basePath:p}),r.label=2;case 2:return r.trys.push([2,4,,5]),[4,n.createServiceAccount(t).then((function(e){ye(null==e?void 0:e.data),Ie(!1),_(!0)}))];case 3:return r.sent(),[3,5];case 4:return i=r.sent(),Ie(!1),o=void 0,P(i)&&(o=null===(c=i.response)||void 0===c?void 0:c.data.reason),Ae(o),[3,5];case 5:return[2]}}))})))},className:"pf-u-ml-md",spinnerAriaValueText:xe?"Loading":void 0,isLoading:xe},d("generate_credential"))),o().createElement(s.Wizard,{title:De,description:d("create_credential_wizard_description"),steps:(t=[{id:5,name:d("finish"),component:Be,isFinishedStep:!0}],c&&t.unshift({id:1,name:d("basic_info"),component:Ge,nextButtonText:d("next")},{id:2,name:d("topics_access"),component:Re,nextButtonText:d("next")},{id:3,name:d("consumer_groups_access"),component:Oe,nextButtonText:d("next")},{id:4,name:d("transaction_ids_access"),component:Ve,nextButtonText:d("finish")}),t),onNext:Le,onBack:Le,onClose:function(){_(!1)},isOpen:E,hideClose:5===S}),Ne&&o().createElement(s.FlexItem,{className:"pf-m-grow"},o().createElement(s.Alert,{variant:"danger",isInline:!0,title:Ne})))},R=n(91031),O=n(88945),V=n.n(O),B=n(56176),D=n.n(B),z=function(e){var t=e.mainToggle,n=e.onClose,a=e.activeTab,r=e.instanceDetail,c=(0,l.useTranslation)().t,d=r||{},m=d.id,p=d.created_at,f=d.updated_at,v=d.owner;V().extend(D());var h=(0,i.useState)(0),g=h[0],E=h[1],_=(0,i.useState)(0),b=_[0],T=_[1];(0,i.useEffect)((function(){E("Details"===a?0:1)}),[a]);var S=function(e,t){T(t)},k=o().createElement(o().Fragment,null,o().createElement("div",{className:"tab-content-body"},o().createElement(s.TextContent,{className:"pf-u-pb-sm"},o().createElement(s.Text,{component:s.TextVariants.small},c("drawer_resource_tab_body_description_1")),o().createElement(s.Text,{component:s.TextVariants.h5},c("kafka_listener_and_credentials")),o().createElement(s.Text,{component:s.TextVariants.small},c("drawer_resource_tab_body_description_2")),o().createElement(s.Text,{component:s.TextVariants.p,className:"pf-u-mt-md"},c("external_server"))),o().createElement(s.Flex,null,o().createElement(s.FlexItem,{className:"pf-m-grow pf-m-spacer-none pf-u-mb-xs"},o().createElement(s.ClipboardCopy,null,null==r?void 0:r.bootstrapServerHost,":443")),o().createElement(G,{instanceName:null==r?void 0:r.name,mainToggle:t})),t&&o().createElement(o().Fragment,null,o().createElement(s.TextContent,{className:"pf-u-pb-sm pf-u-pt-lg"},o().createElement(s.Text,{component:s.TextVariants.h5},"Producer endpoint and credentials"),o().createElement(s.Text,{component:s.TextVariants.small},c("drawer_resource_tab_body_description_3"))),o().createElement(s.ClipboardCopy,null,"https://:30123")))),C=o().createElement(o().Fragment,null,o().createElement("div",{className:"tab-content-body"},o().createElement(s.TextContent,{className:"pf-u-pb-sm"},o().createElement(s.Text,{component:s.TextVariants.h5},c("sample_connection_code")),o().createElement(s.Text,{component:s.TextVariants.small},c("drawer_code_section_tab_body_description_1"),"<",c("brackets"),">.")),o().createElement("div",{className:"pf-c-code-editor pf-m-read-only"},o().createElement("div",{className:"pf-c-code-editor__header"},o().createElement("div",{className:"pf-c-code-editor__controls"},o().createElement(s.Button,{variant:"control","aria-label":"Action"},o().createElement(u.CopyIcon,null))),o().createElement("div",{className:"pf-c-code-editor__tab"},o().createElement("span",{className:"pf-c-code-editor__tab-text"},"Java"))),o().createElement("div",{className:"pf-c-code-editor__main"},o().createElement("div",{className:"pf-c-code-editor__code"},o().createElement("pre",{className:"pf-c-code-editor__code-pre"},"import java.util.Properties;")))),o().createElement(s.TextContent,{className:"pf-u-pb-sm pf-u-pt-lg"},o().createElement(s.Text,{component:s.TextVariants.h5},c("sample_connection_code")),o().createElement(s.Text,{component:s.TextVariants.small},c("drawer_code_section_tab_body_description_1"),"<",c("brackets"),">.")),o().createElement("div",{className:"pf-c-code-editor pf-m-read-only"},o().createElement("div",{className:"pf-c-code-editor__header"},o().createElement("div",{className:"pf-c-code-editor__controls"},o().createElement(s.Button,{variant:"control","aria-label":"Action"},o().createElement(u.CopyIcon,null)))),o().createElement("div",{className:"pf-c-code-editor__main"},o().createElement("div",{className:"pf-c-code-editor__code"},o().createElement("pre",{className:"pf-c-code-editor__code-pre"},"bootstrap.servers=es-1-4-0-ibm-es-proxy-route-bootstrap-es.apps.2019-4-1-demo-icp-mst.fyre.ibm.com:44 sasl.jaas.config=org.apache.kafka.common.security.plain.PlainLoginModule required username=“token")))))),y=function(e,t){return o().createElement(o().Fragment,null,t&&o().createElement(o().Fragment,null,o().createElement(s.TextListItem,{component:s.TextListItemVariants.dt},e),o().createElement(s.TextListItem,{component:s.TextListItemVariants.dd},t)))},w=o().createElement(o().Fragment,null,o().createElement("div",{className:"tab-content-body"},t&&o().createElement(s.Grid,{className:"instance-card-grid"},o().createElement(s.GridItem,{span:6,className:"instance-detail-first-grid"},o().createElement(s.Card,{isFlat:!0},o().createElement(s.CardBody,null,o().createElement(s.TextContent,null,o().createElement(s.Text,{component:s.TextVariants.small,className:"pf-u-mb-0"},c("topics")),o().createElement(s.Text,{component:s.TextVariants.h3,className:"pf-u-mt-0"},"10"))))),o().createElement(s.GridItem,{span:6},o().createElement(s.Card,{isFlat:!0},o().createElement(s.CardBody,null,o().createElement(s.TextContent,null,o().createElement(s.Text,{component:s.TextVariants.small,className:"pf-u-mb-0"},c("consumer_groups")),o().createElement(s.Text,{component:s.TextVariants.h3,className:"pf-u-mt-0"},"8")))))),o().createElement(s.TextContent,null,o().createElement(s.TextList,{component:s.TextListVariants.dl},y(c("cloud_provider"),c("amazon_web_services")),y(c("region"),c("us_east_north_virginia")),y(c("id"),m),y(c("owner"),v),y(c("created"),V()(p).format("LLLL")),y(c("updated"),V()(f).format("LLLL"))))));return o().createElement(s.DrawerPanelContent,{className:"instance-drawer",widths:{default:"width_50"}},void 0===r?o().createElement(R.g,null):o().createElement(o().Fragment,null,o().createElement(s.DrawerHead,null,o().createElement(s.TextContent,null,o().createElement(s.Text,{component:s.TextVariants.small,className:"pf-u-mb-0"},c("instance_name")),o().createElement(s.Title,{headingLevel:"h1",size:s.TitleSizes.xl,className:"pf-u-mt-0 "},null==r?void 0:r.name)),o().createElement(s.DrawerActions,null,o().createElement(s.DrawerCloseButton,{onClick:n}))),o().createElement(s.DrawerPanelBody,null,o().createElement(s.Tabs,{activeKey:g,onSelect:function(e,t){E(t)}},o().createElement(s.Tab,{eventKey:0,title:o().createElement(s.TabTitleText,null,c("details"))},w),o().createElement(s.Tab,{eventKey:1,title:o().createElement(s.TabTitleText,null,c("connection"))},t?o().createElement("div",{className:"tab-content-body pf-m-secondary"},o().createElement(s.Tabs,{activeKey:b,isSecondary:!0,onSelect:S},o().createElement(s.Tab,{eventKey:0,title:o().createElement(s.TabTitleText,null,c("resources"))},k),o().createElement(s.Tab,{eventKey:1,title:o().createElement(s.TabTitleText,null,c("sample_code"))},C))):o().createElement(o().Fragment,null,k))))))};var K=function(e){var t,n,a,u=e.onConnectToInstance,m=(0,i.useContext)(x.V).getToken,p=(0,i.useContext)(I.G).basePath,f=(0,c.TH)(),v=new URLSearchParams(f.search),h=parseInt(v.get("page")||"",10)||1,g=parseInt(v.get("perPage")||"",10)||10,E=(0,l.useTranslation)().t,_=(0,y.Z7)().addAlert,b=(0,i.useState)(!1),S=b[0],k=b[1],C=(0,i.useState)(),w=C[0],N=C[1],L=(0,i.useState)({}),F=L[0],G=L[1],O=(0,i.useState)([]),V=O[0],B=O[1],D=(0,i.useState)(!1),K=D[0],J=D[1],M=(0,i.useState)(!1),U=M[0],W=M[1],j=(0,i.useState)(),H=j[0],Q=j[1],Z=(0,i.useState)(0),$=Z[0],X=Z[1],Y=o().createRef(),ee=function(){return(0,r.mG)(void 0,void 0,void 0,(function(){var e,t,n,a;return(0,r.Jh)(this,(function(r){switch(r.label){case 0:return[4,m()];case 1:if(!function(e){return void 0!==e&&""!==e}(e=r.sent()))return[3,5];r.label=2;case 2:return r.trys.push([2,4,,5]),[4,new T({accessToken:e,basePath:p}).listKafkas(null==h?void 0:h.toString(),null==g?void 0:g.toString()).then((function(e){var t=e.data;G(t),N(t.items),void 0!==(null==F?void 0:F.total)&&F.total>$&&X(F.total),J(!0)}))];case 3:return r.sent(),[3,5];case 4:return t=r.sent(),n=void 0,P(t)&&(n=null===(a=t.response)||void 0===a?void 0:a.data.reason),_(E("something_went_wrong"),s.AlertVariant.danger,n),[3,5];case 5:return[2]}}))}))};(0,i.useEffect)((function(){J(!1),ee()}),[m,h,g]),(0,i.useEffect)((function(){(0,r.mG)(void 0,void 0,void 0,(function(){var e,t,n,a;return(0,r.Jh)(this,(function(r){switch(r.label){case 0:return[4,m()];case 1:if(void 0===(e=r.sent())||""===e)return[3,5];r.label=2;case 2:return r.trys.push([2,4,,5]),[4,new T({accessToken:e,basePath:p}).listCloudProviders().then((function(e){var t=e.data;B(t.items)}))];case 3:return r.sent(),[3,5];case 4:return t=r.sent(),n=void 0,P(t)&&(n=null===(a=t.response)||void 0===a?void 0:a.data.reason),_(E("something_went_wrong"),s.AlertVariant.danger,n),[3,5];case 5:return[2]}}))})),ee()}),[]),t=ee,n=5e3,a=(0,i.useRef)(),(0,i.useEffect)((function(){a.current=t}),[t]),(0,i.useEffect)((function(){if(null!==n){var e=setTimeout((function(){a.current()}),n);return function(){clearInterval(e)}}}),[t,n]);var te=function(e){J(!1),"create"===e?X(F.total+1):"delete"===e&&X(F.total-1),ee()};return o().createElement(o().Fragment,null,o().createElement(y.uZ,null,o().createElement(s.Drawer,{isExpanded:null!=H,onExpand:function(){Y.current&&Y.current.focus()}},o().createElement(s.DrawerContent,{panelContent:o().createElement(z,{mainToggle:U,onClose:function(){Q(null)},isExpanded:null!=H,drawerRef:Y,activeTab:null==H?void 0:H.activeTab,instanceDetail:null==H?void 0:H.instanceDetail})},o().createElement(s.PageSection,{variant:s.PageSectionVariants.light},o().createElement(s.Level,null,o().createElement(s.LevelItem,null,o().createElement(s.Title,{headingLevel:"h1",size:"lg"},E("openshift_streams"))),o().createElement(s.LevelItem,null,o().createElement(s.Switch,{id:"simple-switch",label:E("mock_ui"),labelOff:E("currently_supported_ui"),isChecked:U,onChange:function(e){W(e)}})))),void 0===w?o().createElement(s.PageSection,{variant:s.PageSectionVariants.light,padding:{default:"noPadding"}},o().createElement(R.g,null)):F.total<1?o().createElement(s.PageSection,null,o().createElement(d,{createStreamsInstance:S,setCreateStreamsInstance:k,mainToggle:U})):o().createElement(s.PageSection,{variant:s.PageSectionVariants.light,padding:{default:"noPadding"}},o().createElement(A,{kafkaInstanceItems:w,mainToggle:U,onViewConnection:function(e){Q({instanceDetail:e,activeTab:"Connection"})},onViewInstance:function(e){Q({instanceDetail:e,activeTab:"Details"})},onConnectToInstance:u,refresh:te,kafkaDataLoaded:K,createStreamsInstance:S,setCreateStreamsInstance:k,page:h,perPage:g,total:null==F?void 0:F.total,expectedTotal:$})),S&&o().createElement(q,{createStreamsInstance:S,setCreateStreamsInstance:k,cloudProviders:V,mainToggle:U,refresh:te})))))}},9995:(e,t,n)=>{"use strict";n.d(t,{G:()=>r});var a=n(15691),r=n.n(a)().createContext({basePath:void 0})},62219:(e,t,n)=>{"use strict";n.d(t,{z:()=>o});var a=n(15691),r=n.n(a),i=n(91995);function o(e){var t=e.alerts,n=e.onCloseAlert;return r().createElement(i.AlertGroup,{isToast:!0},t.map((function(e){var t=e.key,a=e.variant,o=e.title,c=e.body;return r().createElement(i.Alert,{key:t,isLiveRegion:!0,variant:i.AlertVariant[a],variantLabel:"",title:o,actionClose:r().createElement(i.AlertActionCloseButton,{title:o,onClose:function(){return n(t)}})},c)})))}},91031:(e,t,n)=>{"use strict";n.d(t,{g:()=>c});var a=n(15691),r=n.n(a),i=n(91995),o=n(92992),c=function(){return r().createElement(i.Bullseye,null,r().createElement(o.Spinner,null))}},78800:(e,t,n)=>{"use strict";var a=n(66491),r=n.n(a),i=n(17751),o=n(13096),c=n.n(o),l=n(74008),s=n.n(l),u=n(31863),d=n.n(u),m=n(88945),p=n.n(m),f=(n(76831),"true"===new URLSearchParams(window.location.search).get("pseudolocalization"));r().use(new(d())({enabled:f,wrapped:!0})).use(s()).use(c()).use(i.initReactI18next).init({backend:{loadPath:"/beta/apps/rhosak-control-plane-ui-build/locales/{{lng}}/{{ns}}.json"},fallbackLng:"en",load:"all",debug:!1,detection:{caches:[]},contextSeparator:"~",ns:["public"],defaultNS:"public",nsSeparator:"~",keySeparator:!1,postProcess:["pseudo"],interpolation:{format:function(e,t,n,a){return a=a||{},"number"===t?new Intl.NumberFormat(n).format(e):e instanceof Date?"fromNow"===t?p()(e).fromNow(!0===a.omitSuffix):p()(e).format(t):e},escapeValue:!1},react:{useSuspense:!0,wait:!0},saveMissing:!0,missingKeyHandler:function(e,t,n){window.windowError='Missing i18n key "'+n+'" in namespace "'+t+'" and language "'+e+'."',console.error(window.windowError)}},(function(){p().locale(r().language)})),r().on("languageChanged",(function(e){p().locale(e)}))}}]);
//# sourceMappingURL=988.b330fc4def91913d999f.js.map