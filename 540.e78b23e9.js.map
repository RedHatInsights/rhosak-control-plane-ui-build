{"version":3,"sources":["webpack://kas-ui/./node_modules/@patternfly/react-icons/dist/js/icons/ban-icon.js","webpack://kas-ui/./node_modules/@patternfly/react-icons/dist/js/icons/check-icon.js","webpack://kas-ui/./src/app/hooks/useTimeout.ts","webpack://kas-ui/./src/app/hooks/usePageVisibility.ts","webpack://kas-ui/./src/app/modules/OpenshiftStreams/OpenshiftStreams.tsx"],"names":["exports","name","height","width","svgPath","yOffset","xOffset","useTimeout","callback","delay","savedCallback","useRef","useEffect","current","setTimeout","clearInterval","getIsDocumentHidden","document","doc","hidden","msHidden","webkitHidden","usePageVisibility","useState","isVisible","setIsVisible","onVisibilityChange","visibilityChange","addEventListener","removeEventListener","OpenshiftStreams","onConnectToRoute","getConnectToRoutePath","preCreateInstance","tokenEndPointUrl","auth","useAuth","basePath","useConfig","location","searchParams","URLSearchParams","search","page","parseInt","get","perPage","mainToggle","has","t","useTranslation","addAlert","useAlert","showModal","localStorage","window","qsContext","QuickStartContext","kafkaInstanceItems","setKafkaInstanceItems","kafkas","setKafkas","kafkaInstancesList","setKafkaInstancesList","cloudProviders","setCloudProviders","kafkaDataLoaded","setKafkaDataLoaded","orderBy","setOrderBy","selectedInstance","setSelectedInstance","expectedTotal","setExpectedTotal","undefined","isDisplayKafkaEmptyState","setIsDisplayKafkaEmptyState","filterSelected","setFilterSelected","filteredValue","setFilteredValue","isUserUnauthorized","setIsUserUnauthorized","isMobileModalOpen","setIsMobileModalOpen","waitingForDelete","setWaitingForDelete","isMaxCapacityReached","setIsMaxCapacityReached","loggedInUser","setLoggedInUser","currentUserKafkas","setCurrentUserKafkas","activeTab","instanceDetail","updateSelectedKafkaInstance","length","selectedKafkaItem","filter","kafka","id","newState","fetchKafkaServiceStatus","kas","getToken","accessToken","serviceStatus","then","res","maxCapacityReached","data","max_capacity_reached","handleServerError","getUsername","username","count","getItem","newCount","setItem","handleMobileModal","handleCreateInstanceModal","open","onCreate","refresh","refreshKafkas","onViewInstance","instance","onViewConnection","error","reason","errorCode","response","code","AlertVariant","fetchKafkas","listKafkas","toString","filters","forEach","filterKey","filterValue","push","map","val","value","trim","isExact","join","kafkaInstances","kafkaItems","items","total","kafkaItemsLength","fetchCurrentUserKafkas","fetchKafkasOnborading","fetchCloudProviders","listCloudProviders","providers","enabledCloudProviders","p","enabled","onDelete","PageSection","variant","PageSectionVariants","padding","default","isFilled","titleProps","title","headingLevel","emptyStateIconProps","icon","emptyStateBodyProps","body","getLoggedInUserKafkaInstance","kafkaItem","owner","getButtonTooltipContent","isKafkaInstanceExist","content","createInstanceLabel","Tooltip","Label","className","tabIndex","color","isExpanded","isLoading","onClose","notRequiredDrawerContentBackground","Level","LevelItem","TextContent","Text","component","Alert","isInline","created_at","format","emptyStateProps","EmptyStateVariant","Button","ButtonVariant","isSmall","size","TitleSizes","onClick","setActiveQuickStart","isDisabledCreateButton","isAriaDisabled","createInstanceButton","Card","isDrawerOpen","buttonTooltipContent","labelWithTooltip","currentUserkafkas","Modal","ModalVariant","isOpen","actions","key"],"mappings":"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","file":"540.e78b23e9.js","sourcesContent":["\"use strict\"\nexports.__esModule = true;\nexports.BanIconConfig = {\n  name: 'BanIcon',\n  height: 512,\n  width: 512,\n  svgPath: 'M256 8C119.034 8 8 119.033 8 256s111.034 248 248 248 248-111.034 248-248S392.967 8 256 8zm130.108 117.892c65.448 65.448 70 165.481 20.677 235.637L150.47 105.216c70.204-49.356 170.226-44.735 235.638 20.676zM125.892 386.108c-65.448-65.448-70-165.481-20.677-235.637L361.53 406.784c-70.203 49.356-170.226 44.736-235.638-20.676z',\n  yOffset: 0,\n  xOffset: 0,\n};\nexports.BanIcon = require('../createIcon').createIcon(exports.BanIconConfig);\nexports[\"default\"] = exports.BanIcon;","\"use strict\"\nexports.__esModule = true;\nexports.CheckIconConfig = {\n  name: 'CheckIcon',\n  height: 512,\n  width: 512,\n  svgPath: 'M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z',\n  yOffset: 0,\n  xOffset: 0,\n};\nexports.CheckIcon = require('../createIcon').createIcon(exports.CheckIconConfig);\nexports[\"default\"] = exports.CheckIcon;","import { useEffect, useRef } from 'react';\n\nexport function useTimeout<T>(callback: T, delay: number): void {\n  const savedCallback = useRef<any>();\n\n  useEffect(() => {\n    savedCallback.current = callback;\n  }, [callback]);\n\n  useEffect(() => {\n    function tick() {\n      savedCallback.current();\n    }\n    if (delay !== null) {\n      const id = setTimeout(tick, delay);\n      return () => {\n        clearInterval(id);\n      };\n    }\n    return;\n  }, [callback, delay]);\n}\n","import React, { useEffect, useState } from 'react';\n\ntype XDocument = Document & {\n  msHidden: string\n  webkitHidden: string\n};\n\nexport function getBrowserVisibilityProp(): string {\n  const doc: XDocument = document as XDocument;\n  if (typeof doc.hidden !== 'undefined') {\n    // Opera 12.10 and Firefox 18 and later support\n    return 'visibilitychange';\n  } else if (typeof doc.msHidden !== 'undefined') {\n    return 'msvisibilitychange';\n  } else if (typeof doc.webkitHidden !== 'undefined') {\n    return 'webkitvisibilitychange';\n  }\n  return '';\n}\nexport function getBrowserDocumentHiddenProp(): string {\n    const doc: XDocument = document as XDocument;\n  if (typeof doc.hidden !== 'undefined') {\n    return 'hidden';\n  } else if (typeof doc.msHidden !== 'undefined') {\n    return 'msHidden';\n  } else if (typeof doc.webkitHidden !== 'undefined') {\n    return 'webkitHidden';\n  }\n  return '';\n}\nexport function getIsDocumentHidden(): boolean {\n  return !document[getBrowserDocumentHiddenProp()];\n}\n\nexport function usePageVisibility(): { isVisible: boolean, setIsVisible: React.Dispatch<React.SetStateAction<boolean>>} {\n  const [isVisible, setIsVisible] = useState(getIsDocumentHidden());\n  const onVisibilityChange = () => setIsVisible(getIsDocumentHidden());\n  useEffect(() => {\n    const visibilityChange = getBrowserVisibilityProp();\n    document.addEventListener(visibilityChange, onVisibilityChange, false);\n    return () => {\n      document.removeEventListener(visibilityChange, onVisibilityChange);\n    };\n  });\n  return {isVisible,setIsVisible};\n}\n","import React, { useEffect, useState } from 'react';\nimport { useLocation } from 'react-router';\nimport { useTranslation } from 'react-i18next';\nimport localizedFormat from 'dayjs/plugin/localizedFormat';\nimport dayjs from 'dayjs';\nimport {\n  Level,\n  LevelItem,\n  PageSection,\n  PageSectionVariants,\n  TextContent,\n  Text,\n  AlertVariant,\n  Alert,\n  Button,\n  ButtonVariant,\n  Tooltip,\n  EmptyStateVariant,\n  TitleSizes,\n  Label,\n  Modal,\n  ModalVariant,\n  Card,\n} from '@patternfly/react-core';\nimport CheckCircleIcon from '@patternfly/react-icons/dist/js/icons/check-circle-icon';\nimport BanIcon from '@patternfly/react-icons/dist/js/icons/ban-icon';\nimport CheckIcon from '@patternfly/react-icons/dist/js/icons/check-icon';\nimport { useRootModalContext, MODAL_TYPES } from '@app/common';\nimport { useTimeout } from '@app/hooks/useTimeout';\nimport { isServiceApiError, ErrorCodes, isMobileTablet, InstanceStatus } from '@app/utils';\nimport { MASLoading, MASEmptyState } from '@app/common';\nimport { usePageVisibility } from '@app/hooks/usePageVisibility';\nimport { MAX_POLL_INTERVAL } from '@app/utils';\nimport { QuickStartContext, QuickStartContextValues } from '@cloudmosaic/quickstarts';\nimport { StreamsTableView, FilterType, InstanceDrawer, InstanceDrawerProps, StreamsTableProps } from './components';\nimport { DefaultApi, KafkaRequest, KafkaRequestList, CloudProvider } from '@openapi/api';\nimport './OpenshiftStreams.css';\nimport { useAlert, useAuth, useConfig } from '@bf2/ui-shared';\nimport LockIcon from '@patternfly/react-icons/dist/js/icons/lock-icon';\n\nexport type OpenShiftStreamsProps = Pick<InstanceDrawerProps, 'tokenEndPointUrl'> &\n  Pick<StreamsTableProps, 'onConnectToRoute' | 'getConnectToRoutePath'> & {\n    preCreateInstance: (open: boolean) => Promise<boolean>;\n    createDialogOpen: () => boolean;\n  };\n\ntype SelectedInstance = {\n  instanceDetail: KafkaRequest;\n  activeTab: 'Details' | 'Connection';\n};\n\nconst OpenshiftStreams: React.FunctionComponent<OpenShiftStreamsProps> = ({\n  onConnectToRoute,\n  getConnectToRoutePath,\n  preCreateInstance,\n  tokenEndPointUrl,\n}: OpenShiftStreamsProps) => {\n  dayjs.extend(localizedFormat);\n\n  const auth = useAuth();\n  const {\n    kas: { apiBasePath: basePath },\n  } = useConfig();\n  const { isVisible } = usePageVisibility();\n  const location = useLocation();\n  const searchParams = new URLSearchParams(location.search);\n  const page = parseInt(searchParams.get('page') || '', 10) || 1;\n  const perPage = parseInt(searchParams.get('perPage') || '', 10) || 10;\n  const mainToggle = searchParams.has('user-testing');\n  const { t } = useTranslation();\n  const { addAlert } = useAlert();\n  const { showModal } = useRootModalContext();\n  const localStorage = window.localStorage;\n  const qsContext: QuickStartContextValues = React.useContext(QuickStartContext);\n\n  // States\n  const [kafkaInstanceItems, setKafkaInstanceItems] = useState<KafkaRequest[] | undefined>();\n  const [kafkas, setKafkas] = useState<KafkaRequest[] | undefined>();\n  const [kafkaInstancesList, setKafkaInstancesList] = useState<KafkaRequestList>({} as KafkaRequestList);\n  const [cloudProviders, setCloudProviders] = useState<CloudProvider[]>([]);\n  const [kafkaDataLoaded, setKafkaDataLoaded] = useState(false);\n  const [orderBy, setOrderBy] = useState<string>('created_at desc');\n  const [selectedInstance, setSelectedInstance] = useState<SelectedInstance | null>();\n  // state to store the expected total kafka instances based on the operation\n  const [expectedTotal, setExpectedTotal] = useState<number>(0);\n  const [isDisplayKafkaEmptyState, setIsDisplayKafkaEmptyState] = useState<boolean | undefined>(undefined);\n  const [filterSelected, setFilterSelected] = useState('name');\n  const [filteredValue, setFilteredValue] = useState<FilterType[]>([]);\n  const [isUserUnauthorized, setIsUserUnauthorized] = useState<boolean>(false);\n  const [isMobileModalOpen, setIsMobileModalOpen] = useState<boolean>(false);\n  const [waitingForDelete, setWaitingForDelete] = useState<boolean>(false);\n  const [isMaxCapacityReached, setIsMaxCapacityReached] = useState<boolean | undefined>(undefined);\n  const [loggedInUser, setLoggedInUser] = useState<string | undefined>(undefined);\n  const [currentUserKafkas, setCurrentUserKafkas] = useState<KafkaRequest[] | undefined>();\n\n  const { activeTab, instanceDetail } = selectedInstance || {};\n\n  const updateSelectedKafkaInstance = () => {\n    if (kafkaInstanceItems && kafkaInstanceItems?.length > 0) {\n      const selectedKafkaItem = kafkaInstanceItems?.filter(\n        (kafka) => kafka?.id === selectedInstance?.instanceDetail?.id\n      )[0];\n      const newState: any = { ...selectedInstance, instanceDetail: selectedKafkaItem };\n      selectedKafkaItem && setSelectedInstance(newState);\n    }\n  };\n\n  const fetchKafkaServiceStatus = async () => {\n    const accessToken = await auth?.kas.getToken();\n\n    if (accessToken) {\n      try {\n        const apisService = new DefaultApi({\n          accessToken,\n          basePath,\n        });\n\n        await apisService.serviceStatus().then((res) => {\n          const maxCapacityReached = res?.data?.kafkas?.max_capacity_reached || mainToggle;\n          setIsMaxCapacityReached(maxCapacityReached);\n        });\n      } catch (error) {\n        handleServerError(error);\n      }\n    }\n  };\n\n  useEffect(() => {\n    updateSelectedKafkaInstance();\n  }, [kafkaInstanceItems]);\n\n  useEffect(() => {\n    auth?.getUsername().then((username) => setLoggedInUser(username));\n  }, [auth]);\n\n  useEffect(() => {\n    fetchKafkaServiceStatus();\n  }, []);\n\n  useEffect(() => {\n    if (isMobileTablet()) {\n      if (localStorage) {\n        const count = parseInt(localStorage.getItem('openSessions') || '0');\n        const newCount = count + 1;\n        if (count < 1) {\n          localStorage.setItem('openSessions', `${newCount}`);\n          setIsMobileModalOpen(true);\n        }\n      }\n    }\n  }, [localStorage]);\n\n  const handleMobileModal = () => {\n    setIsMobileModalOpen(!isMobileModalOpen);\n  };\n\n\n\n  const handleCreateInstanceModal = async (open: boolean) => {\n    if (open) {\n      // Callback before opening create dialog\n      // The callback can override the new state of opening\n      open = await preCreateInstance(open);\n    }\n    open &&\n      showModal(MODAL_TYPES.CREATE_KAFKA_INSTANCE, {\n        onCreate,\n        cloudProviders,\n        mainToggle,\n        refresh: refreshKafkas,\n      });\n  };\n\n  const onCloseDrawer = () => {\n    setSelectedInstance(null);\n  };\n\n  const onViewInstance = (instance: KafkaRequest) => {\n    setSelectedInstance({ instanceDetail: instance, activeTab: 'Details' });\n  };\n\n  const onViewConnection = (instance: KafkaRequest) => {\n    setSelectedInstance({ instanceDetail: instance, activeTab: 'Connection' });\n  };\n\n  const getFilterString = () => {\n    const filters: string[] = [];\n    filteredValue.forEach((filter) => {\n      const { filterKey, filterValue } = filter;\n      if (filterValue && filterValue.length > 0) {\n        filters.push(\n          filterValue\n            .map((val) => {\n              const value = val.value.trim();\n              if (value === InstanceStatus.PROVISIONING) {\n                return `${filterKey} = ${InstanceStatus.PREPARING} or ${filterKey} = ${InstanceStatus.PROVISIONING}`;\n              }\n              if (value === InstanceStatus.DEPROVISION) {\n                return `${filterKey} = ${InstanceStatus.DEPROVISION} or ${filterKey} = ${InstanceStatus.DELETED}`;\n              }\n              return value !== '' ? `${filterKey} ${val.isExact === true ? `= ${value}` : `like %${value}%`}` : '';\n            })\n            .join(' or ')\n        );\n      }\n    });\n    return filters.join(' or ');\n  };\n\n  const handleServerError = (error: Error) => {\n    let reason: string | undefined;\n    let errorCode: string | undefined;\n    if (isServiceApiError(error)) {\n      reason = error.response?.data.reason;\n      errorCode = error.response?.data?.code;\n    }\n    //check unauthorize user\n    if (errorCode === ErrorCodes.UNAUTHORIZED_USER) {\n      setIsUserUnauthorized(true);\n    } else {\n      addAlert(t('common.something_went_wrong'), AlertVariant.danger, reason);\n    }\n  };\n\n  // Functions\n  const fetchKafkas = async () => {\n    const accessToken = await auth?.kas.getToken();\n\n    if (accessToken && isVisible) {\n      try {\n        const apisService = new DefaultApi({\n          accessToken,\n          basePath,\n        });\n\n        await apisService.listKafkas(page?.toString(), perPage?.toString(), orderBy, getFilterString()).then((res) => {\n          const kafkaInstances = res.data;\n          const kafkaItems = kafkaInstances?.items || [];\n          setKafkaInstancesList(kafkaInstances);\n          setKafkaInstanceItems(kafkaItems);\n\n          if (kafkaInstancesList?.total !== undefined && kafkaInstancesList.total > expectedTotal) {\n            setExpectedTotal(kafkaInstancesList.total);\n          }\n\n          if (waitingForDelete && filteredValue.length < 1 && kafkaItems?.length == 0) {\n            setIsDisplayKafkaEmptyState(true);\n            setWaitingForDelete(false);\n          }\n\n          setKafkaDataLoaded(true);\n        });\n      } catch (error) {\n        handleServerError(error);\n      }\n    }\n  };\n\n  const fetchSingleKafka = async () => {\n    const accessToken = await auth?.kas.getToken();\n    if (accessToken && isVisible) {\n      try {\n        const apisService = new DefaultApi({\n          accessToken,\n          basePath,\n        });\n\n        await apisService.listKafkas('1', '1').then((res) => {\n          const kafkaItemsLength = res?.data?.items?.length;\n          if (!kafkaItemsLength || kafkaItemsLength < 1) {\n            setIsDisplayKafkaEmptyState(true);\n          } else {\n            setIsDisplayKafkaEmptyState(false);\n          }\n        });\n      } catch (error) {\n        handleServerError(error);\n      }\n    }\n  };\n\n  useEffect(() => {\n    if (!kafkaInstanceItems || kafkaInstanceItems?.length <= 1) {\n      fetchSingleKafka();\n    }\n  }, [kafkaInstanceItems]);\n\n  const fetchCurrentUserKafkas = async () => {\n    const accessToken = await auth?.kas.getToken();\n    const filter = `owner = ${loggedInUser}`;\n    if (accessToken && isVisible) {\n      try {\n        const apisService = new DefaultApi({\n          accessToken,\n          basePath,\n        });\n        await apisService.listKafkas('', '', '', filter).then((res) => {\n          const kafkaInstances = res.data;\n          setCurrentUserKafkas(kafkaInstances.items);\n        });\n      } catch (error) {\n        handleServerError(error);\n      }\n    }\n  };\n\n  useEffect(() => {\n    loggedInUser && fetchCurrentUserKafkas();\n  }, [loggedInUser]);\n\n  useTimeout(() => fetchCurrentUserKafkas(), MAX_POLL_INTERVAL);\n\n  /**\n   * Todo:remove after summit\n   */\n  const fetchKafkasOnborading = async () => {\n    const accessToken = await auth?.kas.getToken();\n    const filter = loggedInUser ? `owner = ${loggedInUser}` : '';\n    if (accessToken && isVisible) {\n      try {\n        const apisService = new DefaultApi({\n          accessToken,\n          basePath,\n        });\n        await apisService.listKafkas('1', '1', '', filter).then((res) => {\n          const kafkaInstances = res.data;\n          setKafkas(kafkaInstances.items);\n        });\n      } catch (error) {\n        handleServerError(error);\n      }\n    }\n  };\n\n  const fetchCloudProviders = async () => {\n    const accessToken = await auth?.kas.getToken();\n    if (accessToken) {\n      try {\n        const apisService = new DefaultApi({\n          accessToken,\n          basePath,\n        });\n        await apisService.listCloudProviders().then((res) => {\n          const providers = res?.data?.items || [];\n          const enabledCloudProviders: CloudProvider[] = providers?.filter((p: CloudProvider) => p.enabled);\n          setCloudProviders(enabledCloudProviders);\n        });\n      } catch (error) {\n        let reason: string | undefined;\n        if (isServiceApiError(error)) {\n          reason = error.response?.data.reason;\n        }\n\n        addAlert(t('common.something_went_wrong'), AlertVariant.danger, reason);\n      }\n    }\n  };\n\n  useEffect(() => {\n    setKafkaDataLoaded(false);\n    fetchKafkas();\n  }, [auth, page, perPage, filteredValue, orderBy]);\n\n  useEffect(() => {\n    fetchCloudProviders();\n    fetchKafkas();\n  }, [fetchCloudProviders]);\n\n  /**\n   * Todo:remove after summit\n   */\n  useEffect(() => {\n    fetchKafkasOnborading();\n  }, []);\n\n  useEffect(() => {\n    updateSelectedKafkaInstance();\n  }, [kafkaInstanceItems]);\n\n  useEffect(() => {\n    auth?.getUsername().then((username) => setLoggedInUser(username));\n  }, [auth]);\n\n  useEffect(() => {\n    fetchKafkaServiceStatus();\n  }, []);\n\n  useEffect(() => {\n    if (isMobileTablet()) {\n      if (localStorage) {\n        const count = localStorage.getItem('openSessions') || 0;\n        const newCount = parseInt(count) + 1;\n        if (count < 1) {\n          localStorage.setItem('openSessions', newCount);\n          setIsMobileModalOpen(true);\n        }\n      }\n    }\n  }, [localStorage]);\n\n  useTimeout(() => fetchKafkasOnborading(), MAX_POLL_INTERVAL);\n\n  useTimeout(() => fetchKafkas(), MAX_POLL_INTERVAL);\n\n  const refreshKafkas = () => {\n    //set the page to laoding state\n    if (kafkaInstanceItems && kafkaInstanceItems?.length === 1) {\n      setKafkaDataLoaded(true);\n    } else {\n      setKafkaDataLoaded(false);\n    }\n    fetchKafkas();\n  };\n\n  // Function to pre-empt the number of kafka instances for Skeleton Loading in the table (add 1)\n  const onCreate = () => {\n    setExpectedTotal(kafkaInstancesList.total + 1);\n  };\n\n  // Function to pre-empt the number of kafka instances for Skeleton Loading in the table (delete 1)\n  const onDelete = () => {\n    setKafkaDataLoaded(false);\n    setExpectedTotal(kafkaInstancesList.total - 1);\n  };\n\n  if (isUserUnauthorized) {\n    return (\n      <PageSection variant={PageSectionVariants.default} padding={{ default: 'noPadding' }} isFilled>\n        <MASEmptyState\n          titleProps={{ title: t('access_permissions_needed'), headingLevel: 'h2' }}\n          emptyStateIconProps={{\n            icon: LockIcon,\n          }}\n          emptyStateBodyProps={{ body: t('to_access_kafka_instances_contact_your_organization_administrators') }}\n        />\n      </PageSection>\n    );\n  }\n\n  /**\n   * Todo: remove after summit\n   */\n  const getLoggedInUserKafkaInstance = () => {\n    let kafkaItem: KafkaRequest | undefined = kafkaInstanceItems?.filter((kafka) => kafka.owner === loggedInUser)[0];\n    if (!kafkaItem) {\n      kafkaItem = kafkas?.filter((kafka) => kafka.owner === loggedInUser)[0];\n    }\n    return kafkaItem;\n  };\n\n  /**\n   * Todo: remove after summit\n   */\n  const renderAlertMessage = () => {\n    const kafka = getLoggedInUserKafkaInstance();\n    if (kafka) {\n      return (\n        <Alert\n          variant=\"info\"\n          isInline\n          title={`${kafka?.name} was created on ${dayjs(kafka?.created_at).format('LLLL')}`}\n          className=\"pf-u-mt-lg\"\n        >\n          This preview instance will expire 48 hours after creation.\n        </Alert>\n      );\n    }\n    return <></>;\n  };\n\n  /**\n   * Todo: remove after summit\n   */\n  const getButtonTooltipContent = () => {\n    const isKafkaInstanceExist = getLoggedInUserKafkaInstance() !== undefined;\n    const isDisabledCreateButton = isKafkaInstanceExist || isMaxCapacityReached;\n    let content = '';\n    if (isDisabledCreateButton) {\n      if (isMaxCapacityReached && isKafkaInstanceExist) {\n        content = 'You can deploy 1 preview instance at a time.';\n      } else if (isMaxCapacityReached) {\n        content = 'Development preview instances are currently unavailable for creation.';\n      } else {\n        content = 'You can deploy 1 preview instance at a time.';\n      }\n    }\n    return content;\n  };\n\n  const createInstanceButton = () => {\n    const isKafkaInstanceExist = getLoggedInUserKafkaInstance() !== undefined;\n    const isDisabledCreateButton = isKafkaInstanceExist || isMaxCapacityReached;\n    if (isDisabledCreateButton) {\n      const content = getButtonTooltipContent();\n      return (\n        <Tooltip content={content}>\n          <Button\n            data-testid=\"emptyStateStreams-buttonCreateKafka\"\n            variant={ButtonVariant.primary}\n            onClick={() => handleCreateInstanceModal(true)}\n            isAriaDisabled={isDisabledCreateButton}\n          >\n            {t('create_kafka_instance')}\n          </Button>\n        </Tooltip>\n      );\n    }\n    return (\n      <Button\n        data-testid=\"emptyStateStreams-buttonCreateKafka\"\n        variant={ButtonVariant.primary}\n        onClick={() => handleCreateInstanceModal(true)}\n      >\n        {t('create_kafka_instance')}\n      </Button>\n    );\n  };\n\n  /**\n   * Todo: remove after summit\n   */\n  const getLabelTooltipContent = () => {\n    let content = '';\n    if (isMaxCapacityReached) {\n      content = 'Development preview instances are currently unavailable for creation.';\n    } else {\n      content =\n        'Development preview instances are available for creation. You can deploy 1 preview instance at a time.';\n    }\n    return content;\n  };\n\n  /**\n   * Todo: remove after summit\n   */\n  const createInstanceLabel = () => {\n    const content = getLabelTooltipContent();\n    if (isMaxCapacityReached) {\n      return (\n        <Tooltip content={content}>\n          <Label icon={<BanIcon />} className=\"pf-u-ml-md\" tabIndex={0}>\n            No instances available\n          </Label>\n        </Tooltip>\n      );\n    } else {\n      return (\n        <Tooltip content={content}>\n          <Label color=\"green\" icon={<CheckIcon />} className=\"pf-u-ml-md\" tabIndex={0}>\n            Instances available\n          </Label>\n        </Tooltip>\n      );\n    }\n  };\n\n  const renderStreamsTable = () => {\n    if (kafkaInstanceItems === undefined) {\n      return (\n        <PageSection variant={PageSectionVariants.light} padding={{ default: 'noPadding' }}>\n          <MASLoading />\n        </PageSection>\n      );\n    } else if (isDisplayKafkaEmptyState) {\n      return (\n        <PageSection padding={{ default: 'noPadding' }} isFilled>\n          {isMaxCapacityReached ? (\n            <MASEmptyState\n              emptyStateProps={{\n                variant: EmptyStateVariant.large,\n              }}\n              emptyStateIconProps={{\n                icon: BanIcon,\n              }}\n              emptyStateBodyProps={{\n                body: (\n                  <>\n                    Development preview instances are currently unavailable for creation, so check back later. In the\n                    meantime,{' '}\n                    <Button variant={ButtonVariant.link} isSmall isInline data-testid=\"emptyState-actionTour\">\n                      take a tour\n                    </Button>{' '}\n                    to learn more about the service.\n                  </>\n                ),\n              }}\n              titleProps={{ title: 'Kafka instances unavailable', size: TitleSizes.xl, headingLevel: 'h2' }}\n            ></MASEmptyState>\n          ) : (\n            <MASEmptyState\n              emptyStateProps={{\n                variant: EmptyStateVariant.large,\n              }}\n              emptyStateIconProps={{\n                icon: CheckCircleIcon,\n                color: 'green',\n              }}\n              emptyStateBodyProps={{\n                body: (\n                  <>\n                    Development preview instances are available for creation. For help getting started, access the{' '}\n                    <Button\n                      variant={ButtonVariant.link}\n                      isSmall\n                      isInline\n                      onClick={() => qsContext.setActiveQuickStart && qsContext.setActiveQuickStart('getting-started')}\n                    >\n                      quick start guide.\n                    </Button>\n                  </>\n                ),\n              }}\n              titleProps={{ title: 'Kafka instances available', size: TitleSizes.xl, headingLevel: 'h2' }}\n            >\n              {createInstanceButton()}\n            </MASEmptyState>\n          )}\n        </PageSection>\n      );\n    } else if (kafkaInstanceItems && isDisplayKafkaEmptyState !== undefined) {\n      return (\n        <PageSection\n          className=\"mk--main-page__page-section--table pf-m-padding-on-xl\"\n          variant={PageSectionVariants.default}\n          padding={{ default: 'noPadding' }}\n        >\n          <Card>\n            <StreamsTableView\n              kafkaInstanceItems={kafkaInstanceItems}\n              mainToggle={mainToggle}\n              onViewConnection={onViewConnection}\n              onViewInstance={onViewInstance}\n              onConnectToRoute={onConnectToRoute}\n              getConnectToRoutePath={getConnectToRoutePath}\n              refresh={refreshKafkas}\n              kafkaDataLoaded={kafkaDataLoaded}\n              setWaitingForDelete={setWaitingForDelete}\n              onDelete={onDelete}\n              page={page}\n              perPage={perPage}\n              total={kafkaInstancesList?.total}\n              expectedTotal={expectedTotal}\n              filteredValue={filteredValue}\n              setFilteredValue={setFilteredValue}\n              setFilterSelected={setFilterSelected}\n              filterSelected={filterSelected}\n              orderBy={orderBy}\n              setOrderBy={setOrderBy}\n              isDrawerOpen={selectedInstance !== null}\n              loggedInUser={loggedInUser}\n              isMaxCapacityReached={isMaxCapacityReached}\n              buttonTooltipContent={getButtonTooltipContent()}\n              isDisabledCreateButton={getLoggedInUserKafkaInstance() !== undefined || isMaxCapacityReached}\n              labelWithTooltip={createInstanceLabel()}\n              currentUserkafkas={currentUserKafkas}\n              onCreate={onCreate}\n              cloudProviders={cloudProviders}\n            />\n          </Card>\n        </PageSection>\n      );\n    }\n    return <></>;\n  };\n\n  return (\n    <>\n      <InstanceDrawer\n        mainToggle={mainToggle}\n        isExpanded={selectedInstance != null}\n        activeTab={activeTab}\n        isLoading={instanceDetail === undefined}\n        instanceDetail={instanceDetail}\n        onClose={onCloseDrawer}\n        data-ouia-app-id=\"controlPlane-streams\"\n        getConnectToRoutePath={getConnectToRoutePath}\n        onConnectToRoute={onConnectToRoute}\n        tokenEndPointUrl={tokenEndPointUrl}\n        notRequiredDrawerContentBackground={isDisplayKafkaEmptyState}\n      >\n        <main className=\"pf-c-page__main\">\n          <PageSection variant={PageSectionVariants.light}>\n            <Level>\n              <LevelItem>\n                <TextContent>\n                  <Text component=\"h1\">{t('kafka_instances')}</Text>\n                </TextContent>\n              </LevelItem>\n            </Level>\n            {renderAlertMessage()}\n          </PageSection>\n          {renderStreamsTable()}\n        </main>\n      </InstanceDrawer>\n      <Modal\n        variant={ModalVariant.small}\n        title=\"Mobile experience\"\n        isOpen={isMobileModalOpen}\n        onClose={() => handleMobileModal()}\n        actions={[\n          <Button key=\"confirm\" variant=\"primary\" onClick={() => handleMobileModal()}>\n            Ok\n          </Button>,\n        ]}\n      >\n        The mobile experience isn&apos;t fully optimized yet, so some items might not appear correctly.\n      </Modal>\n    </>\n  );\n};\n\nexport { OpenshiftStreams };\n"],"sourceRoot":""}