(self.webpackChunkkas_ui=self.webpackChunkkas_ui||[]).push([[9050,273],{56176:function(e){e.exports=function(){"use strict";var e={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};return function(t,n,a){var s=n.prototype,o=s.format;a.en.formats=e,s.format=function(t){void 0===t&&(t="YYYY-MM-DDTHH:mm:ssZ");var n=this.$locale().formats,a=function(t,n){return t.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,(function(t,a,s){var o=s&&s.toUpperCase();return a||n[s]||e[s]||n[o].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,(function(e,t,n){return t||n.slice(1)}))}))}(t,void 0===n?{}:n);return o.call(this,a)}}}()},71958:()=>{},95368:(e,t,n)=>{"use strict";n.d(t,{JH:()=>i,ti:()=>a,N1:()=>s,SP:()=>r});var a=function(){this.cloud_provider="",this.multi_az=!0,this.region="",this.name=""},s=function(){this.name="",this.description=""},o=n(75418),i=n.n(o)().createContext(void 0),r=function(){return(0,o.useContext)(i)}},30273:(e,t,n)=>{"use strict";n.r(t),n.d(t,{DeleteInstance:()=>l,DeleteInstanceModal:()=>c,default:()=>d});var a=n(70655),s=n(75418),o=n.n(s),i=n(54532),r=n(45024),u=n(75381),l=function(){var e=(0,r.QK)(),t=e.store,n=e.hideModal,s=(0,a.__assign)((0,a.__assign)({},null==t?void 0:t.modalProps),{hideModal:n});return o().createElement(c,(0,a.__assign)({},s))},c=function(e){var t=e||{},n=t.title,l=t.confirmButtonProps,c=t.cancelButtonProps,d=t.textProps,f=t.instanceStatus,v=t.selectedItemData,p=t.onClose,h=t.hideModal,m=(0,i.useTranslation)().t,M=null==v?void 0:v.name,_=(0,s.useState)(),g=_[0],D=_[1],k=function(){return f===u.Od.READY&&(null==g?void 0:g.toLowerCase())!==(null==M?void 0:M.toLowerCase())};return o().createElement(r.AX,{isModalOpen:!0,title:n,confirmButtonProps:(0,a.__assign)({isDisabled:k(),"data-testid":"modalDeleteKafka-buttonDelete"},l),cancelButtonProps:c,handleModalToggle:function(){D(""),h(),p&&p()},textProps:d,selectedItemData:v,textInputProps:{showTextInput:f===u.Od.READY,label:m("instance_name_label",{name:M}),value:g,onChange:function(e){D(e)},onKeyPress:function(e){"Enter"!==e.key||k()||(null==l?void 0:l.onClick)&&l.onClick(v)},autoFocus:!0}})};const d=l},41486:(e,t,n)=>{"use strict";n.r(t),n.d(t,{DeleteInstanceConnected:()=>h,default:()=>m});var a=n(70655),s=n(75418),o=n.n(s),i=n(76007),r=n(54532),u=n(58788),l=n(95216),c=n(365),d=n(45024),f=n(92717),v=n(30273),p=n(75381),h=function(){var e=((0,l.useAlert)()||{}).addAlert,t=(0,r.useTranslation)().t,n=(0,l.useAuth)(),h=(((0,l.useConfig)()||{}).kas||{}).apiBasePath,m=(0,i.useHistory)(),M=(0,d.QK)(),_=M.store,g=M.hideModal,D=(null==_?void 0:_.modalProps)||{},k=D.selectedItemData,Y=D.setIsOpenDeleteInstanceModal,L=k||{},C=L.status,P=L.name,w=L.id,b=(0,s.useState)(void 0),A=b[0],I=b[1],T=(0,s.useState)(!1),S=T[0],x=T[1],y=(0,c.ez)(t,C,P,A),B=y.title,E=y.confirmActionLabel,K=y.description;(0,s.useEffect)((function(){z()}),[]);var H=function(){Y&&Y(!1)},O=function(n){var a,s;(0,p.G6)(n)&&(s=null===(a=n.response)||void 0===a?void 0:a.data.reason),e&&e({title:t("something_went_wrong"),variant:u.AlertVariant.danger,description:s})},z=function(){return(0,a.__awaiter)(void 0,void 0,void 0,(function(){var e,t;return(0,a.__generator)(this,(function(a){switch(a.label){case 0:return[4,null==n?void 0:n.kas.getToken()];case 1:if(!(e=a.sent()))return[3,5];a.label=2;case 2:return a.trys.push([2,4,,5]),[4,new f.DefaultApi(new f.Configuration({accessToken:e,basePath:h})).getServiceStatus().then((function(e){var t,n,a=null===(n=null===(t=null==e?void 0:e.data)||void 0===t?void 0:t.kafkas)||void 0===n?void 0:n.max_capacity_reached;I(a)}))];case 3:return a.sent(),[3,5];case 4:return t=a.sent(),O(t),[3,5];case 5:return[2]}}))}))},Q=(0,a.__assign)((0,a.__assign)({},null==_?void 0:_.modalProps),{hideModal:g,title:B,confirmButtonProps:{onClick:function(){return(0,a.__awaiter)(void 0,void 0,void 0,(function(){var e,t;return(0,a.__generator)(this,(function(a){switch(a.label){case 0:return[4,null==n?void 0:n.kas.getToken()];case 1:if(!(e=a.sent())||!w)return[3,5];a.label=2;case 2:return a.trys.push([2,4,,5]),x(!0),[4,new f.DefaultApi(new f.Configuration({accessToken:e,basePath:h})).deleteKafkaById(w,!0).then((function(){x(!1),H(),m.push("/streams/kafkas")}))];case 3:return a.sent(),[3,5];case 4:return t=a.sent(),x(!1),O(t),[3,5];case 5:return[2]}}))}))},label:E,isLoading:S},textProps:{description:K},onClose:H,instanceStatus:C});return o().createElement(v.DeleteInstanceModal,(0,a.__assign)({},Q))};const m=h}}]);
//# sourceMappingURL=9050.8bee69ad.js.map